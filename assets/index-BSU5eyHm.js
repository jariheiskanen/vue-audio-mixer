(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const v of u.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&n(v)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Ga(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const e0={},wt=[],U0=()=>{},L1=()=>!1,mr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ya=e=>e.startsWith("onUpdate:"),d0=Object.assign,Ua=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Zs=Object.prototype.hasOwnProperty,Je=(e,t)=>Zs.call(e,t),je=Array.isArray,Et=e=>br(e)==="[object Map]",O1=e=>br(e)==="[object Set]",Ze=e=>typeof e=="function",u0=e=>typeof e=="string",ut=e=>typeof e=="symbol",l0=e=>e!==null&&typeof e=="object",N1=e=>(l0(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),F1=Object.prototype.toString,br=e=>F1.call(e),Qs=e=>br(e).slice(8,-1),V1=e=>br(e)==="[object Object]",Ka=e=>u0(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dt=Ga(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pr=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},$s=/-\w/g,ot=pr(e=>e.replace($s,t=>t.slice(1).toUpperCase())),zs=/\B([A-Z])/g,pt=pr(e=>e.replace(zs,"-$1").toLowerCase()),H1=pr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pr=pr(e=>e?`on${H1(e)}`:""),lt=(e,t)=>!Object.is(e,t),sr=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},k1=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},ja=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bn;const Sr=()=>bn||(bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Q0(e){if(je(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=u0(n)?ti(n):Q0(n);if(o)for(const u in o)t[u]=o[u]}return t}else if(u0(e)||l0(e))return e}const gs=/;(?![^(]*\))/g,Js=/:([^]+)/,ei=/\/\*[^]*?\*\//g;function ti(e){const t={};return e.replace(ei,"").split(gs).forEach(r=>{if(r){const n=r.split(Js);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function xr(e){let t="";if(u0(e))t=e;else if(je(e))for(let r=0;r<e.length;r++){const n=xr(e[r]);n&&(t+=n+" ")}else if(l0(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const ri="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ai=Ga(ri);function P1(e){return!!e||e===""}const D1=e=>!!(e&&e.__v_isRef===!0),at=e=>u0(e)?e:e==null?"":je(e)||l0(e)&&(e.toString===F1||!Ze(e.toString))?D1(e)?at(e.value):JSON.stringify(e,q1,2):String(e),q1=(e,t)=>D1(t)?q1(e,t.value):Et(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,o],u)=>(r[Dr(n,u)+" =>"]=o,r),{})}:O1(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Dr(r))}:ut(t)?Dr(t):l0(t)&&!je(t)&&!V1(t)?String(t):t,Dr=(e,t="")=>{var r;return ut(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};let M0;class ni{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=M0,!t&&M0&&(this.index=(M0.scopes||(M0.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=M0;try{return M0=this,t()}finally{M0=r}}}on(){++this._on===1&&(this.prevScope=M0,M0=this)}off(){this._on>0&&--this._on===0&&(M0=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function si(){return M0}let a0;const qr=new WeakSet;class X1{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,M0&&M0.active&&M0.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qr.has(this)&&(qr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Y1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pn(this),U1(this);const t=a0,r=P0;a0=this,P0=!0;try{return this.fn()}finally{K1(this),a0=t,P0=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qa(t);this.deps=this.depsTail=void 0,pn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){La(this)&&this.run()}get dirty(){return La(this)}}let G1=0,qt,Xt;function Y1(e,t=!1){if(e.flags|=8,t){e.next=Xt,Xt=e;return}e.next=qt,qt=e}function Wa(){G1++}function Za(){if(--G1>0)return;if(Xt){let t=Xt;for(Xt=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;qt;){let t=qt;for(qt=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function U1(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function K1(e){let t,r=e.depsTail,n=r;for(;n;){const o=n.prevDep;n.version===-1?(n===r&&(r=o),Qa(n),ii(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=r}function La(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(j1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function j1(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===jt)||(e.globalVersion=jt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!La(e))))return;e.flags|=2;const t=e.dep,r=a0,n=P0;a0=e,P0=!0;try{U1(e);const o=e.fn(e._value);(t.version===0||lt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{a0=r,P0=n,K1(e),e.flags&=-3}}function Qa(e,t=!1){const{dep:r,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let u=r.computed.deps;u;u=u.nextDep)Qa(u,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function ii(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let P0=!0;const W1=[];function J0(){W1.push(P0),P0=!1}function et(){const e=W1.pop();P0=e===void 0?!0:e}function pn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=a0;a0=void 0;try{t()}finally{a0=r}}}let jt=0;class li{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $a{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!a0||!P0||a0===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==a0)r=this.activeLink=new li(a0,this),a0.deps?(r.prevDep=a0.depsTail,a0.depsTail.nextDep=r,a0.depsTail=r):a0.deps=a0.depsTail=r,Z1(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=a0.depsTail,r.nextDep=void 0,a0.depsTail.nextDep=r,a0.depsTail=r,a0.deps===r&&(a0.deps=n)}return r}trigger(t){this.version++,jt++,this.notify(t)}notify(t){Wa();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Za()}}}function Z1(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Z1(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Oa=new WeakMap,mt=Symbol(""),Na=Symbol(""),Wt=Symbol("");function v0(e,t,r){if(P0&&a0){let n=Oa.get(e);n||Oa.set(e,n=new Map);let o=n.get(r);o||(n.set(r,o=new $a),o.map=n,o.key=r),o.track()}}function $0(e,t,r,n,o,u){const v=Oa.get(e);if(!v){jt++;return}const m=d=>{d&&d.trigger()};if(Wa(),t==="clear")v.forEach(m);else{const d=je(e),L=d&&Ka(r);if(d&&r==="length"){const b=Number(n);v.forEach((S,I)=>{(I==="length"||I===Wt||!ut(I)&&I>=b)&&m(S)})}else switch((r!==void 0||v.has(void 0))&&m(v.get(r)),L&&m(v.get(Wt)),t){case"add":d?L&&m(v.get("length")):(m(v.get(mt)),Et(e)&&m(v.get(Na)));break;case"delete":d||(m(v.get(mt)),Et(e)&&m(v.get(Na)));break;case"set":Et(e)&&m(v.get(mt));break}}Za()}function xt(e){const t=ge(e);return t===e?t:(v0(t,"iterate",Wt),O0(e)?t:t.map(D0))}function Ar(e){return v0(e=ge(e),"iterate",Wt),e}function nt(e,t){return tt(e)?It(bt(e)?D0(t):t):D0(t)}const oi={__proto__:null,[Symbol.iterator](){return Xr(this,Symbol.iterator,e=>nt(this,e))},concat(...e){return xt(this).concat(...e.map(t=>je(t)?xt(t):t))},entries(){return Xr(this,"entries",e=>(e[1]=nt(this,e[1]),e))},every(e,t){return W0(this,"every",e,t,void 0,arguments)},filter(e,t){return W0(this,"filter",e,t,r=>r.map(n=>nt(this,n)),arguments)},find(e,t){return W0(this,"find",e,t,r=>nt(this,r),arguments)},findIndex(e,t){return W0(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return W0(this,"findLast",e,t,r=>nt(this,r),arguments)},findLastIndex(e,t){return W0(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return W0(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gr(this,"includes",e)},indexOf(...e){return Gr(this,"indexOf",e)},join(e){return xt(this).join(e)},lastIndexOf(...e){return Gr(this,"lastIndexOf",e)},map(e,t){return W0(this,"map",e,t,void 0,arguments)},pop(){return Vt(this,"pop")},push(...e){return Vt(this,"push",e)},reduce(e,...t){return Sn(this,"reduce",e,t)},reduceRight(e,...t){return Sn(this,"reduceRight",e,t)},shift(){return Vt(this,"shift")},some(e,t){return W0(this,"some",e,t,void 0,arguments)},splice(...e){return Vt(this,"splice",e)},toReversed(){return xt(this).toReversed()},toSorted(e){return xt(this).toSorted(e)},toSpliced(...e){return xt(this).toSpliced(...e)},unshift(...e){return Vt(this,"unshift",e)},values(){return Xr(this,"values",e=>nt(this,e))}};function Xr(e,t,r){const n=Ar(e),o=n[t]();return n!==e&&!O0(e)&&(o._next=o.next,o.next=()=>{const u=o._next();return u.done||(u.value=r(u.value)),u}),o}const _i=Array.prototype;function W0(e,t,r,n,o,u){const v=Ar(e),m=v!==e&&!O0(e),d=v[t];if(d!==_i[t]){const S=d.apply(e,u);return m?D0(S):S}let L=r;v!==e&&(m?L=function(S,I){return r.call(this,nt(e,S),I,e)}:r.length>2&&(L=function(S,I){return r.call(this,S,I,e)}));const b=d.call(v,L,n);return m&&o?o(b):b}function Sn(e,t,r,n){const o=Ar(e);let u=r;return o!==e&&(O0(e)?r.length>3&&(u=function(v,m,d){return r.call(this,v,m,d,e)}):u=function(v,m,d){return r.call(this,v,nt(e,m),d,e)}),o[t](u,...n)}function Gr(e,t,r){const n=ge(e);v0(n,"iterate",Wt);const o=n[t](...r);return(o===-1||o===!1)&&en(r[0])?(r[0]=ge(r[0]),n[t](...r)):o}function Vt(e,t,r=[]){J0(),Wa();const n=ge(e)[t].apply(e,r);return Za(),et(),n}const ui=Ga("__proto__,__v_isRef,__isVue"),Q1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ut));function fi(e){ut(e)||(e=String(e));const t=ge(this);return v0(t,"has",e),t.hasOwnProperty(e)}class $1{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const o=this._isReadonly,u=this._isShallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return u;if(r==="__v_raw")return n===(o?u?Ai:es:u?J1:g1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const v=je(t);if(!o){let d;if(v&&(d=oi[r]))return d;if(r==="hasOwnProperty")return fi}const m=Reflect.get(t,r,h0(t)?t:n);if((ut(r)?Q1.has(r):ui(r))||(o||v0(t,"get",r),u))return m;if(h0(m)){const d=v&&Ka(r)?m:m.value;return o&&l0(d)?Va(d):d}return l0(m)?o?Va(m):ga(m):m}}class z1 extends $1{constructor(t=!1){super(!1,t)}set(t,r,n,o){let u=t[r];const v=je(t)&&Ka(r);if(!this._isShallow){const L=tt(u);if(!O0(n)&&!tt(n)&&(u=ge(u),n=ge(n)),!v&&h0(u)&&!h0(n))return L||(u.value=n),!0}const m=v?Number(r)<t.length:Je(t,r),d=Reflect.set(t,r,n,h0(t)?t:o);return t===ge(o)&&(m?lt(n,u)&&$0(t,"set",r,n):$0(t,"add",r,n)),d}deleteProperty(t,r){const n=Je(t,r);t[r];const o=Reflect.deleteProperty(t,r);return o&&n&&$0(t,"delete",r,void 0),o}has(t,r){const n=Reflect.has(t,r);return(!ut(r)||!Q1.has(r))&&v0(t,"has",r),n}ownKeys(t){return v0(t,"iterate",je(t)?"length":mt),Reflect.ownKeys(t)}}class ci extends $1{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const vi=new z1,hi=new ci,di=new z1(!0);const Fa=e=>e,tr=e=>Reflect.getPrototypeOf(e);function mi(e,t,r){return function(...n){const o=this.__v_raw,u=ge(o),v=Et(u),m=e==="entries"||e===Symbol.iterator&&v,d=e==="keys"&&v,L=o[e](...n),b=r?Fa:t?It:D0;return!t&&v0(u,"iterate",d?Na:mt),d0(Object.create(L),{next(){const{value:S,done:I}=L.next();return I?{value:S,done:I}:{value:m?[b(S[0]),b(S[1])]:b(S),done:I}}})}}function rr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bi(e,t){const r={get(o){const u=this.__v_raw,v=ge(u),m=ge(o);e||(lt(o,m)&&v0(v,"get",o),v0(v,"get",m));const{has:d}=tr(v),L=t?Fa:e?It:D0;if(d.call(v,o))return L(u.get(o));if(d.call(v,m))return L(u.get(m));u!==v&&u.get(o)},get size(){const o=this.__v_raw;return!e&&v0(ge(o),"iterate",mt),o.size},has(o){const u=this.__v_raw,v=ge(u),m=ge(o);return e||(lt(o,m)&&v0(v,"has",o),v0(v,"has",m)),o===m?u.has(o):u.has(o)||u.has(m)},forEach(o,u){const v=this,m=v.__v_raw,d=ge(m),L=t?Fa:e?It:D0;return!e&&v0(d,"iterate",mt),m.forEach((b,S)=>o.call(u,L(b),L(S),v))}};return d0(r,e?{add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear")}:{add(o){!t&&!O0(o)&&!tt(o)&&(o=ge(o));const u=ge(this);return tr(u).has.call(u,o)||(u.add(o),$0(u,"add",o,o)),this},set(o,u){!t&&!O0(u)&&!tt(u)&&(u=ge(u));const v=ge(this),{has:m,get:d}=tr(v);let L=m.call(v,o);L||(o=ge(o),L=m.call(v,o));const b=d.call(v,o);return v.set(o,u),L?lt(u,b)&&$0(v,"set",o,u):$0(v,"add",o,u),this},delete(o){const u=ge(this),{has:v,get:m}=tr(u);let d=v.call(u,o);d||(o=ge(o),d=v.call(u,o)),m&&m.call(u,o);const L=u.delete(o);return d&&$0(u,"delete",o,void 0),L},clear(){const o=ge(this),u=o.size!==0,v=o.clear();return u&&$0(o,"clear",void 0,void 0),v}}),["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=mi(o,e,t)}),r}function za(e,t){const r=bi(e,t);return(n,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(Je(r,o)&&o in n?r:n,o,u)}const pi={get:za(!1,!1)},Si={get:za(!1,!0)},xi={get:za(!0,!1)};const g1=new WeakMap,J1=new WeakMap,es=new WeakMap,Ai=new WeakMap;function Mi(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ri(e){return e.__v_skip||!Object.isExtensible(e)?0:Mi(Qs(e))}function ga(e){return tt(e)?e:Ja(e,!1,vi,pi,g1)}function yi(e){return Ja(e,!1,di,Si,J1)}function Va(e){return Ja(e,!0,hi,xi,es)}function Ja(e,t,r,n,o){if(!l0(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=Ri(e);if(u===0)return e;const v=o.get(e);if(v)return v;const m=new Proxy(e,u===2?n:r);return o.set(e,m),m}function bt(e){return tt(e)?bt(e.__v_raw):!!(e&&e.__v_isReactive)}function tt(e){return!!(e&&e.__v_isReadonly)}function O0(e){return!!(e&&e.__v_isShallow)}function en(e){return e?!!e.__v_raw:!1}function ge(e){const t=e&&e.__v_raw;return t?ge(t):e}function wi(e){return!Je(e,"__v_skip")&&Object.isExtensible(e)&&k1(e,"__v_skip",!0),e}const D0=e=>l0(e)?ga(e):e,It=e=>l0(e)?Va(e):e;function h0(e){return e?e.__v_isRef===!0:!1}function r0(e){return Ei(e,!1)}function Ei(e,t){return h0(e)?e:new Ti(e,t)}class Ti{constructor(t,r){this.dep=new $a,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:ge(t),this._value=r?t:D0(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||O0(t)||tt(t);t=n?t:ge(t),lt(t,r)&&(this._rawValue=t,this._value=n?t:D0(t),this.dep.trigger())}}function Bi(e){return h0(e)?e.value:e}const Ii={get:(e,t,r)=>t==="__v_raw"?e:Bi(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const o=e[t];return h0(o)&&!h0(r)?(o.value=r,!0):Reflect.set(e,t,r,n)}};function ts(e){return bt(e)?e:new Proxy(e,Ii)}class Ci{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new $a(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&a0!==this)return Y1(this,!0),!0}get value(){const t=this.dep.track();return j1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Li(e,t,r=!1){let n,o;return Ze(e)?n=e:(n=e.get,o=e.set),new Ci(n,o,r)}const ar={},_r=new WeakMap;let dt;function Oi(e,t=!1,r=dt){if(r){let n=_r.get(r);n||_r.set(r,n=[]),n.push(e)}}function Ni(e,t,r=e0){const{immediate:n,deep:o,once:u,scheduler:v,augmentJob:m,call:d}=r,L=k=>o?k:O0(k)||o===!1||o===0?z0(k,1):z0(k);let b,S,I,W,$=!1,y=!1;if(h0(e)?(S=()=>e.value,$=O0(e)):bt(e)?(S=()=>L(e),$=!0):je(e)?(y=!0,$=e.some(k=>bt(k)||O0(k)),S=()=>e.map(k=>{if(h0(k))return k.value;if(bt(k))return L(k);if(Ze(k))return d?d(k,2):k()})):Ze(e)?t?S=d?()=>d(e,2):e:S=()=>{if(I){J0();try{I()}finally{et()}}const k=dt;dt=b;try{return d?d(e,3,[W]):e(W)}finally{dt=k}}:S=U0,t&&o){const k=S,V=o===!0?1/0:o;S=()=>z0(k(),V)}const O=si(),A=()=>{b.stop(),O&&O.active&&Ua(O.effects,b)};if(u&&t){const k=t;t=(...V)=>{k(...V),A()}}let X=y?new Array(e.length).fill(ar):ar;const l=k=>{if(!(!(b.flags&1)||!b.dirty&&!k))if(t){const V=b.run();if(o||$||(y?V.some((ae,Z)=>lt(ae,X[Z])):lt(V,X))){I&&I();const ae=dt;dt=b;try{const Z=[V,X===ar?void 0:y&&X[0]===ar?[]:X,W];X=V,d?d(t,3,Z):t(...Z)}finally{dt=ae}}}else b.run()};return m&&m(l),b=new X1(S),b.scheduler=v?()=>v(l,!1):l,W=k=>Oi(k,!1,b),I=b.onStop=()=>{const k=_r.get(b);if(k){if(d)d(k,4);else for(const V of k)V();_r.delete(b)}},t?n?l(!0):X=b.run():v?v(l.bind(null,!0),!0):b.run(),A.pause=b.pause.bind(b),A.resume=b.resume.bind(b),A.stop=A,A}function z0(e,t=1/0,r){if(t<=0||!l0(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,h0(e))z0(e.value,t,r);else if(je(e))for(let n=0;n<e.length;n++)z0(e[n],t,r);else if(O1(e)||Et(e))e.forEach(n=>{z0(n,t,r)});else if(V1(e)){for(const n in e)z0(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&z0(e[n],t,r)}return e}function zt(e,t,r,n){try{return n?e(...n):e()}catch(o){Mr(o,t,r)}}function K0(e,t,r,n){if(Ze(e)){const o=zt(e,t,r,n);return o&&N1(o)&&o.catch(u=>{Mr(u,t,r)}),o}if(je(e)){const o=[];for(let u=0;u<e.length;u++)o.push(K0(e[u],t,r,n));return o}}function Mr(e,t,r,n=!0){const o=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:v}=t&&t.appContext.config||e0;if(t){let m=t.parent;const d=t.proxy,L=`https://vuejs.org/error-reference/#runtime-${r}`;for(;m;){const b=m.ec;if(b){for(let S=0;S<b.length;S++)if(b[S](e,d,L)===!1)return}m=m.parent}if(u){J0(),zt(u,null,10,[e,d,L]),et();return}}Fi(e,r,o,n,v)}function Fi(e,t,r,n=!0,o=!1){if(o)throw e;console.error(e)}const p0=[];let G0=-1;const Tt=[];let st=null,Mt=0;const rs=Promise.resolve();let ur=null;function Vi(e){const t=ur||rs;return e?t.then(this?e.bind(this):e):t}function Hi(e){let t=G0+1,r=p0.length;for(;t<r;){const n=t+r>>>1,o=p0[n],u=Zt(o);u<e||u===e&&o.flags&2?t=n+1:r=n}return t}function tn(e){if(!(e.flags&1)){const t=Zt(e),r=p0[p0.length-1];!r||!(e.flags&2)&&t>=Zt(r)?p0.push(e):p0.splice(Hi(t),0,e),e.flags|=1,as()}}function as(){ur||(ur=rs.then(ss))}function ki(e){je(e)?Tt.push(...e):st&&e.id===-1?st.splice(Mt+1,0,e):e.flags&1||(Tt.push(e),e.flags|=1),as()}function xn(e,t,r=G0+1){for(;r<p0.length;r++){const n=p0[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;p0.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ns(e){if(Tt.length){const t=[...new Set(Tt)].sort((r,n)=>Zt(r)-Zt(n));if(Tt.length=0,st){st.push(...t);return}for(st=t,Mt=0;Mt<st.length;Mt++){const r=st[Mt];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}st=null,Mt=0}}const Zt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ss(e){try{for(G0=0;G0<p0.length;G0++){const t=p0[G0];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),zt(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;G0<p0.length;G0++){const t=p0[G0];t&&(t.flags&=-2)}G0=-1,p0.length=0,ns(),ur=null,(p0.length||Tt.length)&&ss()}}let L0=null,is=null;function fr(e){const t=L0;return L0=e,is=e&&e.type.__scopeId||null,t}function Pi(e,t=L0,r){if(!t||e._n)return e;const n=(...o)=>{n._d&&Cn(-1);const u=fr(t);let v;try{v=e(...o)}finally{fr(u),n._d&&Cn(1)}return v};return n._n=!0,n._c=!0,n._d=!0,n}function Yr(e,t){if(L0===null)return e;const r=Er(L0),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[u,v,m,d=e0]=t[o];u&&(Ze(u)&&(u={mounted:u,updated:u}),u.deep&&z0(v),n.push({dir:u,instance:r,value:v,oldValue:void 0,arg:m,modifiers:d}))}return e}function vt(e,t,r,n){const o=e.dirs,u=t&&t.dirs;for(let v=0;v<o.length;v++){const m=o[v];u&&(m.oldValue=u[v].value);let d=m.dir[n];d&&(J0(),K0(d,r,8,[e.el,m,e,t]),et())}}function Di(e,t){if(S0){let r=S0.provides;const n=S0.parent&&S0.parent.provides;n===r&&(r=S0.provides=Object.create(n)),r[e]=t}}function ir(e,t,r=!1){const n=Pl();if(n||Bt){let o=Bt?Bt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return r&&Ze(t)?t.call(n&&n.proxy):t}}const qi=Symbol.for("v-scx"),Xi=()=>ir(qi);function Ur(e,t,r){return ls(e,t,r)}function ls(e,t,r=e0){const{immediate:n,deep:o,flush:u,once:v}=r,m=d0({},r),d=t&&n||!t&&u!=="post";let L;if($t){if(u==="sync"){const W=Xi();L=W.__watcherHandles||(W.__watcherHandles=[])}else if(!d){const W=()=>{};return W.stop=U0,W.resume=U0,W.pause=U0,W}}const b=S0;m.call=(W,$,y)=>K0(W,b,$,y);let S=!1;u==="post"?m.scheduler=W=>{B0(W,b&&b.suspense)}:u!=="sync"&&(S=!0,m.scheduler=(W,$)=>{$?W():tn(W)}),m.augmentJob=W=>{t&&(W.flags|=4),S&&(W.flags|=2,b&&(W.id=b.uid,W.i=b))};const I=Ni(e,t,m);return $t&&(L?L.push(I):d&&I()),I}function Gi(e,t,r){const n=this.proxy,o=u0(e)?e.includes(".")?os(n,e):()=>n[e]:e.bind(n,n);let u;Ze(t)?u=t:(u=t.handler,r=t);const v=gt(this),m=ls(o,u.bind(n),r);return v(),m}function os(e,t){const r=t.split(".");return()=>{let n=e;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}const Yi=Symbol("_vte"),Ui=e=>e.__isTeleport,Ki=Symbol("_leaveCb");function rn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,rn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _s(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const cr=new WeakMap;function Gt(e,t,r,n,o=!1){if(je(e)){e.forEach(($,y)=>Gt($,t&&(je(t)?t[y]:t),r,n,o));return}if(Yt(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Gt(e,t,r,n.component.subTree);return}const u=n.shapeFlag&4?Er(n.component):n.el,v=o?null:u,{i:m,r:d}=e,L=t&&t.r,b=m.refs===e0?m.refs={}:m.refs,S=m.setupState,I=ge(S),W=S===e0?L1:$=>Je(I,$);if(L!=null&&L!==d){if(An(t),u0(L))b[L]=null,W(L)&&(S[L]=null);else if(h0(L)){L.value=null;const $=t;$.k&&(b[$.k]=null)}}if(Ze(d))zt(d,m,12,[v,b]);else{const $=u0(d),y=h0(d);if($||y){const O=()=>{if(e.f){const A=$?W(d)?S[d]:b[d]:d.value;if(o)je(A)&&Ua(A,u);else if(je(A))A.includes(u)||A.push(u);else if($)b[d]=[u],W(d)&&(S[d]=b[d]);else{const X=[u];d.value=X,e.k&&(b[e.k]=X)}}else $?(b[d]=v,W(d)&&(S[d]=v)):y&&(d.value=v,e.k&&(b[e.k]=v))};if(v){const A=()=>{O(),cr.delete(e)};A.id=-1,cr.set(e,A),B0(A,r)}else An(e),O()}}}function An(e){const t=cr.get(e);t&&(t.flags|=8,cr.delete(e))}Sr().requestIdleCallback;Sr().cancelIdleCallback;const Yt=e=>!!e.type.__asyncLoader,us=e=>e.type.__isKeepAlive;function ji(e,t){fs(e,"a",t)}function Wi(e,t){fs(e,"da",t)}function fs(e,t,r=S0){const n=e.__wdc||(e.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Rr(t,n,r),r){let o=r.parent;for(;o&&o.parent;)us(o.parent.vnode)&&Zi(n,t,r,o),o=o.parent}}function Zi(e,t,r,n){const o=Rr(t,e,n,!0);hs(()=>{Ua(n[t],o)},r)}function Rr(e,t,r=S0,n=!1){if(r){const o=r[e]||(r[e]=[]),u=t.__weh||(t.__weh=(...v)=>{J0();const m=gt(r),d=K0(t,r,e,v);return m(),et(),d});return n?o.unshift(u):o.push(u),u}}const rt=e=>(t,r=S0)=>{(!$t||e==="sp")&&Rr(e,(...n)=>t(...n),r)},Qi=rt("bm"),cs=rt("m"),$i=rt("bu"),zi=rt("u"),vs=rt("bum"),hs=rt("um"),gi=rt("sp"),Ji=rt("rtg"),el=rt("rtc");function tl(e,t=S0){Rr("ec",e,t)}const rl=Symbol.for("v-ndc");function al(e,t,r,n){let o;const u=r,v=je(e);if(v||u0(e)){const m=v&&bt(e);let d=!1,L=!1;m&&(d=!O0(e),L=tt(e),e=Ar(e)),o=new Array(e.length);for(let b=0,S=e.length;b<S;b++)o[b]=t(d?L?It(D0(e[b])):D0(e[b]):e[b],b,void 0,u)}else if(typeof e=="number"){o=new Array(e);for(let m=0;m<e;m++)o[m]=t(m+1,m,void 0,u)}else if(l0(e))if(e[Symbol.iterator])o=Array.from(e,(m,d)=>t(m,d,void 0,u));else{const m=Object.keys(e);o=new Array(m.length);for(let d=0,L=m.length;d<L;d++){const b=m[d];o[d]=t(e[b],b,d,u)}}else o=[];return o}const Ha=e=>e?Vs(e)?Er(e):Ha(e.parent):null,Ut=d0(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ha(e.parent),$root:e=>Ha(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ms(e),$forceUpdate:e=>e.f||(e.f=()=>{tn(e.update)}),$nextTick:e=>e.n||(e.n=Vi.bind(e.proxy)),$watch:e=>Gi.bind(e)}),Kr=(e,t)=>e!==e0&&!e.__isScriptSetup&&Je(e,t),nl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:o,props:u,accessCache:v,type:m,appContext:d}=e;if(t[0]!=="$"){const I=v[t];if(I!==void 0)switch(I){case 1:return n[t];case 2:return o[t];case 4:return r[t];case 3:return u[t]}else{if(Kr(n,t))return v[t]=1,n[t];if(o!==e0&&Je(o,t))return v[t]=2,o[t];if(Je(u,t))return v[t]=3,u[t];if(r!==e0&&Je(r,t))return v[t]=4,r[t];ka&&(v[t]=0)}}const L=Ut[t];let b,S;if(L)return t==="$attrs"&&v0(e.attrs,"get",""),L(e);if((b=m.__cssModules)&&(b=b[t]))return b;if(r!==e0&&Je(r,t))return v[t]=4,r[t];if(S=d.config.globalProperties,Je(S,t))return S[t]},set({_:e},t,r){const{data:n,setupState:o,ctx:u}=e;return Kr(o,t)?(o[t]=r,!0):n!==e0&&Je(n,t)?(n[t]=r,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,props:u,type:v}},m){let d;return!!(r[m]||e!==e0&&m[0]!=="$"&&Je(e,m)||Kr(t,m)||Je(u,m)||Je(n,m)||Je(Ut,m)||Je(o.config.globalProperties,m)||(d=v.__cssModules)&&d[m])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Je(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Mn(e){return je(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let ka=!0;function sl(e){const t=ms(e),r=e.proxy,n=e.ctx;ka=!1,t.beforeCreate&&Rn(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:v,watch:m,provide:d,inject:L,created:b,beforeMount:S,mounted:I,beforeUpdate:W,updated:$,activated:y,deactivated:O,beforeDestroy:A,beforeUnmount:X,destroyed:l,unmounted:k,render:V,renderTracked:ae,renderTriggered:Z,errorCaptured:K,serverPrefetch:ve,expose:Ae,inheritAttrs:ee,components:B,directives:Ne,filters:j}=t;if(L&&il(L,n,null),v)for(const R in v){const P=v[R];Ze(P)&&(n[R]=P.bind(r))}if(o){const R=o.call(r,r);l0(R)&&(e.data=ga(R))}if(ka=!0,u)for(const R in u){const P=u[R],G=Ze(P)?P.bind(r,r):Ze(P.get)?P.get.bind(r,r):U0,x=!Ze(P)&&Ze(P.set)?P.set.bind(r):U0,a=yt({get:G,set:x});Object.defineProperty(n,R,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s})}if(m)for(const R in m)ds(m[R],n,r,R);if(d){const R=Ze(d)?d.call(r):d;Reflect.ownKeys(R).forEach(P=>{Di(P,R[P])})}b&&Rn(b,e,"c");function c(R,P){je(P)?P.forEach(G=>R(G.bind(r))):P&&R(P.bind(r))}if(c(Qi,S),c(cs,I),c($i,W),c(zi,$),c(ji,y),c(Wi,O),c(tl,K),c(el,ae),c(Ji,Z),c(vs,X),c(hs,k),c(gi,ve),je(Ae))if(Ae.length){const R=e.exposed||(e.exposed={});Ae.forEach(P=>{Object.defineProperty(R,P,{get:()=>r[P],set:G=>r[P]=G,enumerable:!0})})}else e.exposed||(e.exposed={});V&&e.render===U0&&(e.render=V),ee!=null&&(e.inheritAttrs=ee),B&&(e.components=B),Ne&&(e.directives=Ne),ve&&_s(e)}function il(e,t,r=U0){je(e)&&(e=Pa(e));for(const n in e){const o=e[n];let u;l0(o)?"default"in o?u=ir(o.from||n,o.default,!0):u=ir(o.from||n):u=ir(o),h0(u)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>u.value,set:v=>u.value=v}):t[n]=u}}function Rn(e,t,r){K0(je(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function ds(e,t,r,n){let o=n.includes(".")?os(r,n):()=>r[n];if(u0(e)){const u=t[e];Ze(u)&&Ur(o,u)}else if(Ze(e))Ur(o,e.bind(r));else if(l0(e))if(je(e))e.forEach(u=>ds(u,t,r,n));else{const u=Ze(e.handler)?e.handler.bind(r):t[e.handler];Ze(u)&&Ur(o,u,e)}}function ms(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:v}}=e.appContext,m=u.get(t);let d;return m?d=m:!o.length&&!r&&!n?d=t:(d={},o.length&&o.forEach(L=>vr(d,L,v,!0)),vr(d,t,v)),l0(t)&&u.set(t,d),d}function vr(e,t,r,n=!1){const{mixins:o,extends:u}=t;u&&vr(e,u,r,!0),o&&o.forEach(v=>vr(e,v,r,!0));for(const v in t)if(!(n&&v==="expose")){const m=ll[v]||r&&r[v];e[v]=m?m(e[v],t[v]):t[v]}return e}const ll={data:yn,props:wn,emits:wn,methods:Pt,computed:Pt,beforeCreate:b0,created:b0,beforeMount:b0,mounted:b0,beforeUpdate:b0,updated:b0,beforeDestroy:b0,beforeUnmount:b0,destroyed:b0,unmounted:b0,activated:b0,deactivated:b0,errorCaptured:b0,serverPrefetch:b0,components:Pt,directives:Pt,watch:_l,provide:yn,inject:ol};function yn(e,t){return t?e?function(){return d0(Ze(e)?e.call(this,this):e,Ze(t)?t.call(this,this):t)}:t:e}function ol(e,t){return Pt(Pa(e),Pa(t))}function Pa(e){if(je(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function b0(e,t){return e?[...new Set([].concat(e,t))]:t}function Pt(e,t){return e?d0(Object.create(null),e,t):t}function wn(e,t){return e?je(e)&&je(t)?[...new Set([...e,...t])]:d0(Object.create(null),Mn(e),Mn(t??{})):t}function _l(e,t){if(!e)return t;if(!t)return e;const r=d0(Object.create(null),e);for(const n in t)r[n]=b0(e[n],t[n]);return r}function bs(){return{app:null,config:{isNativeTag:L1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ul=0;function fl(e,t){return function(n,o=null){Ze(n)||(n=d0({},n)),o!=null&&!l0(o)&&(o=null);const u=bs(),v=new WeakSet,m=[];let d=!1;const L=u.app={_uid:ul++,_component:n,_props:o,_container:null,_context:u,_instance:null,version:Ul,get config(){return u.config},set config(b){},use(b,...S){return v.has(b)||(b&&Ze(b.install)?(v.add(b),b.install(L,...S)):Ze(b)&&(v.add(b),b(L,...S))),L},mixin(b){return u.mixins.includes(b)||u.mixins.push(b),L},component(b,S){return S?(u.components[b]=S,L):u.components[b]},directive(b,S){return S?(u.directives[b]=S,L):u.directives[b]},mount(b,S,I){if(!d){const W=L._ceVNode||g0(n,o);return W.appContext=u,I===!0?I="svg":I===!1&&(I=void 0),e(W,b,I),d=!0,L._container=b,b.__vue_app__=L,Er(W.component)}},onUnmount(b){m.push(b)},unmount(){d&&(K0(m,L._instance,16),e(null,L._container),delete L._container.__vue_app__)},provide(b,S){return u.provides[b]=S,L},runWithContext(b){const S=Bt;Bt=L;try{return b()}finally{Bt=S}}};return L}}let Bt=null;const cl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ot(t)}Modifiers`]||e[`${pt(t)}Modifiers`];function vl(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||e0;let o=r;const u=t.startsWith("update:"),v=u&&cl(n,t.slice(7));v&&(v.trim&&(o=r.map(b=>u0(b)?b.trim():b)),v.number&&(o=r.map(ja)));let m,d=n[m=Pr(t)]||n[m=Pr(ot(t))];!d&&u&&(d=n[m=Pr(pt(t))]),d&&K0(d,e,6,o);const L=n[m+"Once"];if(L){if(!e.emitted)e.emitted={};else if(e.emitted[m])return;e.emitted[m]=!0,K0(L,e,6,o)}}const hl=new WeakMap;function ps(e,t,r=!1){const n=r?hl:t.emitsCache,o=n.get(e);if(o!==void 0)return o;const u=e.emits;let v={},m=!1;if(!Ze(e)){const d=L=>{const b=ps(L,t,!0);b&&(m=!0,d0(v,b))};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!u&&!m?(l0(e)&&n.set(e,null),null):(je(u)?u.forEach(d=>v[d]=null):d0(v,u),l0(e)&&n.set(e,v),v)}function yr(e,t){return!e||!mr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,pt(t))||Je(e,t))}function En(e){const{type:t,vnode:r,proxy:n,withProxy:o,propsOptions:[u],slots:v,attrs:m,emit:d,render:L,renderCache:b,props:S,data:I,setupState:W,ctx:$,inheritAttrs:y}=e,O=fr(e);let A,X;try{if(r.shapeFlag&4){const k=o||n,V=k;A=Y0(L.call(V,k,b,S,W,I,$)),X=m}else{const k=t;A=Y0(k.length>1?k(S,{attrs:m,slots:v,emit:d}):k(S,null)),X=t.props?m:dl(m)}}catch(k){Kt.length=0,Mr(k,e,1),A=g0(_t)}let l=A;if(X&&y!==!1){const k=Object.keys(X),{shapeFlag:V}=l;k.length&&V&7&&(u&&k.some(Ya)&&(X=ml(X,u)),l=Ct(l,X,!1,!0))}return r.dirs&&(l=Ct(l,null,!1,!0),l.dirs=l.dirs?l.dirs.concat(r.dirs):r.dirs),r.transition&&rn(l,r.transition),A=l,fr(O),A}const dl=e=>{let t;for(const r in e)(r==="class"||r==="style"||mr(r))&&((t||(t={}))[r]=e[r]);return t},ml=(e,t)=>{const r={};for(const n in e)(!Ya(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function bl(e,t,r){const{props:n,children:o,component:u}=e,{props:v,children:m,patchFlag:d}=t,L=u.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return n?Tn(n,v,L):!!v;if(d&8){const b=t.dynamicProps;for(let S=0;S<b.length;S++){const I=b[S];if(v[I]!==n[I]&&!yr(L,I))return!0}}}else return(o||m)&&(!m||!m.$stable)?!0:n===v?!1:n?v?Tn(n,v,L):!0:!!v;return!1}function Tn(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const u=n[o];if(t[u]!==e[u]&&!yr(r,u))return!0}return!1}function pl({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Ss={},xs=()=>Object.create(Ss),As=e=>Object.getPrototypeOf(e)===Ss;function Sl(e,t,r,n=!1){const o={},u=xs();e.propsDefaults=Object.create(null),Ms(e,t,o,u);for(const v in e.propsOptions[0])v in o||(o[v]=void 0);r?e.props=n?o:yi(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function xl(e,t,r,n){const{props:o,attrs:u,vnode:{patchFlag:v}}=e,m=ge(o),[d]=e.propsOptions;let L=!1;if((n||v>0)&&!(v&16)){if(v&8){const b=e.vnode.dynamicProps;for(let S=0;S<b.length;S++){let I=b[S];if(yr(e.emitsOptions,I))continue;const W=t[I];if(d)if(Je(u,I))W!==u[I]&&(u[I]=W,L=!0);else{const $=ot(I);o[$]=Da(d,m,$,W,e,!1)}else W!==u[I]&&(u[I]=W,L=!0)}}}else{Ms(e,t,o,u)&&(L=!0);let b;for(const S in m)(!t||!Je(t,S)&&((b=pt(S))===S||!Je(t,b)))&&(d?r&&(r[S]!==void 0||r[b]!==void 0)&&(o[S]=Da(d,m,S,void 0,e,!0)):delete o[S]);if(u!==m)for(const S in u)(!t||!Je(t,S))&&(delete u[S],L=!0)}L&&$0(e.attrs,"set","")}function Ms(e,t,r,n){const[o,u]=e.propsOptions;let v=!1,m;if(t)for(let d in t){if(Dt(d))continue;const L=t[d];let b;o&&Je(o,b=ot(d))?!u||!u.includes(b)?r[b]=L:(m||(m={}))[b]=L:yr(e.emitsOptions,d)||(!(d in n)||L!==n[d])&&(n[d]=L,v=!0)}if(u){const d=ge(r),L=m||e0;for(let b=0;b<u.length;b++){const S=u[b];r[S]=Da(o,d,S,L[S],e,!Je(L,S))}}return v}function Da(e,t,r,n,o,u){const v=e[r];if(v!=null){const m=Je(v,"default");if(m&&n===void 0){const d=v.default;if(v.type!==Function&&!v.skipFactory&&Ze(d)){const{propsDefaults:L}=o;if(r in L)n=L[r];else{const b=gt(o);n=L[r]=d.call(null,t),b()}}else n=d;o.ce&&o.ce._setProp(r,n)}v[0]&&(u&&!m?n=!1:v[1]&&(n===""||n===pt(r))&&(n=!0))}return n}const Al=new WeakMap;function Rs(e,t,r=!1){const n=r?Al:t.propsCache,o=n.get(e);if(o)return o;const u=e.props,v={},m=[];let d=!1;if(!Ze(e)){const b=S=>{d=!0;const[I,W]=Rs(S,t,!0);d0(v,I),W&&m.push(...W)};!r&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!u&&!d)return l0(e)&&n.set(e,wt),wt;if(je(u))for(let b=0;b<u.length;b++){const S=ot(u[b]);Bn(S)&&(v[S]=e0)}else if(u)for(const b in u){const S=ot(b);if(Bn(S)){const I=u[b],W=v[S]=je(I)||Ze(I)?{type:I}:d0({},I),$=W.type;let y=!1,O=!0;if(je($))for(let A=0;A<$.length;++A){const X=$[A],l=Ze(X)&&X.name;if(l==="Boolean"){y=!0;break}else l==="String"&&(O=!1)}else y=Ze($)&&$.name==="Boolean";W[0]=y,W[1]=O,(y||Je(W,"default"))&&m.push(S)}}const L=[v,m];return l0(e)&&n.set(e,L),L}function Bn(e){return e[0]!=="$"&&!Dt(e)}const an=e=>e==="_"||e==="_ctx"||e==="$stable",nn=e=>je(e)?e.map(Y0):[Y0(e)],Ml=(e,t,r)=>{if(t._n)return t;const n=Pi((...o)=>nn(t(...o)),r);return n._c=!1,n},ys=(e,t,r)=>{const n=e._ctx;for(const o in e){if(an(o))continue;const u=e[o];if(Ze(u))t[o]=Ml(o,u,n);else if(u!=null){const v=nn(u);t[o]=()=>v}}},ws=(e,t)=>{const r=nn(t);e.slots.default=()=>r},Es=(e,t,r)=>{for(const n in t)(r||!an(n))&&(e[n]=t[n])},Rl=(e,t,r)=>{const n=e.slots=xs();if(e.vnode.shapeFlag&32){const o=t._;o?(Es(n,t,r),r&&k1(n,"_",o,!0)):ys(t,n)}else t&&ws(e,t)},yl=(e,t,r)=>{const{vnode:n,slots:o}=e;let u=!0,v=e0;if(n.shapeFlag&32){const m=t._;m?r&&m===1?u=!1:Es(o,t,r):(u=!t.$stable,ys(t,o)),v=t}else t&&(ws(e,t),v={default:1});if(u)for(const m in o)!an(m)&&v[m]==null&&delete o[m]},B0=Il;function wl(e){return El(e)}function El(e,t){const r=Sr();r.__VUE__=!0;const{insert:n,remove:o,patchProp:u,createElement:v,createText:m,createComment:d,setText:L,setElementText:b,parentNode:S,nextSibling:I,setScopeId:W=U0,insertStaticContent:$}=e,y=(w,F,U,ne=null,oe=null,me=null,_=void 0,h=null,ie=!!F.dynamicChildren)=>{if(w===F)return;w&&!Ht(w,F)&&(ne=N(w),s(w,oe,me,!0),w=null),F.patchFlag===-2&&(ie=!1,F.dynamicChildren=null);const{type:te,ref:we,shapeFlag:he}=F;switch(te){case wr:O(w,F,U,ne);break;case _t:A(w,F,U,ne);break;case Wr:w==null&&X(F,U,ne,_);break;case k0:B(w,F,U,ne,oe,me,_,h,ie);break;default:he&1?V(w,F,U,ne,oe,me,_,h,ie):he&6?Ne(w,F,U,ne,oe,me,_,h,ie):(he&64||he&128)&&te.process(w,F,U,ne,oe,me,_,h,ie,z)}we!=null&&oe?Gt(we,w&&w.ref,me,F||w,!F):we==null&&w&&w.ref!=null&&Gt(w.ref,null,me,w,!0)},O=(w,F,U,ne)=>{if(w==null)n(F.el=m(F.children),U,ne);else{const oe=F.el=w.el;F.children!==w.children&&L(oe,F.children)}},A=(w,F,U,ne)=>{w==null?n(F.el=d(F.children||""),U,ne):F.el=w.el},X=(w,F,U,ne)=>{[w.el,w.anchor]=$(w.children,F,U,ne,w.el,w.anchor)},l=({el:w,anchor:F},U,ne)=>{let oe;for(;w&&w!==F;)oe=I(w),n(w,U,ne),w=oe;n(F,U,ne)},k=({el:w,anchor:F})=>{let U;for(;w&&w!==F;)U=I(w),o(w),w=U;o(F)},V=(w,F,U,ne,oe,me,_,h,ie)=>{if(F.type==="svg"?_="svg":F.type==="math"&&(_="mathml"),w==null)ae(F,U,ne,oe,me,_,h,ie);else{const te=w.el&&w.el._isVueCE?w.el:null;try{te&&te._beginPatch(),ve(w,F,oe,me,_,h,ie)}finally{te&&te._endPatch()}}},ae=(w,F,U,ne,oe,me,_,h)=>{let ie,te;const{props:we,shapeFlag:he,transition:pe,dirs:xe}=w;if(ie=w.el=v(w.type,me,we&&we.is,we),he&8?b(ie,w.children):he&16&&K(w.children,ie,null,ne,oe,jr(w,me),_,h),xe&&vt(w,null,ne,"created"),Z(ie,w,w.scopeId,_,ne),we){for(const Ee in we)Ee!=="value"&&!Dt(Ee)&&u(ie,Ee,null,we[Ee],me,ne);"value"in we&&u(ie,"value",null,we.value,me),(te=we.onVnodeBeforeMount)&&X0(te,ne,w)}xe&&vt(w,null,ne,"beforeMount");const Ce=Tl(oe,pe);Ce&&pe.beforeEnter(ie),n(ie,F,U),((te=we&&we.onVnodeMounted)||Ce||xe)&&B0(()=>{te&&X0(te,ne,w),Ce&&pe.enter(ie),xe&&vt(w,null,ne,"mounted")},oe)},Z=(w,F,U,ne,oe)=>{if(U&&W(w,U),ne)for(let me=0;me<ne.length;me++)W(w,ne[me]);if(oe){let me=oe.subTree;if(F===me||Cs(me.type)&&(me.ssContent===F||me.ssFallback===F)){const _=oe.vnode;Z(w,_,_.scopeId,_.slotScopeIds,oe.parent)}}},K=(w,F,U,ne,oe,me,_,h,ie=0)=>{for(let te=ie;te<w.length;te++){const we=w[te]=h?it(w[te]):Y0(w[te]);y(null,we,F,U,ne,oe,me,_,h)}},ve=(w,F,U,ne,oe,me,_)=>{const h=F.el=w.el;let{patchFlag:ie,dynamicChildren:te,dirs:we}=F;ie|=w.patchFlag&16;const he=w.props||e0,pe=F.props||e0;let xe;if(U&&ht(U,!1),(xe=pe.onVnodeBeforeUpdate)&&X0(xe,U,F,w),we&&vt(F,w,U,"beforeUpdate"),U&&ht(U,!0),(he.innerHTML&&pe.innerHTML==null||he.textContent&&pe.textContent==null)&&b(h,""),te?Ae(w.dynamicChildren,te,h,U,ne,jr(F,oe),me):_||P(w,F,h,null,U,ne,jr(F,oe),me,!1),ie>0){if(ie&16)ee(h,he,pe,U,oe);else if(ie&2&&he.class!==pe.class&&u(h,"class",null,pe.class,oe),ie&4&&u(h,"style",he.style,pe.style,oe),ie&8){const Ce=F.dynamicProps;for(let Ee=0;Ee<Ce.length;Ee++){const Se=Ce[Ee],qe=he[Se],Qe=pe[Se];(Qe!==qe||Se==="value")&&u(h,Se,qe,Qe,oe,U)}}ie&1&&w.children!==F.children&&b(h,F.children)}else!_&&te==null&&ee(h,he,pe,U,oe);((xe=pe.onVnodeUpdated)||we)&&B0(()=>{xe&&X0(xe,U,F,w),we&&vt(F,w,U,"updated")},ne)},Ae=(w,F,U,ne,oe,me,_)=>{for(let h=0;h<F.length;h++){const ie=w[h],te=F[h],we=ie.el&&(ie.type===k0||!Ht(ie,te)||ie.shapeFlag&198)?S(ie.el):U;y(ie,te,we,null,ne,oe,me,_,!0)}},ee=(w,F,U,ne,oe)=>{if(F!==U){if(F!==e0)for(const me in F)!Dt(me)&&!(me in U)&&u(w,me,F[me],null,oe,ne);for(const me in U){if(Dt(me))continue;const _=U[me],h=F[me];_!==h&&me!=="value"&&u(w,me,h,_,oe,ne)}"value"in U&&u(w,"value",F.value,U.value,oe)}},B=(w,F,U,ne,oe,me,_,h,ie)=>{const te=F.el=w?w.el:m(""),we=F.anchor=w?w.anchor:m("");let{patchFlag:he,dynamicChildren:pe,slotScopeIds:xe}=F;xe&&(h=h?h.concat(xe):xe),w==null?(n(te,U,ne),n(we,U,ne),K(F.children||[],U,we,oe,me,_,h,ie)):he>0&&he&64&&pe&&w.dynamicChildren&&w.dynamicChildren.length===pe.length?(Ae(w.dynamicChildren,pe,U,oe,me,_,h),(F.key!=null||oe&&F===oe.subTree)&&Ts(w,F,!0)):P(w,F,U,we,oe,me,_,h,ie)},Ne=(w,F,U,ne,oe,me,_,h,ie)=>{F.slotScopeIds=h,w==null?F.shapeFlag&512?oe.ctx.activate(F,U,ne,_,ie):j(F,U,ne,oe,me,_,ie):D(w,F,ie)},j=(w,F,U,ne,oe,me,_)=>{const h=w.component=kl(w,ne,oe);if(us(w)&&(h.ctx.renderer=z),Dl(h,!1,_),h.asyncDep){if(oe&&oe.registerDep(h,c,_),!w.el){const ie=h.subTree=g0(_t);A(null,ie,F,U),w.placeholder=ie.el}}else c(h,w,F,U,oe,me,_)},D=(w,F,U)=>{const ne=F.component=w.component;if(bl(w,F,U))if(ne.asyncDep&&!ne.asyncResolved){R(ne,F,U);return}else ne.next=F,ne.update();else F.el=w.el,ne.vnode=F},c=(w,F,U,ne,oe,me,_)=>{const h=()=>{if(w.isMounted){let{next:he,bu:pe,u:xe,parent:Ce,vnode:Ee}=w;{const de=Bs(w);if(de){he&&(he.el=Ee.el,R(w,he,_)),de.asyncDep.then(()=>{w.isUnmounted||h()});return}}let Se=he,qe;ht(w,!1),he?(he.el=Ee.el,R(w,he,_)):he=Ee,pe&&sr(pe),(qe=he.props&&he.props.onVnodeBeforeUpdate)&&X0(qe,Ce,he,Ee),ht(w,!0);const Qe=En(w),ce=w.subTree;w.subTree=Qe,y(ce,Qe,S(ce.el),N(ce),w,oe,me),he.el=Qe.el,Se===null&&pl(w,Qe.el),xe&&B0(xe,oe),(qe=he.props&&he.props.onVnodeUpdated)&&B0(()=>X0(qe,Ce,he,Ee),oe)}else{let he;const{el:pe,props:xe}=F,{bm:Ce,m:Ee,parent:Se,root:qe,type:Qe}=w,ce=Yt(F);ht(w,!1),Ce&&sr(Ce),!ce&&(he=xe&&xe.onVnodeBeforeMount)&&X0(he,Se,F),ht(w,!0);{qe.ce&&qe.ce._def.shadowRoot!==!1&&qe.ce._injectChildStyle(Qe);const de=w.subTree=En(w);y(null,de,U,ne,w,oe,me),F.el=de.el}if(Ee&&B0(Ee,oe),!ce&&(he=xe&&xe.onVnodeMounted)){const de=F;B0(()=>X0(he,Se,de),oe)}(F.shapeFlag&256||Se&&Yt(Se.vnode)&&Se.vnode.shapeFlag&256)&&w.a&&B0(w.a,oe),w.isMounted=!0,F=U=ne=null}};w.scope.on();const ie=w.effect=new X1(h);w.scope.off();const te=w.update=ie.run.bind(ie),we=w.job=ie.runIfDirty.bind(ie);we.i=w,we.id=w.uid,ie.scheduler=()=>tn(we),ht(w,!0),te()},R=(w,F,U)=>{F.component=w;const ne=w.vnode.props;w.vnode=F,w.next=null,xl(w,F.props,ne,U),yl(w,F.children,U),J0(),xn(w),et()},P=(w,F,U,ne,oe,me,_,h,ie=!1)=>{const te=w&&w.children,we=w?w.shapeFlag:0,he=F.children,{patchFlag:pe,shapeFlag:xe}=F;if(pe>0){if(pe&128){x(te,he,U,ne,oe,me,_,h,ie);return}else if(pe&256){G(te,he,U,ne,oe,me,_,h,ie);return}}xe&8?(we&16&&C(te,oe,me),he!==te&&b(U,he)):we&16?xe&16?x(te,he,U,ne,oe,me,_,h,ie):C(te,oe,me,!0):(we&8&&b(U,""),xe&16&&K(he,U,ne,oe,me,_,h,ie))},G=(w,F,U,ne,oe,me,_,h,ie)=>{w=w||wt,F=F||wt;const te=w.length,we=F.length,he=Math.min(te,we);let pe;for(pe=0;pe<he;pe++){const xe=F[pe]=ie?it(F[pe]):Y0(F[pe]);y(w[pe],xe,U,null,oe,me,_,h,ie)}te>we?C(w,oe,me,!0,!1,he):K(F,U,ne,oe,me,_,h,ie,he)},x=(w,F,U,ne,oe,me,_,h,ie)=>{let te=0;const we=F.length;let he=w.length-1,pe=we-1;for(;te<=he&&te<=pe;){const xe=w[te],Ce=F[te]=ie?it(F[te]):Y0(F[te]);if(Ht(xe,Ce))y(xe,Ce,U,null,oe,me,_,h,ie);else break;te++}for(;te<=he&&te<=pe;){const xe=w[he],Ce=F[pe]=ie?it(F[pe]):Y0(F[pe]);if(Ht(xe,Ce))y(xe,Ce,U,null,oe,me,_,h,ie);else break;he--,pe--}if(te>he){if(te<=pe){const xe=pe+1,Ce=xe<we?F[xe].el:ne;for(;te<=pe;)y(null,F[te]=ie?it(F[te]):Y0(F[te]),U,Ce,oe,me,_,h,ie),te++}}else if(te>pe)for(;te<=he;)s(w[te],oe,me,!0),te++;else{const xe=te,Ce=te,Ee=new Map;for(te=Ce;te<=pe;te++){const Le=F[te]=ie?it(F[te]):Y0(F[te]);Le.key!=null&&Ee.set(Le.key,te)}let Se,qe=0;const Qe=pe-Ce+1;let ce=!1,de=0;const Te=new Array(Qe);for(te=0;te<Qe;te++)Te[te]=0;for(te=xe;te<=he;te++){const Le=w[te];if(qe>=Qe){s(Le,oe,me,!0);continue}let Oe;if(Le.key!=null)Oe=Ee.get(Le.key);else for(Se=Ce;Se<=pe;Se++)if(Te[Se-Ce]===0&&Ht(Le,F[Se])){Oe=Se;break}Oe===void 0?s(Le,oe,me,!0):(Te[Oe-Ce]=te+1,Oe>=de?de=Oe:ce=!0,y(Le,F[Oe],U,null,oe,me,_,h,ie),qe++)}const Ve=ce?Bl(Te):wt;for(Se=Ve.length-1,te=Qe-1;te>=0;te--){const Le=Ce+te,Oe=F[Le],Xe=F[Le+1],Ye=Le+1<we?Xe.el||Is(Xe):ne;Te[te]===0?y(null,Oe,U,Ye,oe,me,_,h,ie):ce&&(Se<0||te!==Ve[Se]?a(Oe,U,Ye,2):Se--)}}},a=(w,F,U,ne,oe=null)=>{const{el:me,type:_,transition:h,children:ie,shapeFlag:te}=w;if(te&6){a(w.component.subTree,F,U,ne);return}if(te&128){w.suspense.move(F,U,ne);return}if(te&64){_.move(w,F,U,z);return}if(_===k0){n(me,F,U);for(let he=0;he<ie.length;he++)a(ie[he],F,U,ne);n(w.anchor,F,U);return}if(_===Wr){l(w,F,U);return}if(ne!==2&&te&1&&h)if(ne===0)h.beforeEnter(me),n(me,F,U),B0(()=>h.enter(me),oe);else{const{leave:he,delayLeave:pe,afterLeave:xe}=h,Ce=()=>{w.ctx.isUnmounted?o(me):n(me,F,U)},Ee=()=>{me._isLeaving&&me[Ki](!0),he(me,()=>{Ce(),xe&&xe()})};pe?pe(me,Ce,Ee):Ee()}else n(me,F,U)},s=(w,F,U,ne=!1,oe=!1)=>{const{type:me,props:_,ref:h,children:ie,dynamicChildren:te,shapeFlag:we,patchFlag:he,dirs:pe,cacheIndex:xe}=w;if(he===-2&&(oe=!1),h!=null&&(J0(),Gt(h,null,U,w,!0),et()),xe!=null&&(F.renderCache[xe]=void 0),we&256){F.ctx.deactivate(w);return}const Ce=we&1&&pe,Ee=!Yt(w);let Se;if(Ee&&(Se=_&&_.onVnodeBeforeUnmount)&&X0(Se,F,w),we&6)p(w.component,U,ne);else{if(we&128){w.suspense.unmount(U,ne);return}Ce&&vt(w,null,F,"beforeUnmount"),we&64?w.type.remove(w,F,U,z,ne):te&&!te.hasOnce&&(me!==k0||he>0&&he&64)?C(te,F,U,!1,!0):(me===k0&&he&384||!oe&&we&16)&&C(ie,F,U),ne&&i(w)}(Ee&&(Se=_&&_.onVnodeUnmounted)||Ce)&&B0(()=>{Se&&X0(Se,F,w),Ce&&vt(w,null,F,"unmounted")},U)},i=w=>{const{type:F,el:U,anchor:ne,transition:oe}=w;if(F===k0){f(U,ne);return}if(F===Wr){k(w);return}const me=()=>{o(U),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(w.shapeFlag&1&&oe&&!oe.persisted){const{leave:_,delayLeave:h}=oe,ie=()=>_(U,me);h?h(w.el,me,ie):ie()}else me()},f=(w,F)=>{let U;for(;w!==F;)U=I(w),o(w),w=U;o(F)},p=(w,F,U)=>{const{bum:ne,scope:oe,job:me,subTree:_,um:h,m:ie,a:te}=w;In(ie),In(te),ne&&sr(ne),oe.stop(),me&&(me.flags|=8,s(_,w,F,U)),h&&B0(h,F),B0(()=>{w.isUnmounted=!0},F)},C=(w,F,U,ne=!1,oe=!1,me=0)=>{for(let _=me;_<w.length;_++)s(w[_],F,U,ne,oe)},N=w=>{if(w.shapeFlag&6)return N(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const F=I(w.anchor||w.el),U=F&&F[Yi];return U?I(U):F};let T=!1;const Q=(w,F,U)=>{let ne;w==null?F._vnode&&(s(F._vnode,null,null,!0),ne=F._vnode.component):y(F._vnode||null,w,F,null,null,null,U),F._vnode=w,T||(T=!0,xn(ne),ns(),T=!1)},z={p:y,um:s,m:a,r:i,mt:j,mc:K,pc:P,pbc:Ae,n:N,o:e};return{render:Q,hydrate:void 0,createApp:fl(Q)}}function jr({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ht({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Tl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ts(e,t,r=!1){const n=e.children,o=t.children;if(je(n)&&je(o))for(let u=0;u<n.length;u++){const v=n[u];let m=o[u];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=o[u]=it(o[u]),m.el=v.el),!r&&m.patchFlag!==-2&&Ts(v,m)),m.type===wr&&(m.patchFlag!==-1?m.el=v.el:m.__elIndex=u+(e.type===k0?1:0)),m.type===_t&&!m.el&&(m.el=v.el)}}function Bl(e){const t=e.slice(),r=[0];let n,o,u,v,m;const d=e.length;for(n=0;n<d;n++){const L=e[n];if(L!==0){if(o=r[r.length-1],e[o]<L){t[n]=o,r.push(n);continue}for(u=0,v=r.length-1;u<v;)m=u+v>>1,e[r[m]]<L?u=m+1:v=m;L<e[r[u]]&&(u>0&&(t[n]=r[u-1]),r[u]=n)}}for(u=r.length,v=r[u-1];u-- >0;)r[u]=v,v=t[v];return r}function Bs(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bs(t)}function In(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Is(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Is(t.subTree):null}const Cs=e=>e.__isSuspense;function Il(e,t){t&&t.pendingBranch?je(e)?t.effects.push(...e):t.effects.push(e):ki(e)}const k0=Symbol.for("v-fgt"),wr=Symbol.for("v-txt"),_t=Symbol.for("v-cmt"),Wr=Symbol.for("v-stc"),Kt=[];let C0=null;function I0(e=!1){Kt.push(C0=e?null:[])}function Cl(){Kt.pop(),C0=Kt[Kt.length-1]||null}let Qt=1;function Cn(e,t=!1){Qt+=e,e<0&&C0&&t&&(C0.hasOnce=!0)}function Ls(e){return e.dynamicChildren=Qt>0?C0||wt:null,Cl(),Qt>0&&C0&&C0.push(e),e}function H0(e,t,r,n,o,u){return Ls(Ke(e,t,r,n,o,u,!0))}function Os(e,t,r,n,o){return Ls(g0(e,t,r,n,o,!0))}function Ns(e){return e?e.__v_isVNode===!0:!1}function Ht(e,t){return e.type===t.type&&e.key===t.key}const Fs=({key:e})=>e??null,lr=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?u0(e)||h0(e)||Ze(e)?{i:L0,r:e,k:t,f:!!r}:e:null);function Ke(e,t=null,r=null,n=0,o=null,u=e===k0?0:1,v=!1,m=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fs(t),ref:t&&lr(t),scopeId:is,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:L0};return m?(sn(d,r),u&128&&e.normalize(d)):r&&(d.shapeFlag|=u0(r)?8:16),Qt>0&&!v&&C0&&(d.patchFlag>0||u&6)&&d.patchFlag!==32&&C0.push(d),d}const g0=Ll;function Ll(e,t=null,r=null,n=0,o=null,u=!1){if((!e||e===rl)&&(e=_t),Ns(e)){const m=Ct(e,t,!0);return r&&sn(m,r),Qt>0&&!u&&C0&&(m.shapeFlag&6?C0[C0.indexOf(e)]=m:C0.push(m)),m.patchFlag=-2,m}if(Yl(e)&&(e=e.__vccOpts),t){t=Ol(t);let{class:m,style:d}=t;m&&!u0(m)&&(t.class=xr(m)),l0(d)&&(en(d)&&!je(d)&&(d=d0({},d)),t.style=Q0(d))}const v=u0(e)?1:Cs(e)?128:Ui(e)?64:l0(e)?4:Ze(e)?2:0;return Ke(e,t,r,n,o,v,u,!0)}function Ol(e){return e?en(e)||As(e)?d0({},e):e:null}function Ct(e,t,r=!1,n=!1){const{props:o,ref:u,patchFlag:v,children:m,transition:d}=e,L=t?Fl(o||{},t):o,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:L,key:L&&Fs(L),ref:t&&t.ref?r&&u?je(u)?u.concat(lr(t)):[u,lr(t)]:lr(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==k0?v===-1?16:v|16:v,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ct(e.ssContent),ssFallback:e.ssFallback&&Ct(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&n&&rn(b,d.clone(b)),b}function Nl(e=" ",t=0){return g0(wr,null,e,t)}function At(e="",t=!1){return t?(I0(),Os(_t,null,e)):g0(_t,null,e)}function Y0(e){return e==null||typeof e=="boolean"?g0(_t):je(e)?g0(k0,null,e.slice()):Ns(e)?it(e):g0(wr,null,String(e))}function it(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ct(e)}function sn(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(je(t))r=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),sn(e,o()),o._c&&(o._d=!0));return}else{r=32;const o=t._;!o&&!As(t)?t._ctx=L0:o===3&&L0&&(L0.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ze(t)?(t={default:t,_ctx:L0},r=32):(t=String(t),n&64?(r=16,t=[Nl(t)]):r=8);e.children=t,e.shapeFlag|=r}function Fl(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=xr([t.class,n.class]));else if(o==="style")t.style=Q0([t.style,n.style]);else if(mr(o)){const u=t[o],v=n[o];v&&u!==v&&!(je(u)&&u.includes(v))&&(t[o]=u?[].concat(u,v):v)}else o!==""&&(t[o]=n[o])}return t}function X0(e,t,r,n=null){K0(e,t,7,[r,n])}const Vl=bs();let Hl=0;function kl(e,t,r){const n=e.type,o=(t?t.appContext:e.appContext)||Vl,u={uid:Hl++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ni(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rs(n,o),emitsOptions:ps(n,o),emit:null,emitted:null,propsDefaults:e0,inheritAttrs:n.inheritAttrs,ctx:e0,data:e0,props:e0,attrs:e0,slots:e0,refs:e0,setupState:e0,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=vl.bind(null,u),e.ce&&e.ce(u),u}let S0=null;const Pl=()=>S0||L0;let hr,qa;{const e=Sr(),t=(r,n)=>{let o;return(o=e[r])||(o=e[r]=[]),o.push(n),u=>{o.length>1?o.forEach(v=>v(u)):o[0](u)}};hr=t("__VUE_INSTANCE_SETTERS__",r=>S0=r),qa=t("__VUE_SSR_SETTERS__",r=>$t=r)}const gt=e=>{const t=S0;return hr(e),e.scope.on(),()=>{e.scope.off(),hr(t)}},Ln=()=>{S0&&S0.scope.off(),hr(null)};function Vs(e){return e.vnode.shapeFlag&4}let $t=!1;function Dl(e,t=!1,r=!1){t&&qa(t);const{props:n,children:o}=e.vnode,u=Vs(e);Sl(e,n,u,t),Rl(e,o,r||t);const v=u?ql(e,t):void 0;return t&&qa(!1),v}function ql(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nl);const{setup:n}=r;if(n){J0();const o=e.setupContext=n.length>1?Gl(e):null,u=gt(e),v=zt(n,e,0,[e.props,o]),m=N1(v);if(et(),u(),(m||e.sp)&&!Yt(e)&&_s(e),m){if(v.then(Ln,Ln),t)return v.then(d=>{On(e,d)}).catch(d=>{Mr(d,e,0)});e.asyncDep=v}else On(e,v)}else Hs(e)}function On(e,t,r){Ze(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:l0(t)&&(e.setupState=ts(t)),Hs(e)}function Hs(e,t,r){const n=e.type;e.render||(e.render=n.render||U0);{const o=gt(e);J0();try{sl(e)}finally{et(),o()}}}const Xl={get(e,t){return v0(e,"get",""),e[t]}};function Gl(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Xl),slots:e.slots,emit:e.emit,expose:t}}function Er(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ts(wi(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Ut)return Ut[r](e)},has(t,r){return r in t||r in Ut}})):e.proxy}function Yl(e){return Ze(e)&&"__vccOpts"in e}const yt=(e,t)=>Li(e,t,$t),Ul="3.5.27";let Xa;const Nn=typeof window<"u"&&window.trustedTypes;if(Nn)try{Xa=Nn.createPolicy("vue",{createHTML:e=>e})}catch{}const ks=Xa?e=>Xa.createHTML(e):e=>e,Kl="http://www.w3.org/2000/svg",jl="http://www.w3.org/1998/Math/MathML",Z0=typeof document<"u"?document:null,Fn=Z0&&Z0.createElement("template"),Wl={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const o=t==="svg"?Z0.createElementNS(Kl,e):t==="mathml"?Z0.createElementNS(jl,e):r?Z0.createElement(e,{is:r}):Z0.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Z0.createTextNode(e),createComment:e=>Z0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Z0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,o,u){const v=r?r.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),r),!(o===u||!(o=o.nextSibling)););else{Fn.innerHTML=ks(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const m=Fn.content;if(n==="svg"||n==="mathml"){const d=m.firstChild;for(;d.firstChild;)m.appendChild(d.firstChild);m.removeChild(d)}t.insertBefore(m,r)}return[v?v.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Zl=Symbol("_vtc");function Ql(e,t,r){const n=e[Zl];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const dr=Symbol("_vod"),Ps=Symbol("_vsh"),Vn={name:"show",beforeMount(e,{value:t},{transition:r}){e[dr]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):kt(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),kt(e,!0),n.enter(e)):n.leave(e,()=>{kt(e,!1)}):kt(e,t))},beforeUnmount(e,{value:t}){kt(e,t)}};function kt(e,t){e.style.display=t?e[dr]:"none",e[Ps]=!t}const $l=Symbol(""),zl=/(?:^|;)\s*display\s*:/;function gl(e,t,r){const n=e.style,o=u0(r);let u=!1;if(r&&!o){if(t)if(u0(t))for(const v of t.split(";")){const m=v.slice(0,v.indexOf(":")).trim();r[m]==null&&or(n,m,"")}else for(const v in t)r[v]==null&&or(n,v,"");for(const v in r)v==="display"&&(u=!0),or(n,v,r[v])}else if(o){if(t!==r){const v=n[$l];v&&(r+=";"+v),n.cssText=r,u=zl.test(r)}}else t&&e.removeAttribute("style");dr in e&&(e[dr]=u?n.display:"",e[Ps]&&(n.display="none"))}const Hn=/\s*!important$/;function or(e,t,r){if(je(r))r.forEach(n=>or(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Jl(e,t);Hn.test(r)?e.setProperty(pt(n),r.replace(Hn,""),"important"):e[n]=r}}const kn=["Webkit","Moz","ms"],Zr={};function Jl(e,t){const r=Zr[t];if(r)return r;let n=ot(t);if(n!=="filter"&&n in e)return Zr[t]=n;n=H1(n);for(let o=0;o<kn.length;o++){const u=kn[o]+n;if(u in e)return Zr[t]=u}return t}const Pn="http://www.w3.org/1999/xlink";function Dn(e,t,r,n,o,u=ai(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Pn,t.slice(6,t.length)):e.setAttributeNS(Pn,t,r):r==null||u&&!P1(r)?e.removeAttribute(t):e.setAttribute(t,u?"":ut(r)?String(r):r)}function qn(e,t,r,n,o){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?ks(r):r);return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const m=u==="OPTION"?e.getAttribute("value")||"":e.value,d=r==null?e.type==="checkbox"?"on":"":String(r);(m!==d||!("_value"in e))&&(e.value=d),r==null&&e.removeAttribute(t),e._value=r;return}let v=!1;if(r===""||r==null){const m=typeof e[t];m==="boolean"?r=P1(r):r==null&&m==="string"?(r="",v=!0):m==="number"&&(r=0,v=!0)}try{e[t]=r}catch{}v&&e.removeAttribute(o||t)}function Rt(e,t,r,n){e.addEventListener(t,r,n)}function eo(e,t,r,n){e.removeEventListener(t,r,n)}const Xn=Symbol("_vei");function to(e,t,r,n,o=null){const u=e[Xn]||(e[Xn]={}),v=u[t];if(n&&v)v.value=n;else{const[m,d]=ro(t);if(n){const L=u[t]=so(n,o);Rt(e,m,L,d)}else v&&(eo(e,m,v,d),u[t]=void 0)}}const Gn=/(?:Once|Passive|Capture)$/;function ro(e){let t;if(Gn.test(e)){t={};let n;for(;n=e.match(Gn);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pt(e.slice(2)),t]}let Qr=0;const ao=Promise.resolve(),no=()=>Qr||(ao.then(()=>Qr=0),Qr=Date.now());function so(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;K0(io(n,r.value),t,5,[n])};return r.value=e,r.attached=no(),r}function io(e,t){if(je(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const Yn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lo=(e,t,r,n,o,u)=>{const v=o==="svg";t==="class"?Ql(e,n,v):t==="style"?gl(e,r,n):mr(t)?Ya(t)||to(e,t,r,n,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oo(e,t,n,v))?(qn(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Dn(e,t,n,v,u,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!u0(n))?qn(e,ot(t),n,u,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Dn(e,t,n,v))};function oo(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yn(t)&&Ze(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Yn(t)&&u0(r)?!1:t in e}const Un=e=>{const t=e.props["onUpdate:modelValue"]||!1;return je(t)?r=>sr(t,r):t};function _o(e){e.target.composing=!0}function Kn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $r=Symbol("_assign");function jn(e,t,r){return t&&(e=e.trim()),r&&(e=ja(e)),e}const uo={created(e,{modifiers:{lazy:t,trim:r,number:n}},o){e[$r]=Un(o);const u=n||o.props&&o.props.type==="number";Rt(e,t?"change":"input",v=>{v.target.composing||e[$r](jn(e.value,r,u))}),(r||u)&&Rt(e,"change",()=>{e.value=jn(e.value,r,u)}),t||(Rt(e,"compositionstart",_o),Rt(e,"compositionend",Kn),Rt(e,"change",Kn))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:o,number:u}},v){if(e[$r]=Un(v),e.composing)return;const m=(u||e.type==="number")&&!/^0\d/.test(e.value)?ja(e.value):e.value,d=t??"";m!==d&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||o&&e.value.trim()===d)||(e.value=d))}},fo=["ctrl","shift","alt","meta"],co={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fo.some(r=>e[`${r}Key`]&&!t.includes(r))},Wn=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=((o,...u)=>{for(let v=0;v<t.length;v++){const m=co[t[v]];if(m&&m(o,t))return}return e(o,...u)}))},vo=d0({patchProp:lo},Wl);let Zn;function ho(){return Zn||(Zn=wl(vo))}const mo=((...e)=>{const t=ho().createApp(...e),{mount:r}=t;return t.mount=n=>{const o=po(n);if(!o)return;const u=t._component;!Ze(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const v=r(o,!1,bo(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),v},t});function bo(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function po(e){return u0(e)?document.querySelector(e):e}function Tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nr={},zr,Qn;function o0(){if(Qn)return zr;Qn=1;function e(O){return new Int8Array(O)}function t(O){return new Int16Array(O)}function r(O){return new Int32Array(O)}function n(O){return new Float32Array(O)}function o(O){return new Float64Array(O)}function u(O){if(O.length==1)return n(O[0]);var A=O[0];O=O.slice(1);for(var X=[],l=0;l<A;l++)X.push(u(O));return X}function v(O){if(O.length==1)return r(O[0]);var A=O[0];O=O.slice(1);for(var X=[],l=0;l<A;l++)X.push(v(O));return X}function m(O){if(O.length==1)return t(O[0]);var A=O[0];O=O.slice(1);for(var X=[],l=0;l<A;l++)X.push(m(O));return X}function d(O){if(O.length==1)return new Array(O[0]);var A=O[0];O=O.slice(1);for(var X=[],l=0;l<A;l++)X.push(d(O));return X}var L={};L.fill=function(O,A,X,l){if(arguments.length==2)for(var k=0;k<O.length;k++)O[k]=arguments[1];else for(var k=A;k<X;k++)O[k]=l};var b={};b.arraycopy=function(O,A,X,l,k){for(var V=A+k;A<V;)X[l++]=O[A++]},b.out={},b.out.println=function(O){console.log(O)},b.out.printf=function(){console.log.apply(console,arguments)};var S={};S.SQRT2=1.4142135623730951,S.FAST_LOG10=function(O){return Math.log10(O)},S.FAST_LOG10_X=function(O,A){return Math.log10(O)*A};function I(O){this.ordinal=O}I.short_block_allowed=new I(0),I.short_block_coupled=new I(1),I.short_block_dispensed=new I(2),I.short_block_forced=new I(3);var W={};W.MAX_VALUE=34028235e31;function $(O){this.ordinal=O}$.vbr_off=new $(0),$.vbr_mt=new $(1),$.vbr_rh=new $(2),$.vbr_abr=new $(3),$.vbr_mtrh=new $(4),$.vbr_default=$.vbr_mtrh;var y=function(O){};return zr={System:b,VbrMode:$,Float:W,ShortBlock:I,Util:S,Arrays:L,new_array_n:d,new_byte:e,new_double:o,new_float:n,new_float_n:u,new_int:r,new_int_n:v,new_short:t,new_short_n:m,assert:y},zr}var gr,$n;function So(){if($n)return gr;$n=1;var e=o0(),t=e.System;e.VbrMode,e.Float,e.ShortBlock;var r=e.Util,n=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var o=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var u=m0();function v(){var m=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*r.SQRT2*.5/2384e-9,.017876148*r.SQRT2*.5/2384e-9,.003134727*r.SQRT2*.5/2384e-9,.002457142*r.SQRT2*.5/2384e-9,971317e-9*r.SQRT2*.5/2384e-9,218868e-9*r.SQRT2*.5/2384e-9,101566e-9*r.SQRT2*.5/2384e-9,13828e-9*r.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],d=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],L=d[u.SHORT_TYPE],b=d[u.SHORT_TYPE],S=d[u.SHORT_TYPE],I=d[u.SHORT_TYPE],W=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function $(A,X,l){for(var k=10,V=X+238-14-286,ae=-15;ae<0;ae++){var Z,K,ve;Z=m[k+-10],K=A[V+-224]*Z,ve=A[X+224]*Z,Z=m[k+-9],K+=A[V+-160]*Z,ve+=A[X+160]*Z,Z=m[k+-8],K+=A[V+-96]*Z,ve+=A[X+96]*Z,Z=m[k+-7],K+=A[V+-32]*Z,ve+=A[X+32]*Z,Z=m[k+-6],K+=A[V+32]*Z,ve+=A[X+-32]*Z,Z=m[k+-5],K+=A[V+96]*Z,ve+=A[X+-96]*Z,Z=m[k+-4],K+=A[V+160]*Z,ve+=A[X+-160]*Z,Z=m[k+-3],K+=A[V+224]*Z,ve+=A[X+-224]*Z,Z=m[k+-2],K+=A[X+-256]*Z,ve-=A[V+256]*Z,Z=m[k+-1],K+=A[X+-192]*Z,ve-=A[V+192]*Z,Z=m[k+0],K+=A[X+-128]*Z,ve-=A[V+128]*Z,Z=m[k+1],K+=A[X+-64]*Z,ve-=A[V+64]*Z,Z=m[k+2],K+=A[X+0]*Z,ve-=A[V+0]*Z,Z=m[k+3],K+=A[X+64]*Z,ve-=A[V+-64]*Z,Z=m[k+4],K+=A[X+128]*Z,ve-=A[V+-128]*Z,Z=m[k+5],K+=A[X+192]*Z,ve-=A[V+-192]*Z,K*=m[k+6],Z=ve-K,l[30+ae*2]=ve+K,l[31+ae*2]=m[k+7]*Z,k+=18,X--,V++}{var K,ve,Ae,ee;ve=A[X+-16]*m[k+-10],K=A[X+-32]*m[k+-2],ve+=(A[X+-48]-A[X+16])*m[k+-9],K+=A[X+-96]*m[k+-1],ve+=(A[X+-80]+A[X+48])*m[k+-8],K+=A[X+-160]*m[k+0],ve+=(A[X+-112]-A[X+80])*m[k+-7],K+=A[X+-224]*m[k+1],ve+=(A[X+-144]+A[X+112])*m[k+-6],K-=A[X+32]*m[k+2],ve+=(A[X+-176]-A[X+144])*m[k+-5],K-=A[X+96]*m[k+3],ve+=(A[X+-208]+A[X+176])*m[k+-4],K-=A[X+160]*m[k+4],ve+=(A[X+-240]-A[X+208])*m[k+-3],K-=A[X+224],Ae=K-ve,ee=K+ve,ve=l[14],K=l[15]-ve,l[31]=ee+ve,l[30]=Ae+K,l[15]=Ae-K,l[14]=ee-ve}{var B;B=l[28]-l[0],l[0]+=l[28],l[28]=B*m[k+-36+7],B=l[29]-l[1],l[1]+=l[29],l[29]=B*m[k+-36+7],B=l[26]-l[2],l[2]+=l[26],l[26]=B*m[k+-72+7],B=l[27]-l[3],l[3]+=l[27],l[27]=B*m[k+-72+7],B=l[24]-l[4],l[4]+=l[24],l[24]=B*m[k+-108+7],B=l[25]-l[5],l[5]+=l[25],l[25]=B*m[k+-108+7],B=l[22]-l[6],l[6]+=l[22],l[22]=B*r.SQRT2,B=l[23]-l[7],l[7]+=l[23],l[23]=B*r.SQRT2-l[7],l[7]-=l[6],l[22]-=l[7],l[23]-=l[22],B=l[6],l[6]=l[31]-B,l[31]=l[31]+B,B=l[7],l[7]=l[30]-B,l[30]=l[30]+B,B=l[22],l[22]=l[15]-B,l[15]=l[15]+B,B=l[23],l[23]=l[14]-B,l[14]=l[14]+B,B=l[20]-l[8],l[8]+=l[20],l[20]=B*m[k+-180+7],B=l[21]-l[9],l[9]+=l[21],l[21]=B*m[k+-180+7],B=l[18]-l[10],l[10]+=l[18],l[18]=B*m[k+-216+7],B=l[19]-l[11],l[11]+=l[19],l[19]=B*m[k+-216+7],B=l[16]-l[12],l[12]+=l[16],l[16]=B*m[k+-252+7],B=l[17]-l[13],l[13]+=l[17],l[17]=B*m[k+-252+7],B=-l[20]+l[24],l[20]+=l[24],l[24]=B*m[k+-216+7],B=-l[21]+l[25],l[21]+=l[25],l[25]=B*m[k+-216+7],B=l[4]-l[8],l[4]+=l[8],l[8]=B*m[k+-216+7],B=l[5]-l[9],l[5]+=l[9],l[9]=B*m[k+-216+7],B=l[0]-l[12],l[0]+=l[12],l[12]=B*m[k+-72+7],B=l[1]-l[13],l[1]+=l[13],l[13]=B*m[k+-72+7],B=l[16]-l[28],l[16]+=l[28],l[28]=B*m[k+-72+7],B=-l[17]+l[29],l[17]+=l[29],l[29]=B*m[k+-72+7],B=r.SQRT2*(l[2]-l[10]),l[2]+=l[10],l[10]=B,B=r.SQRT2*(l[3]-l[11]),l[3]+=l[11],l[11]=B,B=r.SQRT2*(-l[18]+l[26]),l[18]+=l[26],l[26]=B-l[18],B=r.SQRT2*(-l[19]+l[27]),l[19]+=l[27],l[27]=B-l[19],B=l[2],l[19]-=l[3],l[3]-=B,l[2]=l[31]-B,l[31]+=B,B=l[3],l[11]-=l[19],l[18]-=B,l[3]=l[30]-B,l[30]+=B,B=l[18],l[27]-=l[11],l[19]-=B,l[18]=l[15]-B,l[15]+=B,B=l[19],l[10]-=B,l[19]=l[14]-B,l[14]+=B,B=l[10],l[11]-=B,l[10]=l[23]-B,l[23]+=B,B=l[11],l[26]-=B,l[11]=l[22]-B,l[22]+=B,B=l[26],l[27]-=B,l[26]=l[7]-B,l[7]+=B,B=l[27],l[27]=l[6]-B,l[6]+=B,B=r.SQRT2*(l[0]-l[4]),l[0]+=l[4],l[4]=B,B=r.SQRT2*(l[1]-l[5]),l[1]+=l[5],l[5]=B,B=r.SQRT2*(l[16]-l[20]),l[16]+=l[20],l[20]=B,B=r.SQRT2*(l[17]-l[21]),l[17]+=l[21],l[21]=B,B=-r.SQRT2*(l[8]-l[12]),l[8]+=l[12],l[12]=B-l[8],B=-r.SQRT2*(l[9]-l[13]),l[9]+=l[13],l[13]=B-l[9],B=-r.SQRT2*(l[25]-l[29]),l[25]+=l[29],l[29]=B-l[25],B=-r.SQRT2*(l[24]+l[28]),l[24]-=l[28],l[28]=B-l[24],B=l[24]-l[16],l[24]=B,B=l[20]-B,l[20]=B,B=l[28]-B,l[28]=B,B=l[25]-l[17],l[25]=B,B=l[21]-B,l[21]=B,B=l[29]-B,l[29]=B,B=l[17]-l[1],l[17]=B,B=l[9]-B,l[9]=B,B=l[25]-B,l[25]=B,B=l[5]-B,l[5]=B,B=l[21]-B,l[21]=B,B=l[13]-B,l[13]=B,B=l[29]-B,l[29]=B,B=l[1]-l[0],l[1]=B,B=l[16]-B,l[16]=B,B=l[17]-B,l[17]=B,B=l[8]-B,l[8]=B,B=l[9]-B,l[9]=B,B=l[24]-B,l[24]=B,B=l[25]-B,l[25]=B,B=l[4]-B,l[4]=B,B=l[5]-B,l[5]=B,B=l[20]-B,l[20]=B,B=l[21]-B,l[21]=B,B=l[12]-B,l[12]=B,B=l[13]-B,l[13]=B,B=l[28]-B,l[28]=B,B=l[29]-B,l[29]=B,B=l[0],l[0]+=l[31],l[31]-=B,B=l[1],l[1]+=l[30],l[30]-=B,B=l[16],l[16]+=l[15],l[15]-=B,B=l[17],l[17]+=l[14],l[14]-=B,B=l[8],l[8]+=l[23],l[23]-=B,B=l[9],l[9]+=l[22],l[22]-=B,B=l[24],l[24]+=l[7],l[7]-=B,B=l[25],l[25]+=l[6],l[6]-=B,B=l[4],l[4]+=l[27],l[27]-=B,B=l[5],l[5]+=l[26],l[26]-=B,B=l[20],l[20]+=l[11],l[11]-=B,B=l[21],l[21]+=l[10],l[10]-=B,B=l[12],l[12]+=l[19],l[19]-=B,B=l[13],l[13]+=l[18],l[18]-=B,B=l[28],l[28]+=l[3],l[3]-=B,B=l[29],l[29]+=l[2],l[2]-=B}}function y(A,X){for(var l=0;l<3;l++){var k,V,ae,Z,K,ve;Z=A[X+6]*d[u.SHORT_TYPE][0]-A[X+15],k=A[X+0]*d[u.SHORT_TYPE][2]-A[X+9],V=Z+k,ae=Z-k,Z=A[X+15]*d[u.SHORT_TYPE][0]+A[X+6],k=A[X+9]*d[u.SHORT_TYPE][2]+A[X+0],K=Z+k,ve=-Z+k,k=(A[X+3]*d[u.SHORT_TYPE][1]-A[X+12])*2069978111953089e-26,Z=(A[X+12]*d[u.SHORT_TYPE][1]+A[X+3])*2069978111953089e-26,A[X+0]=V*190752519173728e-25+k,A[X+15]=-K*190752519173728e-25+Z,ae=ae*.8660254037844387*1907525191737281e-26,K=K*.5*1907525191737281e-26+Z,A[X+3]=ae-K,A[X+6]=ae+K,V=V*.5*1907525191737281e-26-k,ve=ve*.8660254037844387*1907525191737281e-26,A[X+9]=V+ve,A[X+12]=V-ve,X++}}function O(A,X,l){var k,V;{var ae,Z,K,ve,Ae,ee,B,Ne;ae=l[17]-l[9],K=l[15]-l[11],ve=l[14]-l[12],Ae=l[0]+l[8],ee=l[1]+l[7],B=l[2]+l[6],Ne=l[3]+l[5],A[X+17]=Ae+B-Ne-(ee-l[4]),V=(Ae+B-Ne)*b[19]+(ee-l[4]),k=(ae-K-ve)*b[18],A[X+5]=k+V,A[X+6]=k-V,Z=(l[16]-l[10])*b[18],ee=ee*b[19]+l[4],k=ae*b[12]+Z+K*b[13]+ve*b[14],V=-Ae*b[16]+ee-B*b[17]+Ne*b[15],A[X+1]=k+V,A[X+2]=k-V,k=ae*b[13]-Z-K*b[14]+ve*b[12],V=-Ae*b[17]+ee-B*b[15]+Ne*b[16],A[X+9]=k+V,A[X+10]=k-V,k=ae*b[14]-Z+K*b[12]-ve*b[13],V=Ae*b[15]-ee+B*b[16]-Ne*b[17],A[X+13]=k+V,A[X+14]=k-V}{var j,D,c,R,P,G,x,a;j=l[8]-l[0],c=l[6]-l[2],R=l[5]-l[3],P=l[17]+l[9],G=l[16]+l[10],x=l[15]+l[11],a=l[14]+l[12],A[X+0]=P+x+a+(G+l[13]),k=(P+x+a)*b[19]-(G+l[13]),V=(j-c+R)*b[18],A[X+11]=k+V,A[X+12]=k-V,D=(l[7]-l[1])*b[18],G=l[13]-G*b[19],k=P*b[15]-G+x*b[16]+a*b[17],V=j*b[14]+D+c*b[12]+R*b[13],A[X+3]=k+V,A[X+4]=k-V,k=-P*b[17]+G-x*b[15]-a*b[16],V=j*b[13]+D-c*b[14]-R*b[12],A[X+7]=k+V,A[X+8]=k-V,k=-P*b[16]+G-x*b[17]-a*b[15],V=j*b[12]-D+c*b[13]-R*b[14],A[X+15]=k+V,A[X+16]=k-V}}this.mdct_sub48=function(A,X,l){for(var k=X,V=286,ae=0;ae<A.channels_out;ae++){for(var Z=0;Z<A.mode_gr;Z++){for(var K,ve=A.l3_side.tt[Z][ae],Ae=ve.xr,ee=0,B=A.sb_sample[ae][1-Z],Ne=0,j=0;j<18/2;j++)for($(k,V,B[Ne]),$(k,V+32,B[Ne+1]),Ne+=2,V+=64,K=1;K<32;K+=2)B[Ne-1][K]*=-1;for(K=0;K<32;K++,ee+=18){var D=ve.block_type,c=A.sb_sample[ae][Z],R=A.sb_sample[ae][1-Z];if(ve.mixed_block_flag!=0&&K<2&&(D=0),A.amp_filter[K]<1e-12)n.fill(Ae,ee+0,ee+18,0);else{if(A.amp_filter[K]<1)for(var j=0;j<18;j++)R[j][W[K]]*=A.amp_filter[K];if(D==u.SHORT_TYPE){for(var j=-12/4;j<0;j++){var P=d[u.SHORT_TYPE][j+3];Ae[ee+j*3+9]=c[9+j][W[K]]*P-c[8-j][W[K]],Ae[ee+j*3+18]=c[14-j][W[K]]*P+c[15+j][W[K]],Ae[ee+j*3+10]=c[15+j][W[K]]*P-c[14-j][W[K]],Ae[ee+j*3+19]=R[2-j][W[K]]*P+R[3+j][W[K]],Ae[ee+j*3+11]=R[3+j][W[K]]*P-R[2-j][W[K]],Ae[ee+j*3+20]=R[8-j][W[K]]*P+R[9+j][W[K]]}y(Ae,ee)}else{for(var G=o(18),j=-36/4;j<0;j++){var x,a;x=d[D][j+27]*R[j+9][W[K]]+d[D][j+36]*R[8-j][W[K]],a=d[D][j+9]*c[j+9][W[K]]-d[D][j+18]*c[8-j][W[K]],G[j+9]=x-a*L[3+j+9],G[j+18]=x*L[3+j+9]+a}O(Ae,ee,G)}}if(D!=u.SHORT_TYPE&&K!=0)for(var j=7;j>=0;--j){var s,i;s=Ae[ee+j]*S[20+j]+Ae[ee+-1-j]*I[28+j],i=Ae[ee+j]*I[28+j]-Ae[ee+-1-j]*S[20+j],Ae[ee+-1-j]=s,Ae[ee+j]=i}}}if(k=l,V=286,A.mode_gr==1)for(var f=0;f<18;f++)t.arraycopy(A.sb_sample[ae][1][f],0,A.sb_sample[ae][0][f],0,32)}}}return gr=v,gr}var Jr,zn;function Ds(){if(zn)return Jr;zn=1;var e=m0(),t=o0(),r=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var n=t.new_float,o=t.new_float_n;t.new_int,t.new_int_n,t.assert;function u(){this.l=n(e.SBMAX_l),this.s=o([e.SBMAX_s,3]);var v=this;this.assign=function(m){r.arraycopy(m.l,0,v.l,0,e.SBMAX_l);for(var d=0;d<e.SBMAX_s;d++)for(var L=0;L<3;L++)v.s[d][L]=m.s[d][L]}}return Jr=u,Jr}var ea,gn;function xo(){if(gn)return ea;gn=1;var e=Ds();function t(){this.thm=new e,this.en=new e}return ea=t,ea}var ta,Jn;function m0(){if(Jn)return ta;Jn=1;var e=o0(),t=e.System,r=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var n=e.new_array_n;e.new_byte,e.new_double;var o=e.new_float,u=e.new_float_n,v=e.new_int;e.new_int_n;var m=e.assert;d.ENCDELAY=576,d.POSTDELAY=1152,d.MDCTDELAY=48,d.FFTOFFSET=224+d.MDCTDELAY,d.DECDELAY=528,d.SBLIMIT=32,d.CBANDS=64,d.SBPSY_l=21,d.SBPSY_s=12,d.SBMAX_l=22,d.SBMAX_s=13,d.PSFB21=6,d.PSFB12=6,d.BLKSIZE=1024,d.HBLKSIZE=d.BLKSIZE/2+1,d.BLKSIZE_s=256,d.HBLKSIZE_s=d.BLKSIZE_s/2+1,d.NORM_TYPE=0,d.START_TYPE=1,d.SHORT_TYPE=2,d.STOP_TYPE=3,d.MPG_MD_LR_LR=0,d.MPG_MD_LR_I=1,d.MPG_MD_MS_LR=2,d.MPG_MD_MS_I=3,d.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function d(){var L=So(),b=xo(),S=d.FFTOFFSET,I=d.MPG_MD_MS_LR,W=null;this.psy=null;var $=null,y=null,O=null;this.setModules=function(V,ae,Z,K){W=V,this.psy=ae,$=ae,y=K,O=Z};var A=new L;function X(V){var ae,Z;if(V.ATH.useAdjust==0){V.ATH.adjust=1;return}if(Z=V.loudness_sq[0][0],ae=V.loudness_sq[1][0],V.channels_out==2?(Z+=V.loudness_sq[0][1],ae+=V.loudness_sq[1][1]):(Z+=Z,ae+=ae),V.mode_gr==2&&(Z=Math.max(Z,ae)),Z*=.5,Z*=V.ATH.aaSensitivityP,Z>.03125)V.ATH.adjust>=1?V.ATH.adjust=1:V.ATH.adjust<V.ATH.adjustLimit&&(V.ATH.adjust=V.ATH.adjustLimit),V.ATH.adjustLimit=1;else{var K=31.98*Z+625e-6;V.ATH.adjust>=K?(V.ATH.adjust*=K*.075+.925,V.ATH.adjust<K&&(V.ATH.adjust=K)):V.ATH.adjustLimit>=K?V.ATH.adjust=K:V.ATH.adjust<V.ATH.adjustLimit&&(V.ATH.adjust=V.ATH.adjustLimit),V.ATH.adjustLimit=K}}function l(V){var ae,Z;for(m(0<=V.bitrate_index&&V.bitrate_index<16),m(0<=V.mode_ext&&V.mode_ext<4),V.bitrate_stereoMode_Hist[V.bitrate_index][4]++,V.bitrate_stereoMode_Hist[15][4]++,V.channels_out==2&&(V.bitrate_stereoMode_Hist[V.bitrate_index][V.mode_ext]++,V.bitrate_stereoMode_Hist[15][V.mode_ext]++),ae=0;ae<V.mode_gr;++ae)for(Z=0;Z<V.channels_out;++Z){var K=V.l3_side.tt[ae][Z].block_type|0;V.l3_side.tt[ae][Z].mixed_block_flag!=0&&(K=4),V.bitrate_blockType_Hist[V.bitrate_index][K]++,V.bitrate_blockType_Hist[V.bitrate_index][5]++,V.bitrate_blockType_Hist[15][K]++,V.bitrate_blockType_Hist[15][5]++}}function k(V,ae){var Z=V.internal_flags,K,ve;if(Z.lame_encode_frame_init==0){var Ae,ee,B=o(2014),Ne=o(2014);for(Z.lame_encode_frame_init=1,Ae=0,ee=0;Ae<286+576*(1+Z.mode_gr);++Ae)Ae<576*Z.mode_gr?(B[Ae]=0,Z.channels_out==2&&(Ne[Ae]=0)):(B[Ae]=ae[0][ee],Z.channels_out==2&&(Ne[Ae]=ae[1][ee]),++ee);for(ve=0;ve<Z.mode_gr;ve++)for(K=0;K<Z.channels_out;K++)Z.l3_side.tt[ve][K].block_type=d.SHORT_TYPE;A.mdct_sub48(Z,B,Ne),m(576>=d.FFTOFFSET),m(Z.mf_size>=d.BLKSIZE+V.framesize-d.FFTOFFSET),m(Z.mf_size>=512+V.framesize-32)}}this.lame_encode_mp3_frame=function(V,ae,Z,K,ve,Ae){var ee,B=n([2,2]);B[0][0]=new b,B[0][1]=new b,B[1][0]=new b,B[1][1]=new b;var Ne=n([2,2]);Ne[0][0]=new b,Ne[0][1]=new b,Ne[1][0]=new b,Ne[1][1]=new b;var j,D=[null,null],c=V.internal_flags,R=u([2,4]),P=[.5,.5],G=[[0,0],[0,0]],x=[[0,0],[0,0]],a,s,i;if(D[0]=ae,D[1]=Z,c.lame_encode_frame_init==0&&k(V,D),c.padding=0,(c.slot_lag-=c.frac_SpF)<0&&(c.slot_lag+=V.out_samplerate,c.padding=1),c.psymodel!=0){var f,p=[null,null],C=0,N=v(2);for(i=0;i<c.mode_gr;i++){for(s=0;s<c.channels_out;s++)p[s]=D[s],C=576+i*576-d.FFTOFFSET;if(V.VBR==r.vbr_mtrh||V.VBR==r.vbr_mt?f=$.L3psycho_anal_vbr(V,p,C,i,B,Ne,G[i],x[i],R[i],N):f=$.L3psycho_anal_ns(V,p,C,i,B,Ne,G[i],x[i],R[i],N),f!=0)return-4;for(V.mode==MPEGMode.JOINT_STEREO&&(P[i]=R[i][2]+R[i][3],P[i]>0&&(P[i]=R[i][3]/P[i])),s=0;s<c.channels_out;s++){var T=c.l3_side.tt[i][s];T.block_type=N[s],T.mixed_block_flag=0}}}else for(i=0;i<c.mode_gr;i++)for(s=0;s<c.channels_out;s++)c.l3_side.tt[i][s].block_type=d.NORM_TYPE,c.l3_side.tt[i][s].mixed_block_flag=0,x[i][s]=G[i][s]=700;if(X(c),A.mdct_sub48(c,D[0],D[1]),c.mode_ext=d.MPG_MD_LR_LR,V.force_ms)c.mode_ext=d.MPG_MD_MS_LR;else if(V.mode==MPEGMode.JOINT_STEREO){var Q=0,z=0;for(i=0;i<c.mode_gr;i++)for(s=0;s<c.channels_out;s++)Q+=x[i][s],z+=G[i][s];if(Q<=1*z){var be=c.l3_side.tt[0],w=c.l3_side.tt[c.mode_gr-1];be[0].block_type==be[1].block_type&&w[0].block_type==w[1].block_type&&(c.mode_ext=d.MPG_MD_MS_LR)}}if(c.mode_ext==I?(j=Ne,a=x):(j=B,a=G),V.analysis&&c.pinfo!=null)for(i=0;i<c.mode_gr;i++)for(s=0;s<c.channels_out;s++)c.pinfo.ms_ratio[i]=c.ms_ratio[i],c.pinfo.ms_ener_ratio[i]=P[i],c.pinfo.blocktype[i][s]=c.l3_side.tt[i][s].block_type,c.pinfo.pe[i][s]=a[i][s],t.arraycopy(c.l3_side.tt[i][s].xr,0,c.pinfo.xr[i][s],0,576),c.mode_ext==I&&(c.pinfo.ers[i][s]=c.pinfo.ers[i][s+2],t.arraycopy(c.pinfo.energy[i][s+2],0,c.pinfo.energy[i][s],0,c.pinfo.energy[i][s].length));if(V.VBR==r.vbr_off||V.VBR==r.vbr_abr){var F,U;for(F=0;F<18;F++)c.nsPsy.pefirbuf[F]=c.nsPsy.pefirbuf[F+1];for(U=0,i=0;i<c.mode_gr;i++)for(s=0;s<c.channels_out;s++)U+=a[i][s];for(c.nsPsy.pefirbuf[18]=U,U=c.nsPsy.pefirbuf[9],F=0;F<9;F++)U+=(c.nsPsy.pefirbuf[F]+c.nsPsy.pefirbuf[18-F])*d.fircoef[F];for(U=670*5*c.mode_gr*c.channels_out/U,i=0;i<c.mode_gr;i++)for(s=0;s<c.channels_out;s++)a[i][s]*=U}if(c.iteration_loop.iteration_loop(V,a,P,j),W.format_bitstream(V),ee=W.copy_buffer(c,K,ve,Ae,1),V.bWriteVbrTag&&y.addVbrFrame(V),V.analysis&&c.pinfo!=null){for(s=0;s<c.channels_out;s++){var ne;for(ne=0;ne<S;ne++)c.pinfo.pcmdata[s][ne]=c.pinfo.pcmdata[s][ne+V.framesize];for(ne=S;ne<1600;ne++)c.pinfo.pcmdata[s][ne]=D[s][ne-S]}O.set_frame_pinfo(V,j)}return l(c),ee}}return ta=d,ta}var ra,e1;function Ao(){if(e1)return ra;e1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock;var t=e.Util;e.Arrays,e.new_array_n,e.new_byte,e.new_double;var r=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var n=m0();function o(){var u=r(n.BLKSIZE),v=r(n.BLKSIZE_s/2),m=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function d(b,S,I){var W=0,$,y,O;I<<=1;var A=S+I;$=4;do{var X,l,k,V,ae,Z,K;K=$>>1,V=$,ae=$<<1,Z=ae+V,$=ae<<1,y=S,O=y+K;do{var ve,Ae,ee,B;Ae=b[y+0]-b[y+V],ve=b[y+0]+b[y+V],B=b[y+ae]-b[y+Z],ee=b[y+ae]+b[y+Z],b[y+ae]=ve-ee,b[y+0]=ve+ee,b[y+Z]=Ae-B,b[y+V]=Ae+B,Ae=b[O+0]-b[O+V],ve=b[O+0]+b[O+V],B=t.SQRT2*b[O+Z],ee=t.SQRT2*b[O+ae],b[O+ae]=ve-ee,b[O+0]=ve+ee,b[O+Z]=Ae-B,b[O+V]=Ae+B,O+=$,y+=$}while(y<A);for(l=m[W+0],X=m[W+1],k=1;k<K;k++){var Ne,j;Ne=1-2*X*X,j=2*X*l,y=S+k,O=S+V-k;do{var D,c,R,ve,Ae,P,ee,G,B,x;c=j*b[y+V]-Ne*b[O+V],D=Ne*b[y+V]+j*b[O+V],Ae=b[y+0]-D,ve=b[y+0]+D,P=b[O+0]-c,R=b[O+0]+c,c=j*b[y+Z]-Ne*b[O+Z],D=Ne*b[y+Z]+j*b[O+Z],B=b[y+ae]-D,ee=b[y+ae]+D,x=b[O+ae]-c,G=b[O+ae]+c,c=X*ee-l*x,D=l*ee+X*x,b[y+ae]=ve-D,b[y+0]=ve+D,b[O+Z]=P-c,b[O+V]=P+c,c=l*G-X*B,D=X*G+l*B,b[O+ae]=R-D,b[O+0]=R+D,b[y+Z]=Ae-c,b[y+V]=Ae+c,O+=$,y+=$}while(y<A);Ne=l,l=Ne*m[W+0]-X*m[W+1],X=Ne*m[W+1]+X*m[W+0]}W+=2}while($<I)}var L=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(b,S,I,W,$){for(var y=0;y<3;y++){var O=n.BLKSIZE_s/2,A=65535&576/3*(y+1),X=n.BLKSIZE_s/8-1;do{var l,k,V,ae,Z,K=L[X<<2]&255;l=v[K]*W[I][$+K+A],Z=v[127-K]*W[I][$+K+A+128],k=l-Z,l=l+Z,V=v[K+64]*W[I][$+K+A+64],Z=v[63-K]*W[I][$+K+A+192],ae=V-Z,V=V+Z,O-=4,S[y][O+0]=l+V,S[y][O+2]=l-V,S[y][O+1]=k+ae,S[y][O+3]=k-ae,l=v[K+1]*W[I][$+K+A+1],Z=v[126-K]*W[I][$+K+A+129],k=l-Z,l=l+Z,V=v[K+65]*W[I][$+K+A+65],Z=v[62-K]*W[I][$+K+A+193],ae=V-Z,V=V+Z,S[y][O+n.BLKSIZE_s/2+0]=l+V,S[y][O+n.BLKSIZE_s/2+2]=l-V,S[y][O+n.BLKSIZE_s/2+1]=k+ae,S[y][O+n.BLKSIZE_s/2+3]=k-ae}while(--X>=0);d(S[y],O,n.BLKSIZE_s/2)}},this.fft_long=function(b,S,I,W,$){var y=n.BLKSIZE/8-1,O=n.BLKSIZE/2;do{var A,X,l,k,V,ae=L[y]&255;A=u[ae]*W[I][$+ae],V=u[ae+512]*W[I][$+ae+512],X=A-V,A=A+V,l=u[ae+256]*W[I][$+ae+256],V=u[ae+768]*W[I][$+ae+768],k=l-V,l=l+V,O-=4,S[O+0]=A+l,S[O+2]=A-l,S[O+1]=X+k,S[O+3]=X-k,A=u[ae+1]*W[I][$+ae+1],V=u[ae+513]*W[I][$+ae+513],X=A-V,A=A+V,l=u[ae+257]*W[I][$+ae+257],V=u[ae+769]*W[I][$+ae+769],k=l-V,l=l+V,S[O+n.BLKSIZE/2+0]=A+l,S[O+n.BLKSIZE/2+2]=A-l,S[O+n.BLKSIZE/2+1]=X+k,S[O+n.BLKSIZE/2+3]=X-k}while(--y>=0);d(S,O,n.BLKSIZE/2)},this.init_fft=function(b){for(var S=0;S<n.BLKSIZE;S++)u[S]=.42-.5*Math.cos(2*Math.PI*(S+.5)/n.BLKSIZE)+.08*Math.cos(4*Math.PI*(S+.5)/n.BLKSIZE);for(var S=0;S<n.BLKSIZE_s/2;S++)v[S]=.5*(1-Math.cos(2*Math.PI*(S+.5)/n.BLKSIZE_s))}}return ra=o,ra}var aa,t1;function Mo(){if(t1)return aa;t1=1;var e=o0();e.System;var t=e.VbrMode,r=e.Float,n=e.ShortBlock,o=e.Util,u=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var v=e.new_float,m=e.new_float_n,d=e.new_int;e.new_int_n;var L=e.assert,b=Ao(),S=m0();function I(){var W=new b,$=2.302585092994046,y=2,O=16,A=2,X=16,l=.34,k=1/(14752*14752)/(S.BLKSIZE/2),V=.01,ae=.8,Z=.6,K=.3,ve=3.5,Ae=21,ee=.2302585093;function B(M){return M}function Ne(M,E){for(var q=0,Y=0;Y<S.BLKSIZE/2;++Y)q+=M[Y]*E.ATH.eql_w[Y];return q*=k,q}function j(M,E,q,Y,re,H,J,se,g,ue,le){var fe=M.internal_flags;if(g<2)W.fft_long(fe,Y[re],g,ue,le),W.fft_short(fe,H[J],g,ue,le);else if(g==2){for(var Be=S.BLKSIZE-1;Be>=0;--Be){var Pe=Y[re+0][Be],Re=Y[re+1][Be];Y[re+0][Be]=(Pe+Re)*o.SQRT2*.5,Y[re+1][Be]=(Pe-Re)*o.SQRT2*.5}for(var ke=2;ke>=0;--ke)for(var Be=S.BLKSIZE_s-1;Be>=0;--Be){var Pe=H[J+0][ke][Be],Re=H[J+1][ke][Be];H[J+0][ke][Be]=(Pe+Re)*o.SQRT2*.5,H[J+1][ke][Be]=(Pe-Re)*o.SQRT2*.5}}E[0]=Y[re+0][0],E[0]*=E[0];for(var Be=S.BLKSIZE/2-1;Be>=0;--Be){var _e=Y[re+0][S.BLKSIZE/2-Be],Fe=Y[re+0][S.BLKSIZE/2+Be];E[S.BLKSIZE/2-Be]=(_e*_e+Fe*Fe)*.5}for(var ke=2;ke>=0;--ke){q[ke][0]=H[J+0][ke][0],q[ke][0]*=q[ke][0];for(var Be=S.BLKSIZE_s/2-1;Be>=0;--Be){var _e=H[J+0][ke][S.BLKSIZE_s/2-Be],Fe=H[J+0][ke][S.BLKSIZE_s/2+Be];q[ke][S.BLKSIZE_s/2-Be]=(_e*_e+Fe*Fe)*.5}}{for(var Ue=0,Be=11;Be<S.HBLKSIZE;Be++)Ue+=E[Be];fe.tot_ener[g]=Ue}if(M.analysis){for(var Be=0;Be<S.HBLKSIZE;Be++)fe.pinfo.energy[se][g][Be]=fe.pinfo.energy_save[g][Be],fe.pinfo.energy_save[g][Be]=E[Be];fe.pinfo.pe[se][g]=fe.pe[g]}M.athaa_loudapprox==2&&g<2&&(fe.loudness_sq[se][g]=fe.loudness_sq_save[g],fe.loudness_sq_save[g]=Ne(E,fe))}var D=8,c=23,R=15,P,G,x,a=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function s(){P=Math.pow(10,(D+1)/16),G=Math.pow(10,(c+1)/16),x=Math.pow(10,R/10)}var i=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],f=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],p=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function C(M,E,q,Y,re,H){var J;if(E>M)if(E<M*G)J=E/M;else return M+E;else{if(M>=E*G)return M+E;J=M/E}if(L(M>=0),L(E>=0),M+=E,Y+3<=6){if(J>=P)return M;var se=0|o.FAST_LOG10_X(J,16);return M*f[se]}var se=0|o.FAST_LOG10_X(J,16);if(E=re.ATH.cb_l[q]*re.ATH.adjust,L(E>=0),M<x*E){if(M>E){var g,ue;return g=1,se<=13&&(g=p[se]),ue=o.FAST_LOG10_X(M/E,10/15),M*((i[se]-g)*ue+g)}return se>13?M:M*p[se]}return M*i[se]}var N=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function T(M,E,q){var Y;if(M<0&&(M=0),E<0&&(E=0),M<=0)return E;if(E<=0)return M;if(E>M?Y=E/M:Y=M/E,-2<=q&&q<=2){if(Y>=P)return M+E;var re=0|o.FAST_LOG10_X(Y,16);return(M+E)*N[re]}return Y<G?M+E:(M<E&&(M=E),M)}function Q(M,E){var q=M.internal_flags;if(q.channels_out>1){for(var Y=0;Y<S.SBMAX_l;Y++){var re=q.thm[0].l[Y],H=q.thm[1].l[Y];q.thm[0].l[Y]+=H*E,q.thm[1].l[Y]+=re*E}for(var Y=0;Y<S.SBMAX_s;Y++)for(var J=0;J<3;J++){var re=q.thm[0].s[Y][J],H=q.thm[1].s[Y][J];q.thm[0].s[Y][J]+=H*E,q.thm[1].s[Y][J]+=re*E}}}function z(M){for(var E=0;E<S.SBMAX_l;E++)if(!(M.thm[0].l[E]>1.58*M.thm[1].l[E]||M.thm[1].l[E]>1.58*M.thm[0].l[E])){var q=M.mld_l[E]*M.en[3].l[E],Y=Math.max(M.thm[2].l[E],Math.min(M.thm[3].l[E],q));q=M.mld_l[E]*M.en[2].l[E];var re=Math.max(M.thm[3].l[E],Math.min(M.thm[2].l[E],q));M.thm[2].l[E]=Y,M.thm[3].l[E]=re}for(var E=0;E<S.SBMAX_s;E++)for(var H=0;H<3;H++)if(!(M.thm[0].s[E][H]>1.58*M.thm[1].s[E][H]||M.thm[1].s[E][H]>1.58*M.thm[0].s[E][H])){var q=M.mld_s[E]*M.en[3].s[E][H],Y=Math.max(M.thm[2].s[E][H],Math.min(M.thm[3].s[E][H],q));q=M.mld_s[E]*M.en[2].s[E][H];var re=Math.max(M.thm[3].s[E][H],Math.min(M.thm[2].s[E][H],q));M.thm[2].s[E][H]=Y,M.thm[3].s[E][H]=re}}function be(M,E,q){var Y=E,re=Math.pow(10,q);E*=2,Y*=2;for(var H=0;H<S.SBMAX_l;H++){var J,se,g,ue;if(ue=M.ATH.cb_l[M.bm_l[H]]*re,J=Math.min(Math.max(M.thm[0].l[H],ue),Math.max(M.thm[1].l[H],ue)),se=Math.max(M.thm[2].l[H],ue),g=Math.max(M.thm[3].l[H],ue),J*E<se+g){var le=J*Y/(se+g);se*=le,g*=le,L(se+g>0)}M.thm[2].l[H]=Math.min(se,M.thm[2].l[H]),M.thm[3].l[H]=Math.min(g,M.thm[3].l[H])}re*=S.BLKSIZE_s/S.BLKSIZE;for(var H=0;H<S.SBMAX_s;H++)for(var fe=0;fe<3;fe++){var J,se,g,ue;if(ue=M.ATH.cb_s[M.bm_s[H]]*re,J=Math.min(Math.max(M.thm[0].s[H][fe],ue),Math.max(M.thm[1].s[H][fe],ue)),se=Math.max(M.thm[2].s[H][fe],ue),g=Math.max(M.thm[3].s[H][fe],ue),J*E<se+g){var le=J*E/(se+g);se*=le,g*=le,L(se+g>0)}M.thm[2].s[H][fe]=Math.min(M.thm[2].s[H][fe],se),M.thm[3].s[H][fe]=Math.min(M.thm[3].s[H][fe],g)}}function w(M,E,q,Y,re){var H,J,se=0,g=0;for(H=J=0;H<S.SBMAX_s;++J,++H){for(var ue=M.bo_s[H],le=M.npart_s,fe=ue<le?ue:le;J<fe;)L(E[J]>=0),L(q[J]>=0),se+=E[J],g+=q[J],J++;if(M.en[Y].s[H][re]=se,M.thm[Y].s[H][re]=g,J>=le){++H;break}L(E[J]>=0),L(q[J]>=0);{var Be=M.PSY.bo_s_weight[H],Pe=1-Be;se=Be*E[J],g=Be*q[J],M.en[Y].s[H][re]+=se,M.thm[Y].s[H][re]+=g,se=Pe*E[J],g=Pe*q[J]}}for(;H<S.SBMAX_s;++H)M.en[Y].s[H][re]=0,M.thm[Y].s[H][re]=0}function F(M,E,q,Y){var re,H,J=0,se=0;for(re=H=0;re<S.SBMAX_l;++H,++re){for(var g=M.bo_l[re],ue=M.npart_l,le=g<ue?g:ue;H<le;)L(E[H]>=0),L(q[H]>=0),J+=E[H],se+=q[H],H++;if(M.en[Y].l[re]=J,M.thm[Y].l[re]=se,H>=ue){++re;break}L(E[H]>=0),L(q[H]>=0);{var fe=M.PSY.bo_l_weight[re],Be=1-fe;J=fe*E[H],se=fe*q[H],M.en[Y].l[re]+=J,M.thm[Y].l[re]+=se,J=Be*E[H],se=Be*q[H]}}for(;re<S.SBMAX_l;++re)M.en[Y].l[re]=0,M.thm[Y].l[re]=0}function U(M,E,q,Y,re,H){var J=M.internal_flags,se,g;for(g=se=0;g<J.npart_s;++g){for(var ue=0,le=J.numlines_s[g],fe=0;fe<le;++fe,++se){var Be=E[H][se];ue+=Be}q[g]=ue}for(L(g==J.npart_s),L(se==129),se=g=0;g<J.npart_s;g++){var Pe=J.s3ind_s[g][0],Re=J.s3_ss[se++]*q[Pe];for(++Pe;Pe<=J.s3ind_s[g][1];)Re+=J.s3_ss[se]*q[Pe],++se,++Pe;{var ke=A*J.nb_s1[re][g];Y[g]=Math.min(Re,ke)}if(J.blocktype_old[re&1]==S.SHORT_TYPE){var ke=X*J.nb_s2[re][g],_e=Y[g];Y[g]=Math.min(ke,_e)}J.nb_s2[re][g]=J.nb_s1[re][g],J.nb_s1[re][g]=Re,L(Y[g]>=0)}for(;g<=S.CBANDS;++g)q[g]=0,Y[g]=0}function ne(M,E,q,Y){var re=M.internal_flags;M.short_blocks==n.short_block_coupled&&!(E[0]!=0&&E[1]!=0)&&(E[0]=E[1]=0);for(var H=0;H<re.channels_out;H++)Y[H]=S.NORM_TYPE,M.short_blocks==n.short_block_dispensed&&(E[H]=1),M.short_blocks==n.short_block_forced&&(E[H]=0),E[H]!=0?(L(re.blocktype_old[H]!=S.START_TYPE),re.blocktype_old[H]==S.SHORT_TYPE&&(Y[H]=S.STOP_TYPE)):(Y[H]=S.SHORT_TYPE,re.blocktype_old[H]==S.NORM_TYPE&&(re.blocktype_old[H]=S.START_TYPE),re.blocktype_old[H]==S.STOP_TYPE&&(re.blocktype_old[H]=S.SHORT_TYPE)),q[H]=re.blocktype_old[H],re.blocktype_old[H]=Y[H]}function oe(M,E,q){return q>=1?M:q<=0?E:E>0?Math.pow(M/E,q)*E:0}var me=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function _(M,E){for(var q=309.07,Y=0;Y<S.SBMAX_s-1;Y++)for(var re=0;re<3;re++){var H=M.thm.s[Y][re];if(L(Y<me.length),H>0){var J=H*E,se=M.en.s[Y][re];se>J&&(se>J*1e10?q+=me[Y]*(10*$):(L(J>0),q+=me[Y]*o.FAST_LOG10(se/J)))}}return q}var h=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ie(M,E){for(var q=281.0575,Y=0;Y<S.SBMAX_l-1;Y++){var re=M.thm.l[Y];if(L(Y<h.length),re>0){var H=re*E,J=M.en.l[Y];J>H&&(J>H*1e10?q+=h[Y]*(10*$):(L(H>0),q+=h[Y]*o.FAST_LOG10(J/H)))}}return q}function te(M,E,q,Y,re){var H,J;for(H=J=0;H<M.npart_l;++H){var se=0,g=0,ue;for(ue=0;ue<M.numlines_l[H];++ue,++J){var le=E[J];L(le>=0),se+=le,g<le&&(g=le)}q[H]=se,Y[H]=g,re[H]=se*M.rnumlines_l[H],L(M.rnumlines_l[H]>=0),L(se>=0),L(q[H]>=0),L(Y[H]>=0),L(re[H]>=0)}}function we(M,E,q,Y){var re=a.length-1,H=0,J=q[H]+q[H+1];if(L(J>=0),J>0){var se=E[H];se<E[H+1]&&(se=E[H+1]),L(M.numlines_l[H]+M.numlines_l[H+1]-1>0),J=20*(se*2-J)/(J*(M.numlines_l[H]+M.numlines_l[H+1]-1));var g=0|J;g>re&&(g=re),Y[H]=g}else Y[H]=0;for(H=1;H<M.npart_l-1;H++)if(J=q[H-1]+q[H]+q[H+1],L(J>=0),J>0){var se=E[H-1];se<E[H]&&(se=E[H]),se<E[H+1]&&(se=E[H+1]),L(M.numlines_l[H-1]+M.numlines_l[H]+M.numlines_l[H+1]-1>0),J=20*(se*3-J)/(J*(M.numlines_l[H-1]+M.numlines_l[H]+M.numlines_l[H+1]-1));var g=0|J;g>re&&(g=re),Y[H]=g}else Y[H]=0;if(L(H>0),L(H==M.npart_l-1),J=q[H-1]+q[H],L(J>=0),J>0){var se=E[H-1];se<E[H]&&(se=E[H]),L(M.numlines_l[H-1]+M.numlines_l[H]-1>0),J=20*(se*2-J)/(J*(M.numlines_l[H-1]+M.numlines_l[H]-1));var g=0|J;g>re&&(g=re),Y[H]=g}else Y[H]=0;L(H==M.npart_l-1)}var he=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(M,E,q,Y,re,H,J,se,g,ue){var le=M.internal_flags,fe=m([2,S.BLKSIZE]),Be=m([2,3,S.BLKSIZE_s]),Pe=v(S.CBANDS+1),Re=v(S.CBANDS+1),ke=v(S.CBANDS+2),_e=d(2),Fe=d(2),Ue,ye,He,Me,De,t0,Ie,Ge,We=m([2,576]),s0,w0=d(S.CBANDS+2),_0=d(S.CBANDS+2);for(u.fill(_0,0),Ue=le.channels_out,M.mode==MPEGMode.JOINT_STEREO&&(Ue=4),M.VBR==t.vbr_off?s0=le.ResvMax==0?0:le.ResvSize/le.ResvMax*.5:M.VBR==t.vbr_rh||M.VBR==t.vbr_mtrh||M.VBR==t.vbr_mt?s0=.6:s0=1,ye=0;ye<le.channels_out;ye++){var n0=E[ye],x0=q+576-350-Ae+192;for(L(he.length==(Ae-1)/2),Me=0;Me<576;Me++){var E0,T0;for(E0=n0[x0+Me+10],T0=0,De=0;De<(Ae-1)/2-1;De+=2)E0+=he[De]*(n0[x0+Me+De]+n0[x0+Me+Ae-De]),T0+=he[De+1]*(n0[x0+Me+De+1]+n0[x0+Me+Ae-De-1]);We[ye][Me]=E0+T0}re[Y][ye].en.assign(le.en[ye]),re[Y][ye].thm.assign(le.thm[ye]),Ue>2&&(H[Y][ye].en.assign(le.en[ye+2]),H[Y][ye].thm.assign(le.thm[ye+2]))}for(ye=0;ye<Ue;ye++){var F0,V0,c0=v(12),q0=[0,0,0,0],St=v(12),Cr=1,fn,cn=v(S.CBANDS),vn=v(S.CBANDS),i0=[0,0,0,0],hn=v(S.HBLKSIZE),dn=m([3,S.HBLKSIZE_s]);for(L(le.npart_s<=S.CBANDS),L(le.npart_l<=S.CBANDS),Me=0;Me<3;Me++)c0[Me]=le.nsPsy.last_en_subshort[ye][Me+6],L(le.nsPsy.last_en_subshort[ye][Me+4]>0),St[Me]=c0[Me]/le.nsPsy.last_en_subshort[ye][Me+4],q0[0]+=c0[Me];if(ye==2)for(Me=0;Me<576;Me++){var Lr,Or;Lr=We[0][Me],Or=We[1][Me],We[0][Me]=Lr+Or,We[1][Me]=Lr-Or}{var mn=We[ye&1],Lt=0;for(Me=0;Me<9;Me++){for(var Ws=Lt+64,f0=1;Lt<Ws;Lt++)f0<Math.abs(mn[Lt])&&(f0=Math.abs(mn[Lt]));le.nsPsy.last_en_subshort[ye][Me]=c0[Me+3]=f0,q0[1+Me/3]+=f0,f0>c0[Me+3-2]?(L(c0[Me+3-2]>0),f0=f0/c0[Me+3-2]):c0[Me+3-2]>f0*10?(L(f0>0),f0=c0[Me+3-2]/(f0*10)):f0=0,St[Me+3]=f0}}if(M.analysis){var Nr=St[0];for(Me=1;Me<12;Me++)Nr<St[Me]&&(Nr=St[Me]);le.pinfo.ers[Y][ye]=le.pinfo.ers_save[ye],le.pinfo.ers_save[ye]=Nr}for(fn=ye==3?le.nsPsy.attackthre_s:le.nsPsy.attackthre,Me=0;Me<12;Me++)i0[Me/3]==0&&St[Me]>fn&&(i0[Me/3]=Me%3+1);for(Me=1;Me<4;Me++){var Fr;q0[Me-1]>q0[Me]?(L(q0[Me]>0),Fr=q0[Me-1]/q0[Me]):(L(q0[Me-1]>0),Fr=q0[Me]/q0[Me-1]),Fr<1.7&&(i0[Me]=0,Me==1&&(i0[0]=0))}for(i0[0]!=0&&le.nsPsy.lastAttacks[ye]!=0&&(i0[0]=0),(le.nsPsy.lastAttacks[ye]==3||i0[0]+i0[1]+i0[2]+i0[3]!=0)&&(Cr=0,i0[1]!=0&&i0[0]!=0&&(i0[1]=0),i0[2]!=0&&i0[1]!=0&&(i0[2]=0),i0[3]!=0&&i0[2]!=0&&(i0[3]=0)),ye<2?Fe[ye]=Cr:Cr==0&&(Fe[0]=Fe[1]=0),g[ye]=le.tot_ener[ye],V0=Be,F0=fe,j(M,hn,dn,F0,ye&1,V0,ye&1,Y,ye,E,q),te(le,hn,Pe,cn,vn),we(le,cn,vn,w0),Ge=0;Ge<3;Ge++){var Vr,A0;for(U(M,dn,Re,ke,ye,Ge),w(le,Re,ke,ye,Ge),Ie=0;Ie<S.SBMAX_s;Ie++){if(A0=le.thm[ye].s[Ie][Ge],A0*=ae,i0[Ge]>=2||i0[Ge+1]==1){var Ot=Ge!=0?Ge-1:2,f0=oe(le.thm[ye].s[Ie][Ot],A0,Z*s0);A0=Math.min(A0,f0)}if(i0[Ge]==1){var Ot=Ge!=0?Ge-1:2,f0=oe(le.thm[ye].s[Ie][Ot],A0,K*s0);A0=Math.min(A0,f0)}else if(Ge!=0&&i0[Ge-1]==3||Ge==0&&le.nsPsy.lastAttacks[ye]==3){var Ot=Ge!=2?Ge+1:0,f0=oe(le.thm[ye].s[Ie][Ot],A0,K*s0);A0=Math.min(A0,f0)}Vr=c0[Ge*3+3]+c0[Ge*3+4]+c0[Ge*3+5],c0[Ge*3+5]*6<Vr&&(A0*=.5,c0[Ge*3+4]*6<Vr&&(A0*=.5)),le.thm[ye].s[Ie][Ge]=A0}}for(le.nsPsy.lastAttacks[ye]=i0[2],t0=0,He=0;He<le.npart_l;He++){for(var ft=le.s3ind[He][0],Hr=Pe[ft]*a[w0[ft]],ct=le.s3_ll[t0++]*Hr;++ft<=le.s3ind[He][1];)Hr=Pe[ft]*a[w0[ft]],ct=C(ct,le.s3_ll[t0++]*Hr,ft,ft-He,le);ct*=.158489319246111,le.blocktype_old[ye&1]==S.SHORT_TYPE?ke[He]=ct:ke[He]=oe(Math.min(ct,Math.min(y*le.nb_1[ye][He],O*le.nb_2[ye][He])),ct,s0),le.nb_2[ye][He]=le.nb_1[ye][He],le.nb_1[ye][He]=ct}for(;He<=S.CBANDS;++He)Pe[He]=0,ke[He]=0;F(le,Pe,ke,ye)}if((M.mode==MPEGMode.STEREO||M.mode==MPEGMode.JOINT_STEREO)&&M.interChRatio>0&&Q(M,M.interChRatio),M.mode==MPEGMode.JOINT_STEREO){var kr;z(le),kr=M.msfix,Math.abs(kr)>0&&be(le,kr,M.ATHlower*le.ATH.adjust)}for(ne(M,Fe,ue,_e),ye=0;ye<Ue;ye++){var Nt,Ft=0,Jt,er;ye>1?(Nt=se,Ft=-2,Jt=S.NORM_TYPE,(ue[0]==S.SHORT_TYPE||ue[1]==S.SHORT_TYPE)&&(Jt=S.SHORT_TYPE),er=H[Y][ye-2]):(Nt=J,Ft=0,Jt=ue[ye],er=re[Y][ye]),Jt==S.SHORT_TYPE?Nt[Ft+ye]=_(er,le.masking_lower):Nt[Ft+ye]=ie(er,le.masking_lower),M.analysis&&(le.pinfo.pe[Y][ye]=Nt[Ft+ye])}return 0};function pe(M,E,q,Y,re,H,J,se){var g=M.internal_flags;if(Y<2)W.fft_long(g,J[se],Y,E,q);else if(Y==2)for(var ue=S.BLKSIZE-1;ue>=0;--ue){var le=J[se+0][ue],fe=J[se+1][ue];J[se+0][ue]=(le+fe)*o.SQRT2*.5,J[se+1][ue]=(le-fe)*o.SQRT2*.5}H[0]=J[se+0][0],H[0]*=H[0];for(var ue=S.BLKSIZE/2-1;ue>=0;--ue){var Be=J[se+0][S.BLKSIZE/2-ue],Pe=J[se+0][S.BLKSIZE/2+ue];H[S.BLKSIZE/2-ue]=(Be*Be+Pe*Pe)*.5}{for(var Re=0,ue=11;ue<S.HBLKSIZE;ue++)Re+=H[ue];g.tot_ener[Y]=Re}if(M.analysis){for(var ue=0;ue<S.HBLKSIZE;ue++)g.pinfo.energy[re][Y][ue]=g.pinfo.energy_save[Y][ue],g.pinfo.energy_save[Y][ue]=H[ue];g.pinfo.pe[re][Y]=g.pe[Y]}}function xe(M,E,q,Y,re,H,J,se){var g=M.internal_flags;if(re==0&&Y<2&&W.fft_short(g,J[se],Y,E,q),Y==2)for(var ue=S.BLKSIZE_s-1;ue>=0;--ue){var le=J[se+0][re][ue],fe=J[se+1][re][ue];J[se+0][re][ue]=(le+fe)*o.SQRT2*.5,J[se+1][re][ue]=(le-fe)*o.SQRT2*.5}H[re][0]=J[se+0][re][0],H[re][0]*=H[re][0];for(var ue=S.BLKSIZE_s/2-1;ue>=0;--ue){var Be=J[se+0][re][S.BLKSIZE_s/2-ue],Pe=J[se+0][re][S.BLKSIZE_s/2+ue];H[re][S.BLKSIZE_s/2-ue]=(Be*Be+Pe*Pe)*.5}}function Ce(M,E,q,Y){var re=M.internal_flags;M.athaa_loudapprox==2&&q<2&&(re.loudness_sq[E][q]=re.loudness_sq_save[q],re.loudness_sq_save[q]=Ne(Y,re))}var Ee=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Se(M,E,q,Y,re,H,J,se,g,ue){for(var le=m([2,576]),fe=M.internal_flags,Be=fe.channels_out,Pe=M.mode==MPEGMode.JOINT_STEREO?4:Be,Re=0;Re<Be;Re++){firbuf=E[Re];var ke=q+576-350-Ae+192;L(Ee.length==(Ae-1)/2);for(var _e=0;_e<576;_e++){var Fe,Ue;Fe=firbuf[ke+_e+10],Ue=0;for(var ye=0;ye<(Ae-1)/2-1;ye+=2)Fe+=Ee[ye]*(firbuf[ke+_e+ye]+firbuf[ke+_e+Ae-ye]),Ue+=Ee[ye+1]*(firbuf[ke+_e+ye+1]+firbuf[ke+_e+Ae-ye-1]);le[Re][_e]=Fe+Ue}re[Y][Re].en.assign(fe.en[Re]),re[Y][Re].thm.assign(fe.thm[Re]),Pe>2&&(H[Y][Re].en.assign(fe.en[Re+2]),H[Y][Re].thm.assign(fe.thm[Re+2]))}for(var Re=0;Re<Pe;Re++){var He=v(12),Me=v(12),De=[0,0,0,0],t0=le[Re&1],Ie=0,Ge=Re==3?fe.nsPsy.attackthre_s:fe.nsPsy.attackthre,We=1;if(Re==2)for(var _e=0,ye=576;ye>0;++_e,--ye){var s0=le[0][_e],w0=le[1][_e];le[0][_e]=s0+w0,le[1][_e]=s0-w0}for(var _e=0;_e<3;_e++)Me[_e]=fe.nsPsy.last_en_subshort[Re][_e+6],L(fe.nsPsy.last_en_subshort[Re][_e+4]>0),He[_e]=Me[_e]/fe.nsPsy.last_en_subshort[Re][_e+4],De[0]+=Me[_e];for(var _e=0;_e<9;_e++){for(var _0=Ie+64,n0=1;Ie<_0;Ie++)n0<Math.abs(t0[Ie])&&(n0=Math.abs(t0[Ie]));fe.nsPsy.last_en_subshort[Re][_e]=Me[_e+3]=n0,De[1+_e/3]+=n0,n0>Me[_e+3-2]?(L(Me[_e+3-2]>0),n0=n0/Me[_e+3-2]):Me[_e+3-2]>n0*10?(L(n0>0),n0=Me[_e+3-2]/(n0*10)):n0=0,He[_e+3]=n0}for(var _e=0;_e<3;++_e){var x0=Me[_e*3+3]+Me[_e*3+4]+Me[_e*3+5],E0=1;Me[_e*3+5]*6<x0&&(E0*=.5,Me[_e*3+4]*6<x0&&(E0*=.5)),se[Re][_e]=E0}if(M.analysis){for(var T0=He[0],_e=1;_e<12;_e++)T0<He[_e]&&(T0=He[_e]);fe.pinfo.ers[Y][Re]=fe.pinfo.ers_save[Re],fe.pinfo.ers_save[Re]=T0}for(var _e=0;_e<12;_e++)g[Re][_e/3]==0&&He[_e]>Ge&&(g[Re][_e/3]=_e%3+1);for(var _e=1;_e<4;_e++){var F0=De[_e-1],V0=De[_e],c0=Math.max(F0,V0);c0<4e4&&F0<1.7*V0&&V0<1.7*F0&&(_e==1&&g[Re][0]<=g[Re][_e]&&(g[Re][0]=0),g[Re][_e]=0)}g[Re][0]<=fe.nsPsy.lastAttacks[Re]&&(g[Re][0]=0),(fe.nsPsy.lastAttacks[Re]==3||g[Re][0]+g[Re][1]+g[Re][2]+g[Re][3]!=0)&&(We=0,g[Re][1]!=0&&g[Re][0]!=0&&(g[Re][1]=0),g[Re][2]!=0&&g[Re][1]!=0&&(g[Re][2]=0),g[Re][3]!=0&&g[Re][2]!=0&&(g[Re][3]=0)),Re<2?ue[Re]=We:We==0&&(ue[0]=ue[1]=0),J[Re]=fe.tot_ener[Re]}}function qe(M,E,q){if(q==0)for(var Y=0;Y<M.npart_s;Y++)M.nb_s2[E][Y]=M.nb_s1[E][Y],M.nb_s1[E][Y]=0}function Qe(M,E){for(var q=0;q<M.npart_l;q++)M.nb_2[E][q]=M.nb_1[E][q],M.nb_1[E][q]=0}function ce(M,E,q,Y){var re=a.length-1,H=0,J=q[H]+q[H+1];if(L(J>=0),J>0){var se=E[H];se<E[H+1]&&(se=E[H+1]),L(M.numlines_s[H]+M.numlines_s[H+1]-1>0),J=20*(se*2-J)/(J*(M.numlines_s[H]+M.numlines_s[H+1]-1));var g=0|J;g>re&&(g=re),Y[H]=g}else Y[H]=0;for(H=1;H<M.npart_s-1;H++)if(J=q[H-1]+q[H]+q[H+1],L(H+1<M.npart_s),L(J>=0),J>0){var se=E[H-1];se<E[H]&&(se=E[H]),se<E[H+1]&&(se=E[H+1]),L(M.numlines_s[H-1]+M.numlines_s[H]+M.numlines_s[H+1]-1>0),J=20*(se*3-J)/(J*(M.numlines_s[H-1]+M.numlines_s[H]+M.numlines_s[H+1]-1));var g=0|J;g>re&&(g=re),Y[H]=g}else Y[H]=0;if(L(H>0),L(H==M.npart_s-1),J=q[H-1]+q[H],L(J>=0),J>0){var se=E[H-1];se<E[H]&&(se=E[H]),L(M.numlines_s[H-1]+M.numlines_s[H]-1>0),J=20*(se*2-J)/(J*(M.numlines_s[H-1]+M.numlines_s[H]-1));var g=0|J;g>re&&(g=re),Y[H]=g}else Y[H]=0;L(H==M.npart_s-1)}function de(M,E,q,Y,re,H){var J=M.internal_flags,se=new float[S.CBANDS],g=v(S.CBANDS),ue,le,fe,Be=new int[S.CBANDS];for(fe=le=0;fe<J.npart_s;++fe){var Pe=0,Re=0,ke=J.numlines_s[fe];for(ue=0;ue<ke;++ue,++le){var _e=E[H][le];Pe+=_e,Re<_e&&(Re=_e)}q[fe]=Pe,L(Pe>=0),se[fe]=Re,L(ke>0),g[fe]=Pe/ke,L(g[fe]>=0)}for(L(fe==J.npart_s),L(le==129);fe<S.CBANDS;++fe)se[fe]=0,g[fe]=0;for(ce(J,se,g,Be),le=fe=0;fe<J.npart_s;fe++){var Fe=J.s3ind_s[fe][0],Ue=J.s3ind_s[fe][1],ye,He,Me,De,t0;for(ye=Be[Fe],He=1,De=J.s3_ss[le]*q[Fe]*a[Be[Fe]],++le,++Fe;Fe<=Ue;)ye+=Be[Fe],He+=1,Me=J.s3_ss[le]*q[Fe]*a[Be[Fe]],De=T(De,Me,Fe-fe),++le,++Fe;ye=(1+2*ye)/(2*He),t0=a[ye]*.5,De*=t0,Y[fe]=De,J.nb_s2[re][fe]=J.nb_s1[re][fe],J.nb_s1[re][fe]=De,Me=se[fe],Me*=J.minval_s[fe],Me*=t0,Y[fe]>Me&&(Y[fe]=Me),J.masking_lower>1&&(Y[fe]*=J.masking_lower),Y[fe]>q[fe]&&(Y[fe]=q[fe]),J.masking_lower<1&&(Y[fe]*=J.masking_lower),L(Y[fe]>=0)}for(;fe<S.CBANDS;++fe)q[fe]=0,Y[fe]=0}function Te(M,E,q,Y,re){var H=v(S.CBANDS),J=v(S.CBANDS),se=d(S.CBANDS+2),g;te(M,E,q,H,J),we(M,H,J,se);var ue=0;for(g=0;g<M.npart_l;g++){var le,fe,Be,Pe,Re=M.s3ind[g][0],ke=M.s3ind[g][1],_e=0,Fe=0;for(_e=se[Re],Fe+=1,fe=M.s3_ll[ue]*q[Re]*a[se[Re]],++ue,++Re;Re<=ke;)_e+=se[Re],Fe+=1,le=M.s3_ll[ue]*q[Re]*a[se[Re]],Pe=T(fe,le,Re-g),fe=Pe,++ue,++Re;if(_e=(1+2*_e)/(2*Fe),Be=a[_e]*.5,fe*=Be,M.blocktype_old[re&1]==S.SHORT_TYPE){var Ue=y*M.nb_1[re][g];Ue>0?Y[g]=Math.min(fe,Ue):Y[g]=Math.min(fe,q[g]*K)}else{var ye=O*M.nb_2[re][g],He=y*M.nb_1[re][g],Ue;ye<=0&&(ye=fe),He<=0&&(He=fe),M.blocktype_old[re&1]==S.NORM_TYPE?Ue=Math.min(He,ye):Ue=He,Y[g]=Math.min(fe,Ue)}M.nb_2[re][g]=M.nb_1[re][g],M.nb_1[re][g]=fe,le=H[g],le*=M.minval_l[g],le*=Be,Y[g]>le&&(Y[g]=le),M.masking_lower>1&&(Y[g]*=M.masking_lower),Y[g]>q[g]&&(Y[g]=q[g]),M.masking_lower<1&&(Y[g]*=M.masking_lower),L(Y[g]>=0)}for(;g<S.CBANDS;++g)q[g]=0,Y[g]=0}function Ve(M,E){var q=M.internal_flags;M.short_blocks==n.short_block_coupled&&!(E[0]!=0&&E[1]!=0)&&(E[0]=E[1]=0);for(var Y=0;Y<q.channels_out;Y++)M.short_blocks==n.short_block_dispensed&&(E[Y]=1),M.short_blocks==n.short_block_forced&&(E[Y]=0)}function Le(M,E,q){for(var Y=M.internal_flags,re=0;re<Y.channels_out;re++){var H=S.NORM_TYPE;E[re]!=0?(L(Y.blocktype_old[re]!=S.START_TYPE),Y.blocktype_old[re]==S.SHORT_TYPE&&(H=S.STOP_TYPE)):(H=S.SHORT_TYPE,Y.blocktype_old[re]==S.NORM_TYPE&&(Y.blocktype_old[re]=S.START_TYPE),Y.blocktype_old[re]==S.STOP_TYPE&&(Y.blocktype_old[re]=S.SHORT_TYPE)),q[re]=Y.blocktype_old[re],Y.blocktype_old[re]=H}}function Oe(M,E,q,Y,re,H,J){for(var se=H*2,g=H>0?Math.pow(10,re):1,ue,le,fe=0;fe<J;++fe){var Be=M[2][fe],Pe=M[3][fe],Re=E[0][fe],ke=E[1][fe],_e=E[2][fe],Fe=E[3][fe];if(Re<=1.58*ke&&ke<=1.58*Re){var Ue=q[fe]*Pe,ye=q[fe]*Be;le=Math.max(_e,Math.min(Fe,Ue)),ue=Math.max(Fe,Math.min(_e,ye))}else le=_e,ue=Fe;if(H>0){var He,Me,De=Y[fe]*g;if(He=Math.min(Math.max(Re,De),Math.max(ke,De)),_e=Math.max(le,De),Fe=Math.max(ue,De),Me=_e+Fe,Me>0&&He*se<Me){var t0=He*se/Me;_e*=t0,Fe*=t0,L(Me>0)}le=Math.min(_e,le),ue=Math.min(Fe,ue)}le>Be&&(le=Be),ue>Pe&&(ue=Pe),E[2][fe]=le,E[3][fe]=ue}}this.L3psycho_anal_vbr=function(M,E,q,Y,re,H,J,se,g,ue){var le=M.internal_flags,fe,Be,Pe=v(S.HBLKSIZE),Re=m([3,S.HBLKSIZE_s]),ke=m([2,S.BLKSIZE]),_e=m([2,3,S.BLKSIZE_s]),Fe=m([4,S.CBANDS]),Ue=m([4,S.CBANDS]),ye=m([4,3]),He=.6,Me=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],De=d(2),t0=M.mode==MPEGMode.JOINT_STEREO?4:le.channels_out;Se(M,E,q,Y,re,H,g,ye,Me,De),Ve(M,De);{for(var Ie=0;Ie<t0;Ie++){var Ge=Ie&1;fe=ke,pe(M,E,q,Ie,Y,Pe,fe,Ge),Ce(M,Y,Ie,Pe),De[Ge]!=0?Te(le,Pe,Fe[Ie],Ue[Ie],Ie):Qe(le,Ie)}De[0]+De[1]==2&&M.mode==MPEGMode.JOINT_STEREO&&Oe(Fe,Ue,le.mld_cb_l,le.ATH.cb_l,M.ATHlower*le.ATH.adjust,M.msfix,le.npart_l);for(var Ie=0;Ie<t0;Ie++){var Ge=Ie&1;De[Ge]!=0&&F(le,Fe[Ie],Ue[Ie],Ie)}}{for(var We=0;We<3;We++){for(var Ie=0;Ie<t0;++Ie){var Ge=Ie&1;De[Ge]!=0?qe(le,Ie,We):(Be=_e,xe(M,E,q,Ie,We,Re,Be,Ge),de(M,Re,Fe[Ie],Ue[Ie],Ie,We))}De[0]+De[1]==0&&M.mode==MPEGMode.JOINT_STEREO&&Oe(Fe,Ue,le.mld_cb_s,le.ATH.cb_s,M.ATHlower*le.ATH.adjust,M.msfix,le.npart_s);for(var Ie=0;Ie<t0;++Ie){var Ge=Ie&1;De[Ge]==0&&w(le,Fe[Ie],Ue[Ie],Ie,We)}}for(var Ie=0;Ie<t0;Ie++){var Ge=Ie&1;if(De[Ge]==0)for(var s0=0;s0<S.SBMAX_s;s0++){for(var w0=v(3),We=0;We<3;We++){var _0=le.thm[Ie].s[s0][We];if(_0*=ae,Me[Ie][We]>=2||Me[Ie][We+1]==1){var n0=We!=0?We-1:2,x0=oe(le.thm[Ie].s[s0][n0],_0,Z*He);_0=Math.min(_0,x0)}else if(Me[Ie][We]==1){var n0=We!=0?We-1:2,x0=oe(le.thm[Ie].s[s0][n0],_0,K*He);_0=Math.min(_0,x0)}else if(We!=0&&Me[Ie][We-1]==3||We==0&&le.nsPsy.lastAttacks[Ie]==3){var n0=We!=2?We+1:0,x0=oe(le.thm[Ie].s[s0][n0],_0,K*He);_0=Math.min(_0,x0)}_0*=ye[Ie][We],w0[We]=_0}for(var We=0;We<3;We++)le.thm[Ie].s[s0][We]=w0[We]}}}for(var Ie=0;Ie<t0;Ie++)le.nsPsy.lastAttacks[Ie]=Me[Ie][2];Le(M,De,ue);for(var Ie=0;Ie<t0;Ie++){var E0,T0,F0,V0;Ie>1?(E0=se,T0=-2,F0=S.NORM_TYPE,(ue[0]==S.SHORT_TYPE||ue[1]==S.SHORT_TYPE)&&(F0=S.SHORT_TYPE),V0=H[Y][Ie-2]):(E0=J,T0=0,F0=ue[Ie],V0=re[Y][Ie]),F0==S.SHORT_TYPE?E0[T0+Ie]=_(V0,le.masking_lower):E0[T0+Ie]=ie(V0,le.masking_lower),M.analysis&&(le.pinfo.pe[Y][Ie]=E0[T0+Ie])}return 0};function Xe(M,E){var q=M,Y;return q>=0?Y=-q*27:Y=q*E,Y<=-72?0:Math.exp(Y*ee)}function Ye(M){var E=0,q=0;{var Y=0,re,H;for(Y=0;Xe(Y,M)>1e-20;Y-=1);for(re=Y,H=0;Math.abs(H-re)>1e-12;)Y=(H+re)/2,Xe(Y,M)>0?H=Y:re=Y;E=re}{var Y=0,re,H;for(Y=0;Xe(Y,M)>1e-20;Y+=1);for(re=0,H=Y;Math.abs(H-re)>1e-12;)Y=(H+re)/2,Xe(Y,M)>0?re=Y:H=Y;q=H}{var J=0,se=1e3,g;for(g=0;g<=se;++g){var Y=E+g*(q-E)/se,ue=Xe(Y,M);J+=ue}{var le=(se+1)/(J*(q-E));return le}}}function ze(M){var E,q,Y,re;return E=M,E>=0?E*=3:E*=1.5,E>=.5&&E<=2.5?(re=E-.5,q=8*(re*re-2*re)):q=0,E+=.474,Y=15.811389+7.5*E-17.5*Math.sqrt(1+E*E),Y<=-60?0:(E=Math.exp((q+Y)*ee),E/=.6609193,E)}function $e(M){return M<0&&(M=0),M=M*.001,13*Math.atan(.76*M)+3.5*Math.atan(M*M/(7.5*7.5))}function R0(M,E,q,Y,re,H,J,se,g,ue,le,fe){var Be=v(S.CBANDS+1),Pe=se/(fe>15?2*576:384),Re=d(S.HBLKSIZE),ke;se/=g;var _e=0,Fe=0;for(ke=0;ke<S.CBANDS;ke++){var Ue,ye;for(Ue=$e(se*_e),Be[ke]=se*_e,ye=_e;$e(se*ye)-Ue<l&&ye<=g/2;ye++);for(M[ke]=ye-_e,Fe=ke+1;_e<ye;)L(_e<S.HBLKSIZE),Re[_e++]=ke;if(_e>g/2){_e=g/2,++ke;break}}L(ke<S.CBANDS),Be[ke]=se*_e;for(var He=0;He<fe;He++){var Me,De,t0,Ie,Ge;t0=ue[He],Ie=ue[He+1],Me=0|Math.floor(.5+le*(t0-.5)),Me<0&&(Me=0),De=0|Math.floor(.5+le*(Ie-.5)),De>g/2&&(De=g/2),q[He]=(Re[Me]+Re[De])/2,E[He]=Re[De];var We=Pe*Ie;J[He]=(We-Be[E[He]])/(Be[E[He]+1]-Be[E[He]]),J[He]<0?J[He]=0:J[He]>1&&(J[He]=1),Ge=$e(se*ue[He]*le),Ge=Math.min(Ge,15.5)/15.5,H[He]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Ge))-2.5)}_e=0;for(var s0=0;s0<Fe;s0++){var w0=M[s0],Ue,_0;Ue=$e(se*_e),_0=$e(se*(_e+w0-1)),Y[s0]=.5*(Ue+_0),Ue=$e(se*(_e-.5)),_0=$e(se*(_e+w0-.5)),re[s0]=_0-Ue,_e+=w0}return Fe}function y0(M,E,q,Y,re,H){var J=m([S.CBANDS,S.CBANDS]),se,g=0;if(H)for(var ue=0;ue<E;ue++)for(se=0;se<E;se++){var le=ze(q[ue]-q[se])*Y[se];J[ue][se]=le*re[ue]}else for(se=0;se<E;se++)for(var fe=15+Math.min(21/q[se],12),Be=Ye(fe),ue=0;ue<E;ue++){var le=Be*Xe(q[ue]-q[se],fe)*Y[se];J[ue][se]=le*re[ue]}for(var ue=0;ue<E;ue++){for(se=0;se<E&&!(J[ue][se]>0);se++);for(M[ue][0]=se,se=E-1;se>0&&!(J[ue][se]>0);se--);M[ue][1]=se,g+=M[ue][1]-M[ue][0]+1}for(var Pe=v(g),Re=0,ue=0;ue<E;ue++)for(se=M[ue][0];se<=M[ue][1];se++)Pe[Re++]=J[ue][se];return Pe}function j0(M){var E=$e(M);return E=Math.min(E,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*E))-2.5)}this.psymodel_init=function(M){var E=M.internal_flags,q,Y=!0,re=13,H=24,J=0,se=0,g=-8.25,ue=-4.5,le=v(S.CBANDS),fe=v(S.CBANDS),Be=v(S.CBANDS),Pe=M.out_samplerate;switch(M.experimentalZ){default:case 0:Y=!0;break;case 1:Y=!(M.VBR==t.vbr_mtrh||M.VBR==t.vbr_mt);break;case 2:Y=!1;break;case 3:re=8,J=-1.75,se=-.0125,g=-8.25,ue=-2.25;break}for(E.ms_ener_ratio_old=.25,E.blocktype_old[0]=E.blocktype_old[1]=S.NORM_TYPE,q=0;q<4;++q){for(var _e=0;_e<S.CBANDS;++_e)E.nb_1[q][_e]=1e20,E.nb_2[q][_e]=1e20,E.nb_s1[q][_e]=E.nb_s2[q][_e]=1;for(var Re=0;Re<S.SBMAX_l;Re++)E.en[q].l[Re]=1e20,E.thm[q].l[Re]=1e20;for(var _e=0;_e<3;++_e){for(var Re=0;Re<S.SBMAX_s;Re++)E.en[q].s[Re][_e]=1e20,E.thm[q].s[Re][_e]=1e20;E.nsPsy.lastAttacks[q]=0}for(var _e=0;_e<9;_e++)E.nsPsy.last_en_subshort[q][_e]=10}for(E.loudness_sq_save[0]=E.loudness_sq_save[1]=0,E.npart_l=R0(E.numlines_l,E.bo_l,E.bm_l,le,fe,E.mld_l,E.PSY.bo_l_weight,Pe,S.BLKSIZE,E.scalefac_band.l,S.BLKSIZE/(2*576),S.SBMAX_l),L(E.npart_l<S.CBANDS),q=0;q<E.npart_l;q++){var ke=J;le[q]>=re&&(ke=se*(le[q]-re)/(H-re)+J*(H-le[q])/(H-re)),Be[q]=Math.pow(10,ke/10),E.numlines_l[q]>0?E.rnumlines_l[q]=1/E.numlines_l[q]:E.rnumlines_l[q]=0}E.s3_ll=y0(E.s3ind,E.npart_l,le,fe,Be,Y);var _e=0;for(q=0;q<E.npart_l;q++){var Fe;Fe=r.MAX_VALUE;for(var Ue=0;Ue<E.numlines_l[q];Ue++,_e++){var ye=Pe*_e/(1e3*S.BLKSIZE),He;He=this.ATHformula(ye*1e3,M)-20,He=Math.pow(10,.1*He),He*=E.numlines_l[q],Fe>He&&(Fe=He)}E.ATH.cb_l[q]=Fe,Fe=-20+le[q]*20/10,Fe>6&&(Fe=100),Fe<-15&&(Fe=-15),Fe-=8,E.minval_l[q]=Math.pow(10,Fe/10)*E.numlines_l[q]}for(E.npart_s=R0(E.numlines_s,E.bo_s,E.bm_s,le,fe,E.mld_s,E.PSY.bo_s_weight,Pe,S.BLKSIZE_s,E.scalefac_band.s,S.BLKSIZE_s/384,S.SBMAX_s),L(E.npart_s<S.CBANDS),_e=0,q=0;q<E.npart_s;q++){var Fe,ke=g;le[q]>=re&&(ke=ue*(le[q]-re)/(H-re)+g*(H-le[q])/(H-re)),Be[q]=Math.pow(10,ke/10),Fe=r.MAX_VALUE;for(var Ue=0;Ue<E.numlines_s[q];Ue++,_e++){var ye=Pe*_e/(1e3*S.BLKSIZE_s),He;He=this.ATHformula(ye*1e3,M)-20,He=Math.pow(10,.1*He),He*=E.numlines_s[q],Fe>He&&(Fe=He)}E.ATH.cb_s[q]=Fe,Fe=-7+le[q]*7/12,le[q]>12&&(Fe*=1+Math.log(1+Fe)*3.1),le[q]<12&&(Fe*=1+Math.log(1-Fe)*2.3),Fe<-15&&(Fe=-15),Fe-=8,E.minval_s[q]=Math.pow(10,Fe/10)*E.numlines_s[q]}E.s3_ss=y0(E.s3ind_s,E.npart_s,le,fe,Be,Y),s(),W.init_fft(E),E.decay=Math.exp(-1*$/(V*Pe/192));{var Me;Me=ve,(M.exp_nspsytune&2)!=0&&(Me=1),Math.abs(M.msfix)>0&&(Me=M.msfix),M.msfix=Me;for(var De=0;De<E.npart_l;De++)E.s3ind[De][1]>E.npart_l-1&&(E.s3ind[De][1]=E.npart_l-1)}var t0=576*E.mode_gr/Pe;if(E.ATH.decay=Math.pow(10,-12/10*t0),E.ATH.adjust=.01,E.ATH.adjustLimit=1,L(E.bo_l[S.SBMAX_l-1]<=E.npart_l),L(E.bo_s[S.SBMAX_s-1]<=E.npart_s),M.ATHtype!=-1){var ye,Ie=M.out_samplerate/S.BLKSIZE,Ge=0;for(ye=0,q=0;q<S.BLKSIZE/2;++q)ye+=Ie,E.ATH.eql_w[q]=1/Math.pow(10,this.ATHformula(ye,M)/10),Ge+=E.ATH.eql_w[q];for(Ge=1/Ge,q=S.BLKSIZE/2;--q>=0;)E.ATH.eql_w[q]*=Ge}{for(var De=_e=0;De<E.npart_s;++De)for(q=0;q<E.numlines_s[De];++q)++_e;L(_e==129);for(var De=_e=0;De<E.npart_l;++De)for(q=0;q<E.numlines_l[De];++q)++_e;L(_e==513)}for(_e=0,q=0;q<E.npart_l;q++){var ye=Pe*(_e+E.numlines_l[q]/2)/(1*S.BLKSIZE);E.mld_cb_l[q]=j0(ye),_e+=E.numlines_l[q]}for(;q<S.CBANDS;++q)E.mld_cb_l[q]=1;for(_e=0,q=0;q<E.npart_s;q++){var ye=Pe*(_e+E.numlines_s[q]/2)/(1*S.BLKSIZE_s);E.mld_cb_s[q]=j0(ye),_e+=E.numlines_s[q]}for(;q<S.CBANDS;++q)E.mld_cb_s[q]=1;return 0};function N0(M,E){M<-.3&&(M=3410),M/=1e3,M=Math.max(.1,M);var q=3.64*Math.pow(M,-.8)-6.8*Math.exp(-.6*Math.pow(M-3.4,2))+6*Math.exp(-.15*Math.pow(M-8.7,2))+(.6+.04*E)*.001*Math.pow(M,4);return q}this.ATHformula=function(M,E){var q;switch(E.ATHtype){case 0:q=N0(M,9);break;case 1:q=N0(M,-1);break;case 2:q=N0(M,0);break;case 3:q=N0(M,1)+6;break;case 4:q=N0(M,E.ATHcurve);break;default:q=N0(M,0);break}return q}}return aa=I,aa}var na,r1;function ln(){if(r1)return na;r1=1;function e(t){var r=t;this.ordinal=function(){return r}}return e.STEREO=new e(0),e.JOINT_STEREO=new e(1),e.DUAL_CHANNEL=new e(2),e.MONO=new e(3),e.NOT_SET=new e(4),na=e,na}var sa,a1;function Ro(){if(a1)return sa;a1=1;var e=ln();function t(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=e.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}return sa=t,sa}var ia,n1;function Br(){if(n1)return ia;n1=1;var e=m0(),t={};return t.SFBMAX=e.SBMAX_s*3,ia=t,ia}var la,s1;function on(){if(s1)return la;s1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var t=e.new_float;e.new_float_n;var r=e.new_int;e.new_int_n,e.assert;var n=Br();function o(){this.xr=t(576),this.l3_enc=r(576),this.scalefac=r(n.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=r(3),this.subblock_gain=r(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=r(n.SFBMAX),this.window=r(n.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=r(4),this.max_nonzero_coeff=0;var u=this;function v(d){return new Int32Array(d)}function m(d){return new Float32Array(d)}this.assign=function(d){u.xr=m(d.xr),u.l3_enc=v(d.l3_enc),u.scalefac=v(d.scalefac),u.xrpow_max=d.xrpow_max,u.part2_3_length=d.part2_3_length,u.big_values=d.big_values,u.count1=d.count1,u.global_gain=d.global_gain,u.scalefac_compress=d.scalefac_compress,u.block_type=d.block_type,u.mixed_block_flag=d.mixed_block_flag,u.table_select=v(d.table_select),u.subblock_gain=v(d.subblock_gain),u.region0_count=d.region0_count,u.region1_count=d.region1_count,u.preflag=d.preflag,u.scalefac_scale=d.scalefac_scale,u.count1table_select=d.count1table_select,u.part2_length=d.part2_length,u.sfb_lmax=d.sfb_lmax,u.sfb_smin=d.sfb_smin,u.psy_lmax=d.psy_lmax,u.sfbmax=d.sfbmax,u.psymax=d.psymax,u.sfbdivide=d.sfbdivide,u.width=v(d.width),u.window=v(d.window),u.count1bits=d.count1bits,u.sfb_partition_table=d.sfb_partition_table.slice(0),u.slen=v(d.slen),u.max_nonzero_coeff=d.max_nonzero_coeff}}return la=o,la}var oa,i1;function yo(){if(i1)return oa;i1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var t=e.new_int;e.new_int_n,e.assert;var r=on();function n(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[t(4),t(4)];for(var o=0;o<2;o++)for(var u=0;u<2;u++)this.tt[o][u]=new r}return oa=n,oa}var _a,l1;function qs(){if(l1)return _a;l1=1;var e=o0(),t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var r=e.new_int;e.new_int_n,e.assert;var n=m0();function o(u,v,m,d){this.l=r(1+n.SBMAX_l),this.s=r(1+n.SBMAX_s),this.psfb21=r(1+n.PSFB21),this.psfb12=r(1+n.PSFB12);var L=this.l,b=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],t.arraycopy(this.arrL,0,L,0,Math.min(this.arrL.length,this.l.length)),t.arraycopy(this.arrS,0,b,0,Math.min(this.arrS.length,this.s.length)),t.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),t.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}return _a=o,_a}var ua,o1;function wo(){if(o1)return ua;o1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var t=e.new_float,r=e.new_float_n,n=e.new_int;e.new_int_n,e.assert;var o=m0();function u(){this.last_en_subshort=r([4,9]),this.lastAttacks=n(4),this.pefirbuf=t(19),this.longfact=t(o.SBMAX_l),this.shortfact=t(o.SBMAX_s),this.attackthre=0,this.attackthre_s=0}return ua=u,ua}var fa,_1;function Eo(){if(_1)return fa;_1=1;function e(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}return fa=e,fa}var ca,u1;function Ir(){if(u1)return ca;u1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n;var t=e.new_byte,r=e.new_double,n=e.new_float,o=e.new_float_n,u=e.new_int,v=e.new_int_n;e.assert;var m=yo(),d=qs(),L=wo(),b=Eo(),S=Ds(),I=m0(),W=Br();$.MFSIZE=3*1152+I.ENCDELAY-I.MDCTDELAY,$.MAX_HEADER_BUF=256,$.MAX_BITS_PER_CHANNEL=4095,$.MAX_BITS_PER_GRANULE=7680,$.BPC=320;function $(){var y=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=o([2,$.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new m,this.ms_ratio=n(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=u(2),this.CurrentStep=u(2),this.masking_lower=0,this.bv_scf=u(576),this.pseudohalf=u(W.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*$.BPC+1),this.itime=r(2),this.sideinfo_len=0,this.sb_sample=o([2,2,18,I.SBLIMIT]),this.amp_filter=n(32);function O(){this.write_timing=0,this.ptr=0,this.buf=t(y)}this.header=new Array($.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new d,this.minval_l=n(I.CBANDS),this.minval_s=n(I.CBANDS),this.nb_1=o([4,I.CBANDS]),this.nb_2=o([4,I.CBANDS]),this.nb_s1=o([4,I.CBANDS]),this.nb_s2=o([4,I.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=n(4),this.loudness_sq=o([2,2]),this.loudness_sq_save=n(2),this.mld_l=n(I.SBMAX_l),this.mld_s=n(I.SBMAX_s),this.bm_l=u(I.SBMAX_l),this.bo_l=u(I.SBMAX_l),this.bm_s=u(I.SBMAX_s),this.bo_s=u(I.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=v([I.CBANDS,2]),this.s3ind_s=v([I.CBANDS,2]),this.numlines_s=u(I.CBANDS),this.numlines_l=u(I.CBANDS),this.rnumlines_l=n(I.CBANDS),this.mld_cb_l=n(I.CBANDS),this.mld_cb_s=n(I.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=n(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=u(2),this.nsPsy=new L,this.VBR_seek_table=new b,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=v([16,5]),this.bitrate_blockType_Hist=v([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var A=0;A<this.en.length;A++)this.en[A]=new S;for(var A=0;A<this.thm.length;A++)this.thm[A]=new S;for(var A=0;A<this.header.length;A++)this.header[A]=new O}return ca=$,ca}var va,f1;function To(){if(f1)return va;f1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var t=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var r=m0();function n(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=t(r.SBMAX_l),this.s=t(r.SBMAX_s),this.psfb21=t(r.PSFB21),this.psfb12=t(r.PSFB12),this.cb_l=t(r.CBANDS),this.cb_s=t(r.CBANDS),this.eql_w=t(r.BLKSIZE/2)}return va=n,va}var ha,c1;function Xs(){if(c1)return ha;c1=1;var e=o0(),t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var r=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n,e.assert,n.STEPS_per_dB=100,n.MAX_dB=120,n.GAIN_NOT_ENOUGH_SAMPLES=-24601,n.GAIN_ANALYSIS_ERROR=0,n.GAIN_ANALYSIS_OK=1,n.INIT_GAIN_ANALYSIS_ERROR=0,n.INIT_GAIN_ANALYSIS_OK=1,n.YULE_ORDER=10,n.MAX_ORDER=n.YULE_ORDER,n.MAX_SAMP_FREQ=48e3,n.RMS_WINDOW_TIME_NUMERATOR=1,n.RMS_WINDOW_TIME_DENOMINATOR=20,n.MAX_SAMPLES_PER_WINDOW=n.MAX_SAMP_FREQ*n.RMS_WINDOW_TIME_NUMERATOR/n.RMS_WINDOW_TIME_DENOMINATOR+1;function n(){var o=64.82;n.YULE_ORDER;var u=.95;n.MAX_SAMP_FREQ;var v=n.RMS_WINDOW_TIME_NUMERATOR,m=n.RMS_WINDOW_TIME_DENOMINATOR;n.MAX_SAMPLES_PER_WINDOW;var d=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],L=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function b(y,O,A,X,l,k){for(;l--!=0;)A[X]=1e-10+y[O+0]*k[0]-A[X-1]*k[1]+y[O-1]*k[2]-A[X-2]*k[3]+y[O-2]*k[4]-A[X-3]*k[5]+y[O-3]*k[6]-A[X-4]*k[7]+y[O-4]*k[8]-A[X-5]*k[9]+y[O-5]*k[10]-A[X-6]*k[11]+y[O-6]*k[12]-A[X-7]*k[13]+y[O-7]*k[14]-A[X-8]*k[15]+y[O-8]*k[16]-A[X-9]*k[17]+y[O-9]*k[18]-A[X-10]*k[19]+y[O-10]*k[20],++X,++O}function S(y,O,A,X,l,k){for(;l--!=0;)A[X]=y[O+0]*k[0]-A[X-1]*k[1]+y[O-1]*k[2]-A[X-2]*k[3]+y[O-2]*k[4],++X,++O}function I(y,O){for(var A=0;A<MAX_ORDER;A++)y.linprebuf[A]=y.lstepbuf[A]=y.loutbuf[A]=y.rinprebuf[A]=y.rstepbuf[A]=y.routbuf[A]=0;switch(0|O){case 48e3:y.reqindex=0;break;case 44100:y.reqindex=1;break;case 32e3:y.reqindex=2;break;case 24e3:y.reqindex=3;break;case 22050:y.reqindex=4;break;case 16e3:y.reqindex=5;break;case 12e3:y.reqindex=6;break;case 11025:y.reqindex=7;break;case 8e3:y.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return y.sampleWindow=0|(O*v+m-1)/m,y.lsum=0,y.rsum=0,y.totsamp=0,r.ill(y.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(y,O){return I(y,O)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(y.linpre=MAX_ORDER,y.rinpre=MAX_ORDER,y.lstep=MAX_ORDER,y.rstep=MAX_ORDER,y.lout=MAX_ORDER,y.rout=MAX_ORDER,r.fill(y.B,0),INIT_GAIN_ANALYSIS_OK)};function W(y){return y*y}this.AnalyzeSamples=function(y,O,A,X,l,k,V){var ae,Z,K,ve,Ae,ee,B;if(k==0)return GAIN_ANALYSIS_OK;switch(B=0,Ae=k,V){case 1:X=O,l=A;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(k<MAX_ORDER?(t.arraycopy(O,A,y.linprebuf,MAX_ORDER,k),t.arraycopy(X,l,y.rinprebuf,MAX_ORDER,k)):(t.arraycopy(O,A,y.linprebuf,MAX_ORDER,MAX_ORDER),t.arraycopy(X,l,y.rinprebuf,MAX_ORDER,MAX_ORDER));Ae>0;){ee=Ae>y.sampleWindow-y.totsamp?y.sampleWindow-y.totsamp:Ae,B<MAX_ORDER?(ae=y.linpre+B,Z=y.linprebuf,K=y.rinpre+B,ve=y.rinprebuf,ee>MAX_ORDER-B&&(ee=MAX_ORDER-B)):(ae=A+B,Z=O,K=l+B,ve=X),b(Z,ae,y.lstepbuf,y.lstep+y.totsamp,ee,d[y.reqindex]),b(ve,K,y.rstepbuf,y.rstep+y.totsamp,ee,d[y.reqindex]),S(y.lstepbuf,y.lstep+y.totsamp,y.loutbuf,y.lout+y.totsamp,ee,L[y.reqindex]),S(y.rstepbuf,y.rstep+y.totsamp,y.routbuf,y.rout+y.totsamp,ee,L[y.reqindex]),ae=y.lout+y.totsamp,Z=y.loutbuf,K=y.rout+y.totsamp,ve=y.routbuf;for(var Ne=ee%8;Ne--!=0;)y.lsum+=W(Z[ae++]),y.rsum+=W(ve[K++]);for(Ne=ee/8;Ne--!=0;)y.lsum+=W(Z[ae+0])+W(Z[ae+1])+W(Z[ae+2])+W(Z[ae+3])+W(Z[ae+4])+W(Z[ae+5])+W(Z[ae+6])+W(Z[ae+7]),ae+=8,y.rsum+=W(ve[K+0])+W(ve[K+1])+W(ve[K+2])+W(ve[K+3])+W(ve[K+4])+W(ve[K+5])+W(ve[K+6])+W(ve[K+7]),K+=8;if(Ae-=ee,B+=ee,y.totsamp+=ee,y.totsamp==y.sampleWindow){var j=n.STEPS_per_dB*10*Math.log10((y.lsum+y.rsum)/y.totsamp*.5+1e-37),D=j<=0?0:0|j;D>=y.A.length&&(D=y.A.length-1),y.A[D]++,y.lsum=y.rsum=0,t.arraycopy(y.loutbuf,y.totsamp,y.loutbuf,0,MAX_ORDER),t.arraycopy(y.routbuf,y.totsamp,y.routbuf,0,MAX_ORDER),t.arraycopy(y.lstepbuf,y.totsamp,y.lstepbuf,0,MAX_ORDER),t.arraycopy(y.rstepbuf,y.totsamp,y.rstepbuf,0,MAX_ORDER),y.totsamp=0}if(y.totsamp>y.sampleWindow)return GAIN_ANALYSIS_ERROR}return k<MAX_ORDER?(t.arraycopy(y.linprebuf,k,y.linprebuf,0,MAX_ORDER-k),t.arraycopy(y.rinprebuf,k,y.rinprebuf,0,MAX_ORDER-k),t.arraycopy(O,A,y.linprebuf,MAX_ORDER-k,k),t.arraycopy(X,l,y.rinprebuf,MAX_ORDER-k,k)):(t.arraycopy(O,A+k-MAX_ORDER,y.linprebuf,0,MAX_ORDER),t.arraycopy(X,l+k-MAX_ORDER,y.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function $(y,O){var A,X=0;for(A=0;A<O;A++)X+=y[A];if(X==0)return GAIN_NOT_ENOUGH_SAMPLES;var l=0|Math.ceil(X*(1-u));for(A=O;A-- >0&&!((l-=y[A])<=0););return o-A/n.STEPS_per_dB}this.GetTitleGain=function(y){for(var O=$(y.A,y.A.length),A=0;A<y.A.length;A++)y.B[A]+=y.A[A],y.A[A]=0;for(var A=0;A<MAX_ORDER;A++)y.linprebuf[A]=y.lstepbuf[A]=y.loutbuf[A]=y.rinprebuf[A]=y.rstepbuf[A]=y.routbuf[A]=0;return y.totsamp=0,y.lsum=y.rsum=0,O}}return ha=n,ha}var da,v1;function Bo(){if(v1)return da;v1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var t=e.new_float;e.new_float_n;var r=e.new_int;e.new_int_n,e.assert;var n=Xs();function o(){this.linprebuf=t(n.MAX_ORDER*2),this.linpre=0,this.lstepbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lstep=0,this.loutbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.lout=0,this.rinprebuf=t(n.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rstep=0,this.routbuf=t(n.MAX_SAMPLES_PER_WINDOW+n.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=r(0|n.STEPS_per_dB*n.MAX_dB),this.B=r(0|n.STEPS_per_dB*n.MAX_dB)}return da=o,da}var ma,h1;function Gs(){if(h1)return ma;h1=1;function e(t){this.bits=t}return ma=e,ma}var ba,d1;function Io(){if(d1)return ba;d1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var t=e.new_float;e.new_float_n;var r=e.new_int;e.new_int_n;var n=e.assert,o=Gs(),u=m0(),v=Br(),m=Ir();function d(L){var b=L;this.quantize=b,this.iteration_loop=function(S,I,W,$){var y=S.internal_flags,O=t(v.SFBMAX),A=t(576),X=r(2),l=0,k,V=y.l3_side,ae=new o(l);this.quantize.rv.ResvFrameBegin(S,ae),l=ae.bits;for(var Z=0;Z<y.mode_gr;Z++){k=this.quantize.qupvt.on_pe(S,I,X,l,Z,Z),y.mode_ext==u.MPG_MD_MS_LR&&(this.quantize.ms_convert(y.l3_side,Z),this.quantize.qupvt.reduce_side(X,W[Z],l,k));for(var K=0;K<y.channels_out;K++){var ve,Ae,ee=V.tt[Z][K];ee.block_type!=u.SHORT_TYPE?(ve=0,Ae=y.PSY.mask_adjust-ve):(ve=0,Ae=y.PSY.mask_adjust_short-ve),y.masking_lower=Math.pow(10,Ae*.1),this.quantize.init_outer_loop(y,ee),this.quantize.init_xrpow(y,ee,A)&&(this.quantize.qupvt.calc_xmin(S,$[Z][K],ee,O),this.quantize.outer_loop(S,ee,O,A,K,X[K])),this.quantize.iteration_finish_one(y,Z,K),n(ee.part2_3_length<=m.MAX_BITS_PER_CHANNEL),n(ee.part2_3_length<=X[K])}}this.quantize.rv.ResvFrameEnd(y,l)}}return ba=d,ba}var pa,m1;function _n(){if(m1)return pa;m1=1;function e(r,n,o,u){this.xlen=r,this.linmax=n,this.table=o,this.hlen=u}var t={};return t.t1HB=[1,1,1,0],t.t2HB=[1,2,1,3,1,1,3,2,0],t.t3HB=[3,2,1,1,1,1,3,2,0],t.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t.t1l=[1,4,3,5],t.t2l=[1,4,7,4,5,7,6,7,8],t.t3l=[2,3,7,4,4,7,6,7,8],t.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],t.ht=[new e(0,0,null,null),new e(2,0,t.t1HB,t.t1l),new e(3,0,t.t2HB,t.t2l),new e(3,0,t.t3HB,t.t3l),new e(0,0,null,null),new e(4,0,t.t5HB,t.t5l),new e(4,0,t.t6HB,t.t6l),new e(6,0,t.t7HB,t.t7l),new e(6,0,t.t8HB,t.t8l),new e(6,0,t.t9HB,t.t9l),new e(8,0,t.t10HB,t.t10l),new e(8,0,t.t11HB,t.t11l),new e(8,0,t.t12HB,t.t12l),new e(16,0,t.t13HB,t.t13l),new e(0,0,null,t.t16_5l),new e(16,0,t.t15HB,t.t15l),new e(1,1,t.t16HB,t.t16l),new e(2,3,t.t16HB,t.t16l),new e(3,7,t.t16HB,t.t16l),new e(4,15,t.t16HB,t.t16l),new e(6,63,t.t16HB,t.t16l),new e(8,255,t.t16HB,t.t16l),new e(10,1023,t.t16HB,t.t16l),new e(13,8191,t.t16HB,t.t16l),new e(4,15,t.t24HB,t.t24l),new e(5,31,t.t24HB,t.t24l),new e(6,63,t.t24HB,t.t24l),new e(7,127,t.t24HB,t.t24l),new e(8,255,t.t24HB,t.t24l),new e(9,511,t.t24HB,t.t24l),new e(11,2047,t.t24HB,t.t24l),new e(13,8191,t.t24HB,t.t24l),new e(0,0,t.t32HB,t.t32l),new e(0,0,t.t33HB,t.t33l)],t.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],t.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],t.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],t.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],t.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],t.scfsi_band=[0,6,11,16,21],pa=t,pa}var Sa,b1;function Ys(){if(b1)return Sa;b1=1;var e=qs(),t=o0();t.System;var r=t.VbrMode,n=t.Float;t.ShortBlock;var o=t.Util;t.Arrays,t.new_array_n,t.new_byte,t.new_double;var u=t.new_float;t.new_float_n;var v=t.new_int;t.new_int_n;var m=t.assert,d=m0(),L=Gs(),b=Ir();S.Q_MAX=257,S.Q_MAX2=116,S.LARGE_BITS=1e5,S.IXMAX_VAL=8206;function S(){var I=null,W=null,$=null;this.setModules=function(j,D,c){I=j,W=D,$=c};function y(j){return m(0<=j+S.Q_MAX2&&j<S.Q_MAX),Z[j+S.Q_MAX2]}this.IPOW20=function(j){return m(0<=j&&j<S.Q_MAX),K[j]};var O=2220446049250313e-31,A=S.IXMAX_VAL,X=A+2,l=S.Q_MAX,k=S.Q_MAX2;S.LARGE_BITS;var V=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var ae=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=ae,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var Z=u(l+k+1),K=u(l),ve=u(X),Ae=u(X);this.adj43=Ae;function ee(j,D){var c=$.ATHformula(D,j);return c-=V,c=Math.pow(10,c/10+j.ATHlower),c}function B(j){for(var D=j.internal_flags.ATH.l,c=j.internal_flags.ATH.psfb21,R=j.internal_flags.ATH.s,P=j.internal_flags.ATH.psfb12,G=j.internal_flags,x=j.out_samplerate,a=0;a<d.SBMAX_l;a++){var s=G.scalefac_band.l[a],i=G.scalefac_band.l[a+1];D[a]=n.MAX_VALUE;for(var f=s;f<i;f++){var p=f*x/1152,C=ee(j,p);D[a]=Math.min(D[a],C)}}for(var a=0;a<d.PSFB21;a++){var s=G.scalefac_band.psfb21[a],i=G.scalefac_band.psfb21[a+1];c[a]=n.MAX_VALUE;for(var f=s;f<i;f++){var p=f*x/1152,C=ee(j,p);c[a]=Math.min(c[a],C)}}for(var a=0;a<d.SBMAX_s;a++){var s=G.scalefac_band.s[a],i=G.scalefac_band.s[a+1];R[a]=n.MAX_VALUE;for(var f=s;f<i;f++){var p=f*x/384,C=ee(j,p);R[a]=Math.min(R[a],C)}R[a]*=G.scalefac_band.s[a+1]-G.scalefac_band.s[a]}for(var a=0;a<d.PSFB12;a++){var s=G.scalefac_band.psfb12[a],i=G.scalefac_band.psfb12[a+1];P[a]=n.MAX_VALUE;for(var f=s;f<i;f++){var p=f*x/384,C=ee(j,p);P[a]=Math.min(P[a],C)}P[a]*=G.scalefac_band.s[13]-G.scalefac_band.s[12]}if(j.noATH){for(var a=0;a<d.SBMAX_l;a++)D[a]=1e-20;for(var a=0;a<d.PSFB21;a++)c[a]=1e-20;for(var a=0;a<d.SBMAX_s;a++)R[a]=1e-20;for(var a=0;a<d.PSFB12;a++)P[a]=1e-20}G.ATH.floor=10*Math.log10(ee(j,-1))}this.iteration_init=function(j){var D=j.internal_flags,c=D.l3_side,R;if(D.iteration_init_init==0){for(D.iteration_init_init=1,c.main_data_begin=0,B(j),ve[0]=0,R=1;R<X;R++)ve[R]=Math.pow(R,4/3);for(R=0;R<X-1;R++)Ae[R]=R+1-Math.pow(.5*(ve[R]+ve[R+1]),.75);for(Ae[R]=.5,R=0;R<l;R++)K[R]=Math.pow(2,(R-210)*-.1875);for(R=0;R<=l+k;R++)Z[R]=Math.pow(2,(R-210-k)*.25);I.huffman_init(D);{var P,G,x,a;for(R=j.exp_nspsytune>>2&63,R>=32&&(R-=64),P=Math.pow(10,R/4/10),R=j.exp_nspsytune>>8&63,R>=32&&(R-=64),G=Math.pow(10,R/4/10),R=j.exp_nspsytune>>14&63,R>=32&&(R-=64),x=Math.pow(10,R/4/10),R=j.exp_nspsytune>>20&63,R>=32&&(R-=64),a=x*Math.pow(10,R/4/10),R=0;R<d.SBMAX_l;R++){var s;R<=6?s=P:R<=13?s=G:R<=20?s=x:s=a,D.nsPsy.longfact[R]=s}for(R=0;R<d.SBMAX_s;R++){var s;R<=5?s=P:R<=10?s=G:R<=11?s=x:s=a,D.nsPsy.shortfact[R]=s}}}},this.on_pe=function(j,D,c,R,P,G){var x=j.internal_flags,a=0,s,i=v(2),f,p=new L(a),C=W.ResvMaxBits(j,R,p,G);a=p.bits;var N=a+C;for(N>b.MAX_BITS_PER_GRANULE&&(N=b.MAX_BITS_PER_GRANULE),s=0,f=0;f<x.channels_out;++f)c[f]=Math.min(b.MAX_BITS_PER_CHANNEL,a/x.channels_out),i[f]=0|c[f]*D[P][f]/700-c[f],i[f]>R*3/4&&(i[f]=R*3/4),i[f]<0&&(i[f]=0),i[f]+c[f]>b.MAX_BITS_PER_CHANNEL&&(i[f]=Math.max(0,b.MAX_BITS_PER_CHANNEL-c[f])),s+=i[f];if(s>C)for(f=0;f<x.channels_out;++f)i[f]=C*i[f]/s;for(f=0;f<x.channels_out;++f)c[f]+=i[f],C-=i[f];for(s=0,f=0;f<x.channels_out;++f)s+=c[f];if(s>b.MAX_BITS_PER_GRANULE){var T=0;for(f=0;f<x.channels_out;++f)c[f]*=b.MAX_BITS_PER_GRANULE,c[f]/=s,T+=c[f];m(T<=b.MAX_BITS_PER_GRANULE)}return N},this.reduce_side=function(j,D,c,R){m(R<=b.MAX_BITS_PER_GRANULE),m(j[0]+j[1]<=b.MAX_BITS_PER_GRANULE);var P=.33*(.5-D)/.5;P<0&&(P=0),P>.5&&(P=.5);var G=0|P*.5*(j[0]+j[1]);G>b.MAX_BITS_PER_CHANNEL-j[0]&&(G=b.MAX_BITS_PER_CHANNEL-j[0]),G<0&&(G=0),j[1]>=125&&(j[1]-G>125?(j[0]<c&&(j[0]+=G),j[1]-=G):(j[0]+=j[1]-125,j[1]=125)),G=j[0]+j[1],G>R&&(j[0]=R*j[0]/G,j[1]=R*j[1]/G),m(j[0]<=b.MAX_BITS_PER_CHANNEL),m(j[1]<=b.MAX_BITS_PER_CHANNEL),m(j[0]+j[1]<=b.MAX_BITS_PER_GRANULE)},this.athAdjust=function(j,D,c){var R=90.30873362,P=94.82444863,G=o.FAST_LOG10_X(D,10),x=j*j,a=0;return G-=c,x>1e-20&&(a=1+o.FAST_LOG10_X(x,10/R)),a<0&&(a=0),G*=a,G+=c+R-P,Math.pow(10,.1*G)},this.calc_xmin=function(j,D,c,R){var P=0,G=j.internal_flags,x,a=0,s=0,i=G.ATH,f=c.xr,p=j.VBR==r.vbr_mtrh?1:0,C=G.masking_lower;for((j.VBR==r.vbr_mtrh||j.VBR==r.vbr_mt)&&(C=1),x=0;x<c.psy_lmax;x++){var N,T,Q,z,be,w;j.VBR==r.vbr_rh||j.VBR==r.vbr_mtrh?T=athAdjust(i.adjust,i.l[x],i.floor):T=i.adjust*i.l[x],be=c.width[x],Q=T/be,z=O,w=be>>1,N=0;do{var F,U;F=f[a]*f[a],N+=F,z+=F<Q?F:Q,a++,U=f[a]*f[a],N+=U,z+=U<Q?U:Q,a++}while(--w>0);if(N>T&&s++,x==d.SBPSY_l){var ne=T*G.nsPsy.longfact[x];z<ne&&(z=ne)}if(p!=0&&(T=z),!j.ATHonly){var oe=D.en.l[x];if(oe>0){var ne;ne=N*D.thm.l[x]*C/oe,p!=0&&(ne*=G.nsPsy.longfact[x]),T<ne&&(T=ne)}}p!=0?R[P++]=T:R[P++]=T*G.nsPsy.longfact[x]}var me=575;if(c.block_type!=d.SHORT_TYPE)for(var _=576;_--!=0&&BitStream.EQ(f[_],0);)me=_;c.max_nonzero_coeff=me;for(var h=c.sfb_smin;x<c.psymax;h++,x+=3){var be,ie,te;for(j.VBR==r.vbr_rh||j.VBR==r.vbr_mtrh?te=athAdjust(i.adjust,i.s[h],i.floor):te=i.adjust*i.s[h],be=c.width[x],ie=0;ie<3;ie++){var N=0,T,Q,z,w=be>>1;Q=te/be,z=O;do{var F,U;F=f[a]*f[a],N+=F,z+=F<Q?F:Q,a++,U=f[a]*f[a],N+=U,z+=U<Q?U:Q,a++}while(--w>0);if(N>te&&s++,h==d.SBPSY_s){var ne=te*G.nsPsy.shortfact[h];z<ne&&(z=ne)}if(p!=0?T=z:T=te,!j.ATHonly&&!j.ATHshort){var oe=D.en.s[h][ie];if(oe>0){var ne;ne=N*D.thm.s[h][ie]*C/oe,p!=0&&(ne*=G.nsPsy.shortfact[h]),T<ne&&(T=ne)}}p!=0?R[P++]=T:R[P++]=T*G.nsPsy.shortfact[h]}j.useTemporal&&(R[P-3]>R[P-3+1]&&(R[P-3+1]+=(R[P-3]-R[P-3+1])*G.decay),R[P-3+1]>R[P-3+2]&&(R[P-3+2]+=(R[P-3+1]-R[P-3+2])*G.decay))}return s};function Ne(j){this.s=j}this.calc_noise_core=function(j,D,c,R){var P=0,G=D.s,x=j.l3_enc;if(G>j.count1)for(;c--!=0;){var a;a=j.xr[G],G++,P+=a*a,a=j.xr[G],G++,P+=a*a}else if(G>j.big_values){var s=u(2);for(s[0]=0,s[1]=R;c--!=0;){var a;a=Math.abs(j.xr[G])-s[x[G]],G++,P+=a*a,a=Math.abs(j.xr[G])-s[x[G]],G++,P+=a*a}}else for(;c--!=0;){var a;a=Math.abs(j.xr[G])-ve[x[G]]*R,G++,P+=a*a,a=Math.abs(j.xr[G])-ve[x[G]]*R,G++,P+=a*a}return D.s=G,P},this.calc_noise=function(j,D,c,R,P){var G=0,x=0,a,s,i=0,f=0,p=0,C=-20,N=0,T=j.scalefac,Q=0;for(R.over_SSD=0,a=0;a<j.psymax;a++){var z=j.global_gain-(T[Q++]+(j.preflag!=0?ae[a]:0)<<j.scalefac_scale+1)-j.subblock_gain[j.window[a]]*8,be=0;if(P!=null&&P.step[a]==z)be=P.noise[a],N+=j.width[a],c[G++]=be/D[x++],be=P.noise_log[a];else{var w=y(z);if(s=j.width[a]>>1,N+j.width[a]>j.max_nonzero_coeff){var F;F=j.max_nonzero_coeff-N+1,F>0?s=F>>1:s=0}var U=new Ne(N);be=this.calc_noise_core(j,U,s,w),N=U.s,P!=null&&(P.step[a]=z,P.noise[a]=be),be=c[G++]=be/D[x++],be=o.FAST_LOG10(Math.max(be,1e-20)),P!=null&&(P.noise_log[a]=be)}if(P!=null&&(P.global_gain=j.global_gain),p+=be,be>0){var ne;ne=Math.max(0|be*10+.5,1),R.over_SSD+=ne*ne,i++,f+=be}C=Math.max(C,be)}return R.over_count=i,R.tot_noise=p,R.over_noise=f,R.max_noise=C,i},this.set_pinfo=function(j,D,c,R,P){var G=j.internal_flags,x,a,s,i,f,p=D.scalefac_scale==0?.5:1,C=D.scalefac,N=u(L3Side.SFBMAX),T=u(L3Side.SFBMAX),Q=new CalcNoiseResult;calc_xmin(j,c,D,N),calc_noise(D,N,T,Q,null);var z=0;for(a=D.sfb_lmax,D.block_type!=d.SHORT_TYPE&&D.mixed_block_flag==0&&(a=22),x=0;x<a;x++){var be=G.scalefac_band.l[x],w=G.scalefac_band.l[x+1],F=w-be;for(i=0;z<w;z++)i+=D.xr[z]*D.xr[z];i/=F,f=1e15,G.pinfo.en[R][P][x]=f*i,G.pinfo.xfsf[R][P][x]=f*N[x]*T[x]/F,c.en.l[x]>0&&!j.ATHonly?i=i/c.en.l[x]:i=0,G.pinfo.thr[R][P][x]=f*Math.max(i*c.thm.l[x],G.ATH.l[x]),G.pinfo.LAMEsfb[R][P][x]=0,D.preflag!=0&&x>=11&&(G.pinfo.LAMEsfb[R][P][x]=-p*ae[x]),x<d.SBPSY_l&&(m(C[x]>=0),G.pinfo.LAMEsfb[R][P][x]-=p*C[x])}if(D.block_type==d.SHORT_TYPE)for(a=x,x=D.sfb_smin;x<d.SBMAX_s;x++)for(var be=G.scalefac_band.s[x],w=G.scalefac_band.s[x+1],F=w-be,U=0;U<3;U++){for(i=0,s=be;s<w;s++)i+=D.xr[z]*D.xr[z],z++;i=Math.max(i/F,1e-20),f=1e15,G.pinfo.en_s[R][P][3*x+U]=f*i,G.pinfo.xfsf_s[R][P][3*x+U]=f*N[a]*T[a]/F,c.en.s[x][U]>0?i=i/c.en.s[x][U]:i=0,(j.ATHonly||j.ATHshort)&&(i=0),G.pinfo.thr_s[R][P][3*x+U]=f*Math.max(i*c.thm.s[x][U],G.ATH.s[x]),G.pinfo.LAMEsfb_s[R][P][3*x+U]=-2*D.subblock_gain[U],x<d.SBPSY_s&&(G.pinfo.LAMEsfb_s[R][P][3*x+U]-=p*C[a]),a++}G.pinfo.LAMEqss[R][P]=D.global_gain,G.pinfo.LAMEmainbits[R][P]=D.part2_3_length+D.part2_length,G.pinfo.LAMEsfbits[R][P]=D.part2_length,G.pinfo.over[R][P]=Q.over_count,G.pinfo.max_noise[R][P]=Q.max_noise*10,G.pinfo.over_noise[R][P]=Q.over_noise*10,G.pinfo.tot_noise[R][P]=Q.tot_noise*10,G.pinfo.over_SSD[R][P]=Q.over_SSD}}return Sa=S,Sa}var xa,p1;function Us(){if(p1)return xa;p1=1;var e=o0(),t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var r=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var n=e.new_int;e.new_int_n;var o=e.assert,u=m0(),v=_n(),m=on(),d=Ys();function L(){var b=null;this.qupvt=null,this.setModules=function(x){this.qupvt=x,b=x};function S(x){this.bits=0|x}var I=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function W(x,a,s,i,f,p){var C=.5946/a;for(o(x>0),x=x>>1;x--!=0;)f[p++]=C>s[i++]?0:1,f[p++]=C>s[i++]?0:1}function $(x,a,s,i,f,p){o(x>0),x=x>>1;var C=x%2;for(x=x>>1;x--!=0;){var N,T,Q,z,be,w,F,U;N=s[i++]*a,T=s[i++]*a,be=0|N,Q=s[i++]*a,w=0|T,z=s[i++]*a,F=0|Q,N+=b.adj43[be],U=0|z,T+=b.adj43[w],f[p++]=0|N,Q+=b.adj43[F],f[p++]=0|T,z+=b.adj43[U],f[p++]=0|Q,f[p++]=0|z}if(C!=0){var N,T,be,w;N=s[i++]*a,T=s[i++]*a,be=0|N,w=0|T,N+=b.adj43[be],T+=b.adj43[w],f[p++]=0|N,f[p++]=0|T}}function y(x,a,s,i,f){var p,C,N=0,T,Q=0,z=0,be=0,w=a,F=0,U=w,ne=0,oe=x,me=0;for(T=f!=null&&i.global_gain==f.global_gain,i.block_type==u.SHORT_TYPE?C=38:C=21,p=0;p<=C;p++){var _=-1;if((T||i.block_type==u.NORM_TYPE)&&(_=i.global_gain-(i.scalefac[p]+(i.preflag!=0?b.pretab[p]:0)<<i.scalefac_scale+1)-i.subblock_gain[i.window[p]]*8),o(i.width[p]>=0),T&&f.step[p]==_)Q!=0&&($(Q,s,oe,me,U,ne),Q=0),z!=0&&(W(z,s,oe,me,U,ne),z=0);else{var h=i.width[p];if(N+i.width[p]>i.max_nonzero_coeff){var ie;ie=i.max_nonzero_coeff-N+1,r.fill(a,i.max_nonzero_coeff,576,0),h=ie,h<0&&(h=0),p=C+1}if(Q==0&&z==0&&(U=w,ne=F,oe=x,me=be),f!=null&&f.sfb_count1>0&&p>=f.sfb_count1&&f.step[p]>0&&_>=f.step[p]?(Q!=0&&($(Q,s,oe,me,U,ne),Q=0,U=w,ne=F,oe=x,me=be),z+=h):(z!=0&&(W(z,s,oe,me,U,ne),z=0,U=w,ne=F,oe=x,me=be),Q+=h),h<=0){z!=0&&(W(z,s,oe,me,U,ne),z=0),Q!=0&&($(Q,s,oe,me,U,ne),Q=0);break}}p<=C&&(F+=i.width[p],be+=i.width[p],N+=i.width[p])}Q!=0&&($(Q,s,oe,me,U,ne),Q=0),z!=0&&(W(z,s,oe,me,U,ne),z=0)}function O(x,a,s){var i=0,f=0;do{var p=x[a++],C=x[a++];i<p&&(i=p),f<C&&(f=C)}while(a<s);return i<f&&(i=f),i}function A(x,a,s,i,f,p){var C=v.ht[i].xlen*65536+v.ht[f].xlen,N=0,T;do{var Q=x[a++],z=x[a++];Q!=0&&(Q>14&&(Q=15,N+=C),Q*=16),z!=0&&(z>14&&(z=15,N+=C),Q+=z),N+=v.largetbl[Q]}while(a<s);return T=N&65535,N>>=16,N>T&&(N=T,i=f),p.bits+=N,i}function X(x,a,s,i){var f=0,p=v.ht[1].hlen;do{var C=x[a+0]*2+x[a+1];a+=2,f+=p[C]}while(a<s);return i.bits+=f,1}function l(x,a,s,i,f){var p=0,C,N=v.ht[i].xlen,T;i==2?T=v.table23:T=v.table56;do{var Q=x[a+0]*N+x[a+1];a+=2,p+=T[Q]}while(a<s);return C=p&65535,p>>=16,p>C&&(p=C,i++),f.bits+=p,i}function k(x,a,s,i,f){var p=0,C=0,N=0,T=v.ht[i].xlen,Q=v.ht[i].hlen,z=v.ht[i+1].hlen,be=v.ht[i+2].hlen;do{var w=x[a+0]*T+x[a+1];a+=2,p+=Q[w],C+=z[w],N+=be[w]}while(a<s);var F=i;return p>C&&(p=C,F++),p>N&&(p=N,F=i+2),f.bits+=p,F}var V=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function ae(x,a,s,i){var f=O(x,a,s);switch(f){case 0:return f;case 1:return X(x,a,s,i);case 2:case 3:return l(x,a,s,V[f-1],i);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return k(x,a,s,V[f-1],i);default:if(f>d.IXMAX_VAL)return i.bits=d.LARGE_BITS,-1;f-=15;var p;for(p=24;p<32&&!(v.ht[p].linmax>=f);p++);var C;for(C=p-8;C<24&&!(v.ht[C].linmax>=f);C++);return A(x,a,s,C,p,i)}}this.noquant_count_bits=function(x,a,s){var i=a.l3_enc,f=Math.min(576,a.max_nonzero_coeff+2>>1<<1);for(s!=null&&(s.sfb_count1=0);f>1&&(i[f-1]|i[f-2])==0;f-=2);a.count1=f;for(var p=0,C=0;f>3;f-=4){var N;if(((i[f-1]|i[f-2]|i[f-3]|i[f-4])&2147483647)>1)break;N=((i[f-4]*2+i[f-3])*2+i[f-2])*2+i[f-1],p+=v.t32l[N],C+=v.t33l[N]}var T=p;if(a.count1table_select=0,p>C&&(T=C,a.count1table_select=1),a.count1bits=T,a.big_values=f,f==0)return T;if(a.block_type==u.SHORT_TYPE)p=3*x.scalefac_band.s[3],p>a.big_values&&(p=a.big_values),C=a.big_values;else if(a.block_type==u.NORM_TYPE){if(o(f<=576),p=a.region0_count=x.bv_scf[f-2],C=a.region1_count=x.bv_scf[f-1],o(p+C+2<u.SBPSY_l),C=x.scalefac_band.l[p+C+2],p=x.scalefac_band.l[p+1],C<f){var Q=new S(T);a.table_select[2]=ae(i,C,f,Q),T=Q.bits}}else a.region0_count=7,a.region1_count=u.SBMAX_l-1-7-1,p=x.scalefac_band.l[8],C=f,p>C&&(p=C);if(p=Math.min(p,f),C=Math.min(C,f),o(p>=0),o(C>=0),0<p){var Q=new S(T);a.table_select[0]=ae(i,0,p,Q),T=Q.bits}if(p<C){var Q=new S(T);a.table_select[1]=ae(i,p,C,Q),T=Q.bits}if(x.use_best_huffman==2&&(a.part2_3_length=T,best_huffman_divide(x,a),T=a.part2_3_length),s!=null&&a.block_type==u.NORM_TYPE){for(var z=0;x.scalefac_band.l[z]<a.big_values;)z++;s.sfb_count1=z}return T},this.count_bits=function(x,a,s,i){var f=s.l3_enc,p=d.IXMAX_VAL/b.IPOW20(s.global_gain);if(s.xrpow_max>p)return d.LARGE_BITS;if(y(a,f,b.IPOW20(s.global_gain),s,i),(x.substep_shaping&2)!=0)for(var C=0,N=s.global_gain+s.scalefac_scale,T=.634521682242439/b.IPOW20(N),Q=0;Q<s.sfbmax;Q++){var z=s.width[Q];if(o(z>=0),x.pseudohalf[Q]==0)C+=z;else{var be;for(be=C,C+=z;be<C;++be)f[be]=a[be]>=T?f[be]:0}}return this.noquant_count_bits(x,s,i)};function Z(x,a,s,i,f,p,C){for(var N=a.big_values,T=0;T<=22;T++)i[T]=d.LARGE_BITS;for(var T=0;T<16;T++){var Q=x.scalefac_band.l[T+1];if(Q>=N)break;var z=0,be=new S(z),w=ae(s,0,Q,be);z=be.bits;for(var F=0;F<8;F++){var U=x.scalefac_band.l[T+F+2];if(U>=N)break;var ne=z;be=new S(ne);var oe=ae(s,Q,U,be);ne=be.bits,i[T+F]>ne&&(i[T+F]=ne,f[T+F]=T,p[T+F]=w,C[T+F]=oe)}}}function K(x,a,s,i,f,p,C,N){for(var T=a.big_values,Q=2;Q<u.SBMAX_l+1;Q++){var z=x.scalefac_band.l[Q];if(z>=T)break;var be=f[Q-2]+a.count1bits;if(s.part2_3_length<=be)break;var w=new S(be),F=ae(i,z,T,w);be=w.bits,!(s.part2_3_length<=be)&&(s.assign(a),s.part2_3_length=be,s.region0_count=p[Q-2],s.region1_count=Q-2-p[Q-2],s.table_select[0]=C[Q-2],s.table_select[1]=N[Q-2],s.table_select[2]=F)}}this.best_huffman_divide=function(x,a){var s=new m,i=a.l3_enc,f=n(23),p=n(23),C=n(23),N=n(23);if(!(a.block_type==u.SHORT_TYPE&&x.mode_gr==1)){s.assign(a),a.block_type==u.NORM_TYPE&&(Z(x,a,i,f,p,C,N),K(x,s,a,i,f,p,C,N));var T=s.big_values;if(!(T==0||(i[T-2]|i[T-1])>1)&&(T=a.count1+2,!(T>576))){s.assign(a),s.count1=T;var Q=0,z=0;for(o(T<=576);T>s.big_values;T-=4){var be=((i[T-4]*2+i[T-3])*2+i[T-2])*2+i[T-1];Q+=v.t32l[be],z+=v.t33l[be]}if(s.big_values=T,s.count1table_select=0,Q>z&&(Q=z,s.count1table_select=1),s.count1bits=Q,s.block_type==u.NORM_TYPE)K(x,s,a,i,f,p,C,N);else{if(s.part2_3_length=Q,Q=x.scalefac_band.l[8],Q>T&&(Q=T),Q>0){var w=new S(s.part2_3_length);s.table_select[0]=ae(i,0,Q,w),s.part2_3_length=w.bits}if(T>Q){var w=new S(s.part2_3_length);s.table_select[1]=ae(i,Q,T,w),s.part2_3_length=w.bits}a.part2_3_length>s.part2_3_length&&a.assign(s)}}}};var ve=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],Ae=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],ee=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],B=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];L.slen1_tab=ee,L.slen2_tab=B;function Ne(x,a){for(var s,i=a.tt[1][x],f=a.tt[0][x],p=0;p<v.scfsi_band.length-1;p++){for(s=v.scfsi_band[p];s<v.scfsi_band[p+1]&&!(f.scalefac[s]!=i.scalefac[s]&&i.scalefac[s]>=0);s++);if(s==v.scfsi_band[p+1]){for(s=v.scfsi_band[p];s<v.scfsi_band[p+1];s++)i.scalefac[s]=-1;a.scfsi[x][p]=1}}var C=0,N=0;for(s=0;s<11;s++)i.scalefac[s]!=-1&&(N++,C<i.scalefac[s]&&(C=i.scalefac[s]));for(var T=0,Q=0;s<u.SBPSY_l;s++)i.scalefac[s]!=-1&&(Q++,T<i.scalefac[s]&&(T=i.scalefac[s]));for(var p=0;p<16;p++)if(C<ve[p]&&T<Ae[p]){var z=ee[p]*N+B[p]*Q;i.part2_length>z&&(i.part2_length=z,i.scalefac_compress=p)}}this.best_scalefac_store=function(x,a,s,i){var f=i.tt[a][s],p,C,N,T,Q=0;for(N=0,p=0;p<f.sfbmax;p++){var z=f.width[p];for(o(z>=0),N+=z,T=-z;T<0&&f.l3_enc[T+N]==0;T++);T==0&&(f.scalefac[p]=Q=-2)}if(f.scalefac_scale==0&&f.preflag==0){var be=0;for(p=0;p<f.sfbmax;p++)f.scalefac[p]>0&&(be|=f.scalefac[p]);if((be&1)==0&&be!=0){for(p=0;p<f.sfbmax;p++)f.scalefac[p]>0&&(f.scalefac[p]>>=1);f.scalefac_scale=Q=1}}if(f.preflag==0&&f.block_type!=u.SHORT_TYPE&&x.mode_gr==2){for(p=11;p<u.SBPSY_l&&!(f.scalefac[p]<b.pretab[p]&&f.scalefac[p]!=-2);p++);if(p==u.SBPSY_l){for(p=11;p<u.SBPSY_l;p++)f.scalefac[p]>0&&(f.scalefac[p]-=b.pretab[p]);f.preflag=Q=1}}for(C=0;C<4;C++)i.scfsi[s][C]=0;for(x.mode_gr==2&&a==1&&i.tt[0][s].block_type!=u.SHORT_TYPE&&i.tt[1][s].block_type!=u.SHORT_TYPE&&(Ne(s,i),Q=0),p=0;p<f.sfbmax;p++)f.scalefac[p]==-2&&(f.scalefac[p]=0);Q!=0&&(x.mode_gr==2?this.scale_bitcount(f):this.scale_bitcount_lsf(x,f))};function j(x,a){for(var s=0;s<a;++s)if(x[s]<0)return!1;return!0}var D=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],c=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],R=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(x){var a,s,i=0,f=0,p,C=x.scalefac;if(o(j(C,x.sfbmax)),x.block_type==u.SHORT_TYPE)p=D,x.mixed_block_flag!=0&&(p=c);else if(p=R,x.preflag==0){for(s=11;s<u.SBPSY_l&&!(C[s]<b.pretab[s]);s++);if(s==u.SBPSY_l)for(x.preflag=1,s=11;s<u.SBPSY_l;s++)C[s]-=b.pretab[s]}for(s=0;s<x.sfbdivide;s++)i<C[s]&&(i=C[s]);for(;s<x.sfbmax;s++)f<C[s]&&(f=C[s]);for(x.part2_length=d.LARGE_BITS,a=0;a<16;a++)i<ve[a]&&f<Ae[a]&&x.part2_length>p[a]&&(x.part2_length=p[a],x.scalefac_compress=a);return x.part2_length==d.LARGE_BITS};var P=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(x,a){var s,i,f,p,C,N,T,Q,z=n(4),be=a.scalefac;for(a.preflag!=0?s=2:s=0,T=0;T<4;T++)z[T]=0;if(a.block_type==u.SHORT_TYPE){i=1;var w=b.nr_of_sfb_block[s][i];for(Q=0,f=0;f<4;f++)for(p=w[f]/3,T=0;T<p;T++,Q++)for(C=0;C<3;C++)be[Q*3+C]>z[f]&&(z[f]=be[Q*3+C])}else{i=0;var w=b.nr_of_sfb_block[s][i];for(Q=0,f=0;f<4;f++)for(p=w[f],T=0;T<p;T++,Q++)be[Q]>z[f]&&(z[f]=be[Q])}for(N=!1,f=0;f<4;f++)z[f]>P[s][f]&&(N=!0);if(!N){var F,U,ne,oe;for(a.sfb_partition_table=b.nr_of_sfb_block[s][i],f=0;f<4;f++)a.slen[f]=G[z[f]];switch(F=a.slen[0],U=a.slen[1],ne=a.slen[2],oe=a.slen[3],s){case 0:a.scalefac_compress=(F*5+U<<4)+(ne<<2)+oe;break;case 1:a.scalefac_compress=400+(F*5+U<<2)+ne;break;case 2:a.scalefac_compress=500+F*3+U;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!N)for(o(a.sfb_partition_table!=null),a.part2_length=0,f=0;f<4;f++)a.part2_length+=a.slen[f]*a.sfb_partition_table[f];return N};var G=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(x){for(var a=2;a<=576;a+=2){for(var s=0,i;x.scalefac_band.l[++s]<a;);for(i=I[s][0];x.scalefac_band.l[i+1]>a;)i--;for(i<0&&(i=I[s][0]),x.bv_scf[a-2]=i,i=I[s][1];x.scalefac_band.l[i+x.bv_scf[a-2]+2]>a;)i--;i<0&&(i=I[s][1]),x.bv_scf[a-1]=i}}}return xa=L,xa}var Aa,S1;function un(){if(S1)return Aa;S1=1;var e=o0(),t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var r=e.Arrays;e.new_array_n;var n=e.new_byte;e.new_double,e.new_float;var o=e.new_float_n,u=e.new_int;e.new_int_n;var v=e.assert,m=Us(),d=_n(),L=m0(),b=Ir();S.EQ=function(I,W){return Math.abs(I)>Math.abs(W)?Math.abs(I-W)<=Math.abs(I)*1e-6:Math.abs(I-W)<=Math.abs(W)*1e-6},S.NEQ=function(I,W){return!S.EQ(I,W)};function S(){var I=this,W=32773,$=32,y=null,O=null,A=null,X=null;this.setModules=function(a,s,i,f){y=a,O=s,A=i,X=f};var l=null,k=0,V=0,ae=0;this.getframebits=function(a){var s=a.internal_flags,i;s.bitrate_index!=0?i=d.bitrate_table[a.version][s.bitrate_index]:i=a.brate,v(8<=i&&i<=640);var f=0|(a.version+1)*72e3*i/a.out_samplerate+s.padding;return 8*f};function Z(a){t.arraycopy(a.header[a.w_ptr].buf,0,l,V,a.sideinfo_len),V+=a.sideinfo_len,k+=a.sideinfo_len*8,a.w_ptr=a.w_ptr+1&b.MAX_HEADER_BUF-1}function K(a,s,i){for(v(i<$-2);i>0;){var f;ae==0&&(ae=8,V++,v(V<Lame.LAME_MAXMP3BUFFER),v(a.header[a.w_ptr].write_timing>=k),a.header[a.w_ptr].write_timing==k&&Z(a),l[V]=0),f=Math.min(i,ae),i-=f,ae-=f,v(i<$),v(ae<$),l[V]|=s>>i<<ae,k+=f}}function ve(a,s,i){for(v(i<$-2);i>0;){var f;ae==0&&(ae=8,V++,v(V<Lame.LAME_MAXMP3BUFFER),l[V]=0),f=Math.min(i,ae),i-=f,ae-=f,v(i<$),v(ae<$),l[V]|=s>>i<<ae,k+=f}}function Ae(a,s){var i=a.internal_flags,f;if(v(s>=0),s>=8&&(K(i,76,8),s-=8),s>=8&&(K(i,65,8),s-=8),s>=8&&(K(i,77,8),s-=8),s>=8&&(K(i,69,8),s-=8),s>=32){var p=A.getLameShortVersion();if(s>=32)for(f=0;f<p.length&&s>=8;++f)s-=8,K(i,p.charAt(f),8)}for(;s>=1;s-=1)K(i,i.ancillary_flag,1),i.ancillary_flag^=a.disable_reservoir?0:1;v(s==0)}function ee(a,s,i){for(var f=a.header[a.h_ptr].ptr;i>0;){var p=Math.min(i,8-(f&7));i-=p,v(i<$),a.header[a.h_ptr].buf[f>>3]|=s>>i<<8-(f&7)-p,f+=p}a.header[a.h_ptr].ptr=f}function B(a,s){a<<=8;for(var i=0;i<8;i++)a<<=1,s<<=1,((s^a)&65536)!=0&&(s^=W);return s}this.CRC_writeheader=function(a,s){var i=65535;i=B(s[2]&255,i),i=B(s[3]&255,i);for(var f=6;f<a.sideinfo_len;f++)i=B(s[f]&255,i);s[4]=byte(i>>8),s[5]=byte(i&255)};function Ne(a,s){var i=a.internal_flags,f,p,C;if(f=i.l3_side,i.header[i.h_ptr].ptr=0,r.fill(i.header[i.h_ptr].buf,0,i.sideinfo_len,0),a.out_samplerate<16e3?ee(i,4094,12):ee(i,4095,12),ee(i,a.version,1),ee(i,1,2),ee(i,a.error_protection?0:1,1),ee(i,i.bitrate_index,4),ee(i,i.samplerate_index,2),ee(i,i.padding,1),ee(i,a.extension,1),ee(i,a.mode.ordinal(),2),ee(i,i.mode_ext,2),ee(i,a.copyright,1),ee(i,a.original,1),ee(i,a.emphasis,2),a.error_protection&&ee(i,0,16),a.version==1){for(v(f.main_data_begin>=0),ee(i,f.main_data_begin,9),i.channels_out==2?ee(i,f.private_bits,3):ee(i,f.private_bits,5),C=0;C<i.channels_out;C++){var N;for(N=0;N<4;N++)ee(i,f.scfsi[C][N],1)}for(p=0;p<2;p++)for(C=0;C<i.channels_out;C++){var T=f.tt[p][C];ee(i,T.part2_3_length+T.part2_length,12),ee(i,T.big_values/2,9),ee(i,T.global_gain,8),ee(i,T.scalefac_compress,4),T.block_type!=L.NORM_TYPE?(ee(i,1,1),ee(i,T.block_type,2),ee(i,T.mixed_block_flag,1),T.table_select[0]==14&&(T.table_select[0]=16),ee(i,T.table_select[0],5),T.table_select[1]==14&&(T.table_select[1]=16),ee(i,T.table_select[1],5),ee(i,T.subblock_gain[0],3),ee(i,T.subblock_gain[1],3),ee(i,T.subblock_gain[2],3)):(ee(i,0,1),T.table_select[0]==14&&(T.table_select[0]=16),ee(i,T.table_select[0],5),T.table_select[1]==14&&(T.table_select[1]=16),ee(i,T.table_select[1],5),T.table_select[2]==14&&(T.table_select[2]=16),ee(i,T.table_select[2],5),v(0<=T.region0_count&&T.region0_count<16),v(0<=T.region1_count&&T.region1_count<8),ee(i,T.region0_count,4),ee(i,T.region1_count,3)),ee(i,T.preflag,1),ee(i,T.scalefac_scale,1),ee(i,T.count1table_select,1)}}else for(v(f.main_data_begin>=0),ee(i,f.main_data_begin,8),ee(i,f.private_bits,i.channels_out),p=0,C=0;C<i.channels_out;C++){var T=f.tt[p][C];ee(i,T.part2_3_length+T.part2_length,12),ee(i,T.big_values/2,9),ee(i,T.global_gain,8),ee(i,T.scalefac_compress,9),T.block_type!=L.NORM_TYPE?(ee(i,1,1),ee(i,T.block_type,2),ee(i,T.mixed_block_flag,1),T.table_select[0]==14&&(T.table_select[0]=16),ee(i,T.table_select[0],5),T.table_select[1]==14&&(T.table_select[1]=16),ee(i,T.table_select[1],5),ee(i,T.subblock_gain[0],3),ee(i,T.subblock_gain[1],3),ee(i,T.subblock_gain[2],3)):(ee(i,0,1),T.table_select[0]==14&&(T.table_select[0]=16),ee(i,T.table_select[0],5),T.table_select[1]==14&&(T.table_select[1]=16),ee(i,T.table_select[1],5),T.table_select[2]==14&&(T.table_select[2]=16),ee(i,T.table_select[2],5),v(0<=T.region0_count&&T.region0_count<16),v(0<=T.region1_count&&T.region1_count<8),ee(i,T.region0_count,4),ee(i,T.region1_count,3)),ee(i,T.scalefac_scale,1),ee(i,T.count1table_select,1)}a.error_protection&&CRC_writeheader(i,i.header[i.h_ptr].buf);{var Q=i.h_ptr;v(i.header[Q].ptr==i.sideinfo_len*8),i.h_ptr=Q+1&b.MAX_HEADER_BUF-1,i.header[i.h_ptr].write_timing=i.header[Q].write_timing+s,i.h_ptr==i.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function j(a,s){var i=d.ht[s.count1table_select+32],f,p=0,C=s.big_values,N=s.big_values;for(v(s.count1table_select<2),f=(s.count1-s.big_values)/4;f>0;--f){var T=0,Q=0,z;z=s.l3_enc[C+0],z!=0&&(Q+=8,s.xr[N+0]<0&&T++,v(z<=1)),z=s.l3_enc[C+1],z!=0&&(Q+=4,T*=2,s.xr[N+1]<0&&T++,v(z<=1)),z=s.l3_enc[C+2],z!=0&&(Q+=2,T*=2,s.xr[N+2]<0&&T++,v(z<=1)),z=s.l3_enc[C+3],z!=0&&(Q++,T*=2,s.xr[N+3]<0&&T++,v(z<=1)),C+=4,N+=4,K(a,T+i.table[Q],i.hlen[Q]),p+=i.hlen[Q]}return p}function D(a,s,i,f,p){var C=d.ht[s],N=0;if(v(s<32),s==0)return N;for(var T=i;T<f;T+=2){var Q=0,z=0,be=C.xlen,w=C.xlen,F=0,U=p.l3_enc[T],ne=p.l3_enc[T+1];if(U!=0&&(p.xr[T]<0&&F++,Q--),s>15){if(U>14){var oe=U-15;v(oe<=C.linmax),F|=oe<<1,z=be,U=15}if(ne>14){var me=ne-15;v(me<=C.linmax),F<<=be,F|=me,z+=be,ne=15}w=16}ne!=0&&(F<<=1,p.xr[T+1]<0&&F++,Q--),v((U|ne)<16),U=U*w+ne,z-=Q,Q+=C.hlen[U],v(Q<=$),v(z<=$),K(a,C.table[U],Q),K(a,F,z),N+=Q+z}return N}function c(a,s){var i=3*a.scalefac_band.s[3];i>s.big_values&&(i=s.big_values);var f=D(a,s.table_select[0],0,i,s);return f+=D(a,s.table_select[1],i,s.big_values,s),f}function R(a,s){var i,f,p,C;i=s.big_values,v(0<=i&&i<=576);var N=s.region0_count+1;return v(0<=N),v(N<a.scalefac_band.l.length),p=a.scalefac_band.l[N],N+=s.region1_count+1,v(0<=N),v(N<a.scalefac_band.l.length),C=a.scalefac_band.l[N],p>i&&(p=i),C>i&&(C=i),f=D(a,s.table_select[0],0,p,s),f+=D(a,s.table_select[1],p,C,s),f+=D(a,s.table_select[2],C,i,s),f}function P(a){var s,i,f,p,C=0,N=a.internal_flags,T=N.l3_side;if(a.version==1)for(s=0;s<2;s++)for(i=0;i<N.channels_out;i++){var Q=T.tt[s][i],z=m.slen1_tab[Q.scalefac_compress],be=m.slen2_tab[Q.scalefac_compress];for(p=0,f=0;f<Q.sfbdivide;f++)Q.scalefac[f]!=-1&&(K(N,Q.scalefac[f],z),p+=z);for(;f<Q.sfbmax;f++)Q.scalefac[f]!=-1&&(K(N,Q.scalefac[f],be),p+=be);v(p==Q.part2_length),Q.block_type==L.SHORT_TYPE?p+=c(N,Q):p+=R(N,Q),p+=j(N,Q),v(p==Q.part2_3_length+Q.part2_length),C+=p}else for(s=0,i=0;i<N.channels_out;i++){var Q=T.tt[s][i],w,F,U=0;if(v(Q.sfb_partition_table!=null),p=0,f=0,F=0,Q.block_type==L.SHORT_TYPE){for(;F<4;F++){var ne=Q.sfb_partition_table[F]/3,oe=Q.slen[F];for(w=0;w<ne;w++,f++)K(N,Math.max(Q.scalefac[f*3+0],0),oe),K(N,Math.max(Q.scalefac[f*3+1],0),oe),K(N,Math.max(Q.scalefac[f*3+2],0),oe),U+=3*oe}p+=c(N,Q)}else{for(;F<4;F++){var ne=Q.sfb_partition_table[F],oe=Q.slen[F];for(w=0;w<ne;w++,f++)K(N,Math.max(Q.scalefac[f],0),oe),U+=oe}p+=R(N,Q)}p+=j(N,Q),v(p==Q.part2_3_length),v(U==Q.part2_length),C+=U+p}return C}function G(){this.total=0}function x(a,s){var i=a.internal_flags,f,p,C,N,T;return T=i.w_ptr,N=i.h_ptr-1,N==-1&&(N=b.MAX_HEADER_BUF-1),f=i.header[N].write_timing-k,s.total=f,f>=0&&(p=1+N-T,N<T&&(p=1+N-T+b.MAX_HEADER_BUF),f-=p*8*i.sideinfo_len),C=I.getframebits(a),f+=C,s.total+=C,s.total%8!=0?s.total=1+s.total/8:s.total=s.total/8,s.total+=V+1,f<0&&t.err.println(`strange error flushing buffer ... 
`),f}this.flush_bitstream=function(a){var s=a.internal_flags,i,f,p=s.h_ptr-1;if(p==-1&&(p=b.MAX_HEADER_BUF-1),i=s.l3_side,!((f=x(a,new G))<0)){if(Ae(a,f),v(s.header[p].write_timing+this.getframebits(a)==k),s.ResvSize=0,i.main_data_begin=0,s.findReplayGain){var C=y.GetTitleGain(s.rgdata);v(NEQ(C,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),s.RadioGain=Math.floor(C*10+.5)|0}s.findPeakSample&&(s.noclipGainChange=Math.ceil(Math.log10(s.PeakSample/32767)*20*10)|0,s.noclipGainChange>0&&(EQ(a.scale,1)||EQ(a.scale,0))?s.noclipScale=Math.floor(32767/s.PeakSample*100)/100:s.noclipScale=-1)}},this.add_dummy_byte=function(a,s,i){for(var f=a.internal_flags,p;i-- >0;)for(ve(f,s,8),p=0;p<b.MAX_HEADER_BUF;++p)f.header[p].write_timing+=8},this.format_bitstream=function(a){var s=a.internal_flags,i;i=s.l3_side;var f=this.getframebits(a);Ae(a,i.resvDrain_pre),Ne(a,f);var p=8*s.sideinfo_len;if(p+=P(a),Ae(a,i.resvDrain_post),p+=i.resvDrain_post,i.main_data_begin+=(f-p)/8,x(a,new G)!=s.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),i.main_data_begin*8!=s.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*i.main_data_begin,s.ResvSize,i.resvDrain_post,i.resvDrain_pre,8*s.sideinfo_len,p-i.resvDrain_post-8*s.sideinfo_len,p,p%8,f),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),s.ResvSize=i.main_data_begin*8),v(k%8==0),k>1e9){var C;for(C=0;C<b.MAX_HEADER_BUF;++C)s.header[C].write_timing-=k;k=0}return 0},this.copy_buffer=function(a,s,i,f,p){var C=V+1;if(C<=0)return 0;if(f!=0&&C>f)return-1;if(t.arraycopy(l,0,s,i,C),V=-1,ae=0,p!=0){var N=u(1);if(N[0]=a.nMusicCRC,X.updateMusicCRC(N,s,i,C),a.nMusicCRC=N[0],C>0&&(a.VBR_seek_table.nBytesWritten+=C),a.decode_on_the_fly){for(var T=o([2,1152]),Q=C,z=-1,be;z!=0;)if(z=O.hip_decode1_unclipped(a.hip,s,i,Q,T[0],T[1]),Q=0,z==-1&&(z=0),z>0){if(v(z<=1152),a.findPeakSample){for(be=0;be<z;be++)T[0][be]>a.PeakSample?a.PeakSample=T[0][be]:-T[0][be]>a.PeakSample&&(a.PeakSample=-T[0][be]);if(a.channels_out>1)for(be=0;be<z;be++)T[1][be]>a.PeakSample?a.PeakSample=T[1][be]:-T[1][be]>a.PeakSample&&(a.PeakSample=-T[1][be])}if(a.findReplayGain&&y.AnalyzeSamples(a.rgdata,T[0],0,T[1],0,z,a.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return C},this.init_bit_stream_w=function(a){l=n(Lame.LAME_MAXMP3BUFFER),a.h_ptr=a.w_ptr=0,a.header[a.h_ptr].write_timing=0,V=-1,ae=0,k=0}}return Aa=S,Aa}var Ma,x1;function Ks(){if(x1)return Ma;x1=1;var e=o0(),t=e.System,r=e.VbrMode;e.Float;var n=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var o=e.new_float;e.new_float_n,e.new_int;var u=e.new_int_n,v=e.new_short_n,m=e.assert,d=Mo(),L=Ro(),b=Ir(),S=To(),I=Bo(),W=Io(),$=un(),y=_n(),O=m0();function A(){var X=this,l=128*1024;A.V9=410,A.V8=420,A.V7=430,A.V6=440,A.V5=450,A.V4=460,A.V3=470,A.V2=480,A.V1=490,A.V0=500,A.R3MIX=1e3,A.STANDARD=1001,A.EXTREME=1002,A.INSANE=1003,A.STANDARD_FAST=1004,A.EXTREME_FAST=1005,A.MEDIUM=1006,A.MEDIUM_FAST=1007;var k=16384+l;A.LAME_MAXMP3BUFFER=k;var V,ae,Z,K,ve,Ae=new d,ee,B,Ne;this.enc=new O,this.setModules=function(_,h,ie,te,we,he,pe,xe,Ce){V=_,ae=h,Z=ie,K=te,ve=we,ee=he,B=xe,Ne=Ce,this.enc.setModules(ae,Ae,K,ee)};function j(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=o(O.SBMAX_l),this.bo_s_weight=o(O.SBMAX_s)}function D(){this.lowerlimit=0}function c(_,h){this.lowpass=h}var R=4294479419;function P(_){var h;return _.class_id=R,h=_.internal_flags=new b,_.mode=MPEGMode.NOT_SET,_.original=1,_.in_samplerate=44100,_.num_channels=2,_.num_samples=-1,_.bWriteVbrTag=!0,_.quality=-1,_.short_blocks=null,h.subblock_gain=-1,_.lowpassfreq=0,_.highpassfreq=0,_.lowpasswidth=-1,_.highpasswidth=-1,_.VBR=r.vbr_off,_.VBR_q=4,_.ATHcurve=-1,_.VBR_mean_bitrate_kbps=128,_.VBR_min_bitrate_kbps=0,_.VBR_max_bitrate_kbps=0,_.VBR_hard_min=0,h.VBR_min_bitrate=1,h.VBR_max_bitrate=13,_.quant_comp=-1,_.quant_comp_short=-1,_.msfix=-1,h.resample_ratio=1,h.OldValue[0]=180,h.OldValue[1]=180,h.CurrentStep[0]=4,h.CurrentStep[1]=4,h.masking_lower=1,h.nsPsy.attackthre=-1,h.nsPsy.attackthre_s=-1,_.scale=-1,_.athaa_type=-1,_.ATHtype=-1,_.athaa_loudapprox=-1,_.athaa_sensitivity=0,_.useTemporal=null,_.interChRatio=-1,h.mf_samples_to_encode=O.ENCDELAY+O.POSTDELAY,_.encoder_padding=0,h.mf_size=O.ENCDELAY-O.MDCTDELAY,_.findReplayGain=!1,_.decode_on_the_fly=!1,h.decode_on_the_fly=!1,h.findReplayGain=!1,h.findPeakSample=!1,h.RadioGain=0,h.AudiophileGain=0,h.noclipGainChange=0,h.noclipScale=-1,_.preset=0,_.write_id3tag_automatic=!0,0}this.lame_init=function(){var _=new L;return P(_),_.lame_allocated_gfp=1,_};function G(_){return _>1?0:_<=0?1:Math.cos(Math.PI/2*_)}this.nearestBitrateFullIndex=function(_){var h=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],ie=0,te=0,we=0,he=0;he=h[16],we=16,te=h[16],ie=16;for(var pe=0;pe<16;pe++)if(Math.max(_,h[pe+1])!=_){he=h[pe+1],we=pe+1,te=h[pe],ie=pe;break}return he-_>_-te?ie:we};function x(_,h){var ie=44100;return h>=48e3?ie=48e3:h>=44100?ie=44100:h>=32e3?ie=32e3:h>=24e3?ie=24e3:h>=22050?ie=22050:h>=16e3?ie=16e3:h>=12e3?ie=12e3:h>=11025?ie=11025:h>=8e3&&(ie=8e3),_==-1?ie:(_<=15960&&(ie=44100),_<=15250&&(ie=32e3),_<=11220&&(ie=24e3),_<=9970&&(ie=22050),_<=7230&&(ie=16e3),_<=5420&&(ie=12e3),_<=4510&&(ie=11025),_<=3970&&(ie=8e3),h<ie?h>44100?48e3:h>32e3?44100:h>24e3?32e3:h>22050?24e3:h>16e3?22050:h>12e3?16e3:h>11025?12e3:h>8e3?11025:8e3:ie)}function a(_,h){switch(_){case 44100:return h.version=1,0;case 48e3:return h.version=1,1;case 32e3:return h.version=1,2;case 22050:return h.version=0,0;case 24e3:return h.version=0,1;case 16e3:return h.version=0,2;case 11025:return h.version=0,0;case 12e3:return h.version=0,1;case 8e3:return h.version=0,2;default:return h.version=0,-1}}function s(_,h,ie){ie<16e3&&(h=2);for(var te=y.bitrate_table[h][1],we=2;we<=14;we++)y.bitrate_table[h][we]>0&&Math.abs(y.bitrate_table[h][we]-_)<Math.abs(te-_)&&(te=y.bitrate_table[h][we]);return te}function i(_,h,ie){ie<16e3&&(h=2);for(var te=0;te<=14;te++)if(y.bitrate_table[h][te]>0&&y.bitrate_table[h][te]==_)return te;return-1}function f(_,h){var ie=[new c(8,2e3),new c(16,3700),new c(24,3900),new c(32,5500),new c(40,7e3),new c(48,7500),new c(56,1e4),new c(64,11e3),new c(80,13500),new c(96,15100),new c(112,15600),new c(128,17e3),new c(160,17500),new c(192,18600),new c(224,19400),new c(256,19700),new c(320,20500)],te=X.nearestBitrateFullIndex(h);_.lowerlimit=ie[te].lowpass}function p(_){var h=_.internal_flags,ie=32,te=-1;if(h.lowpass1>0){for(var we=999,he=0;he<=31;he++){var pe=he/31;pe>=h.lowpass2&&(ie=Math.min(ie,he)),h.lowpass1<pe&&pe<h.lowpass2&&(we=Math.min(we,he))}we==999?h.lowpass1=(ie-.75)/31:h.lowpass1=(we-.75)/31,h.lowpass2=ie/31}if(h.highpass2>0&&h.highpass2<.9*(.75/31)&&(h.highpass1=0,h.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),h.highpass2>0){for(var xe=-1,he=0;he<=31;he++){var pe=he/31;pe<=h.highpass1&&(te=Math.max(te,he)),h.highpass1<pe&&pe<h.highpass2&&(xe=Math.max(xe,he))}h.highpass1=te/31,xe==-1?h.highpass2=(te+.75)/31:h.highpass2=(xe+.75)/31}for(var he=0;he<32;he++){var Ce,Ee,pe=he/31;h.highpass2>h.highpass1?Ce=G((h.highpass2-pe)/(h.highpass2-h.highpass1+1e-20)):Ce=1,h.lowpass2>h.lowpass1?Ee=G((pe-h.lowpass1)/(h.lowpass2-h.lowpass1+1e-20)):Ee=1,h.amp_filter[he]=Ce*Ee}}function C(_){var h=_.internal_flags;switch(_.quality){default:case 9:h.psymodel=0,h.noise_shaping=0,h.noise_shaping_amp=0,h.noise_shaping_stop=0,h.use_best_huffman=0,h.full_outer_loop=0;break;case 8:_.quality=7;case 7:h.psymodel=1,h.noise_shaping=0,h.noise_shaping_amp=0,h.noise_shaping_stop=0,h.use_best_huffman=0,h.full_outer_loop=0;break;case 6:h.psymodel=1,h.noise_shaping==0&&(h.noise_shaping=1),h.noise_shaping_amp=0,h.noise_shaping_stop=0,h.subblock_gain==-1&&(h.subblock_gain=1),h.use_best_huffman=0,h.full_outer_loop=0;break;case 5:h.psymodel=1,h.noise_shaping==0&&(h.noise_shaping=1),h.noise_shaping_amp=0,h.noise_shaping_stop=0,h.subblock_gain==-1&&(h.subblock_gain=1),h.use_best_huffman=0,h.full_outer_loop=0;break;case 4:h.psymodel=1,h.noise_shaping==0&&(h.noise_shaping=1),h.noise_shaping_amp=0,h.noise_shaping_stop=0,h.subblock_gain==-1&&(h.subblock_gain=1),h.use_best_huffman=1,h.full_outer_loop=0;break;case 3:h.psymodel=1,h.noise_shaping==0&&(h.noise_shaping=1),h.noise_shaping_amp=1,h.noise_shaping_stop=1,h.subblock_gain==-1&&(h.subblock_gain=1),h.use_best_huffman=1,h.full_outer_loop=0;break;case 2:h.psymodel=1,h.noise_shaping==0&&(h.noise_shaping=1),h.substep_shaping==0&&(h.substep_shaping=2),h.noise_shaping_amp=1,h.noise_shaping_stop=1,h.subblock_gain==-1&&(h.subblock_gain=1),h.use_best_huffman=1,h.full_outer_loop=0;break;case 1:h.psymodel=1,h.noise_shaping==0&&(h.noise_shaping=1),h.substep_shaping==0&&(h.substep_shaping=2),h.noise_shaping_amp=2,h.noise_shaping_stop=1,h.subblock_gain==-1&&(h.subblock_gain=1),h.use_best_huffman=1,h.full_outer_loop=0;break;case 0:h.psymodel=1,h.noise_shaping==0&&(h.noise_shaping=1),h.substep_shaping==0&&(h.substep_shaping=2),h.noise_shaping_amp=2,h.noise_shaping_stop=1,h.subblock_gain==-1&&(h.subblock_gain=1),h.use_best_huffman=1,h.full_outer_loop=0;break}}function N(_){var h=_.internal_flags;_.frameNum=0,_.write_id3tag_automatic&&B.id3tag_write_v2(_),h.bitrate_stereoMode_Hist=u([16,5]),h.bitrate_blockType_Hist=u([16,6]),h.PeakSample=0,_.bWriteVbrTag&&ee.InitVbrTag(_)}this.lame_init_params=function(_){var h=_.internal_flags;if(h.Class_ID=0,h.ATH==null&&(h.ATH=new S),h.PSY==null&&(h.PSY=new j),h.rgdata==null&&(h.rgdata=new I),h.channels_in=_.num_channels,h.channels_in==1&&(_.mode=MPEGMode.MONO),h.channels_out=_.mode==MPEGMode.MONO?1:2,h.mode_ext=O.MPG_MD_MS_LR,_.mode==MPEGMode.MONO&&(_.force_ms=!1),_.VBR==r.vbr_off&&_.VBR_mean_bitrate_kbps!=128&&_.brate==0&&(_.brate=_.VBR_mean_bitrate_kbps),_.VBR==r.vbr_off||_.VBR==r.vbr_mtrh||_.VBR==r.vbr_mt||(_.free_format=!1),_.VBR==r.vbr_off&&_.brate==0&&$.EQ(_.compression_ratio,0)&&(_.compression_ratio=11.025),_.VBR==r.vbr_off&&_.compression_ratio>0&&(_.out_samplerate==0&&(_.out_samplerate=map2MP3Frequency(int(.97*_.in_samplerate))),_.brate=0|_.out_samplerate*16*h.channels_out/(1e3*_.compression_ratio),h.samplerate_index=a(_.out_samplerate,_),_.free_format||(_.brate=s(_.brate,_.version,_.out_samplerate))),_.out_samplerate!=0&&(_.out_samplerate<16e3?(_.VBR_mean_bitrate_kbps=Math.max(_.VBR_mean_bitrate_kbps,8),_.VBR_mean_bitrate_kbps=Math.min(_.VBR_mean_bitrate_kbps,64)):_.out_samplerate<32e3?(_.VBR_mean_bitrate_kbps=Math.max(_.VBR_mean_bitrate_kbps,8),_.VBR_mean_bitrate_kbps=Math.min(_.VBR_mean_bitrate_kbps,160)):(_.VBR_mean_bitrate_kbps=Math.max(_.VBR_mean_bitrate_kbps,32),_.VBR_mean_bitrate_kbps=Math.min(_.VBR_mean_bitrate_kbps,320))),_.lowpassfreq==0){var ie=16e3;switch(_.VBR){case r.vbr_off:{var te=new D;f(te,_.brate),ie=te.lowerlimit;break}case r.vbr_abr:{var te=new D;f(te,_.VBR_mean_bitrate_kbps),ie=te.lowerlimit;break}case r.vbr_rh:{var we=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=_.VBR_q&&_.VBR_q<=9){var he=we[_.VBR_q],pe=we[_.VBR_q+1],xe=_.VBR_q_frac;ie=linear_int(he,pe,xe)}else ie=19500;break}default:{var we=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=_.VBR_q&&_.VBR_q<=9){var he=we[_.VBR_q],pe=we[_.VBR_q+1],xe=_.VBR_q_frac;ie=linear_int(he,pe,xe)}else ie=19500}}_.mode==MPEGMode.MONO&&(_.VBR==r.vbr_off||_.VBR==r.vbr_abr)&&(ie*=1.5),_.lowpassfreq=ie|0}if(_.out_samplerate==0&&(2*_.lowpassfreq>_.in_samplerate&&(_.lowpassfreq=_.in_samplerate/2),_.out_samplerate=x(_.lowpassfreq|0,_.in_samplerate)),_.lowpassfreq=Math.min(20500,_.lowpassfreq),_.lowpassfreq=Math.min(_.out_samplerate/2,_.lowpassfreq),_.VBR==r.vbr_off&&(_.compression_ratio=_.out_samplerate*16*h.channels_out/(1e3*_.brate)),_.VBR==r.vbr_abr&&(_.compression_ratio=_.out_samplerate*16*h.channels_out/(1e3*_.VBR_mean_bitrate_kbps)),_.bWriteVbrTag||(_.findReplayGain=!1,_.decode_on_the_fly=!1,h.findPeakSample=!1),h.findReplayGain=_.findReplayGain,h.decode_on_the_fly=_.decode_on_the_fly,h.decode_on_the_fly&&(h.findPeakSample=!0),h.findReplayGain&&V.InitGainAnalysis(h.rgdata,_.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return _.internal_flags=null,-6;switch(h.decode_on_the_fly&&!_.decode_only&&(h.hip!=null&&Ne.hip_decode_exit(h.hip),h.hip=Ne.hip_decode_init()),h.mode_gr=_.out_samplerate<=24e3?1:2,_.framesize=576*h.mode_gr,_.encoder_delay=O.ENCDELAY,h.resample_ratio=_.in_samplerate/_.out_samplerate,_.VBR){case r.vbr_mt:case r.vbr_rh:case r.vbr_mtrh:{var Ce=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];_.compression_ratio=Ce[_.VBR_q]}break;case r.vbr_abr:_.compression_ratio=_.out_samplerate*16*h.channels_out/(1e3*_.VBR_mean_bitrate_kbps);break;default:_.compression_ratio=_.out_samplerate*16*h.channels_out/(1e3*_.brate);break}if(_.mode==MPEGMode.NOT_SET&&(_.mode=MPEGMode.JOINT_STEREO),_.highpassfreq>0?(h.highpass1=2*_.highpassfreq,_.highpasswidth>=0?h.highpass2=2*(_.highpassfreq+_.highpasswidth):h.highpass2=2*_.highpassfreq,h.highpass1/=_.out_samplerate,h.highpass2/=_.out_samplerate):(h.highpass1=0,h.highpass2=0),_.lowpassfreq>0?(h.lowpass2=2*_.lowpassfreq,_.lowpasswidth>=0?(h.lowpass1=2*(_.lowpassfreq-_.lowpasswidth),h.lowpass1<0&&(h.lowpass1=0)):h.lowpass1=2*_.lowpassfreq,h.lowpass1/=_.out_samplerate,h.lowpass2/=_.out_samplerate):(h.lowpass1=0,h.lowpass2=0),p(_),h.samplerate_index=a(_.out_samplerate,_),h.samplerate_index<0)return _.internal_flags=null,-1;if(_.VBR==r.vbr_off){if(_.free_format)h.bitrate_index=0;else if(_.brate=s(_.brate,_.version,_.out_samplerate),h.bitrate_index=i(_.brate,_.version,_.out_samplerate),h.bitrate_index<=0)return _.internal_flags=null,-1}else h.bitrate_index=1;_.analysis&&(_.bWriteVbrTag=!1),h.pinfo!=null&&(_.bWriteVbrTag=!1),ae.init_bit_stream_w(h);for(var Ee=h.samplerate_index+3*_.version+6*(_.out_samplerate<16e3?1:0),Se=0;Se<O.SBMAX_l+1;Se++)h.scalefac_band.l[Se]=K.sfBandIndex[Ee].l[Se];for(var Se=0;Se<O.PSFB21+1;Se++){var qe=(h.scalefac_band.l[22]-h.scalefac_band.l[21])/O.PSFB21,Qe=h.scalefac_band.l[21]+Se*qe;h.scalefac_band.psfb21[Se]=Qe}h.scalefac_band.psfb21[O.PSFB21]=576;for(var Se=0;Se<O.SBMAX_s+1;Se++)h.scalefac_band.s[Se]=K.sfBandIndex[Ee].s[Se];for(var Se=0;Se<O.PSFB12+1;Se++){var qe=(h.scalefac_band.s[13]-h.scalefac_band.s[12])/O.PSFB12,Qe=h.scalefac_band.s[12]+Se*qe;h.scalefac_band.psfb12[Se]=Qe}h.scalefac_band.psfb12[O.PSFB12]=192,_.version==1?h.sideinfo_len=h.channels_out==1?21:36:h.sideinfo_len=h.channels_out==1?13:21,_.error_protection&&(h.sideinfo_len+=2),N(_),h.Class_ID=R;{var ce;for(ce=0;ce<19;ce++)h.nsPsy.pefirbuf[ce]=700*h.mode_gr*h.channels_out;_.ATHtype==-1&&(_.ATHtype=4)}switch(m(_.VBR_q<=9),m(_.VBR_q>=0),_.VBR){case r.vbr_mt:_.VBR=r.vbr_mtrh;case r.vbr_mtrh:{_.useTemporal==null&&(_.useTemporal=!1),Z.apply_preset(_,500-_.VBR_q*10,0),_.quality<0&&(_.quality=LAME_DEFAULT_QUALITY),_.quality<5&&(_.quality=0),_.quality>5&&(_.quality=5),h.PSY.mask_adjust=_.maskingadjust,h.PSY.mask_adjust_short=_.maskingadjust_short,_.experimentalY?h.sfb21_extra=!1:h.sfb21_extra=_.out_samplerate>44e3,h.iteration_loop=new VBRNewIterationLoop(ve);break}case r.vbr_rh:{Z.apply_preset(_,500-_.VBR_q*10,0),h.PSY.mask_adjust=_.maskingadjust,h.PSY.mask_adjust_short=_.maskingadjust_short,_.experimentalY?h.sfb21_extra=!1:h.sfb21_extra=_.out_samplerate>44e3,_.quality>6&&(_.quality=6),_.quality<0&&(_.quality=LAME_DEFAULT_QUALITY),h.iteration_loop=new VBROldIterationLoop(ve);break}default:{var de;h.sfb21_extra=!1,_.quality<0&&(_.quality=LAME_DEFAULT_QUALITY),de=_.VBR,de==r.vbr_off&&(_.VBR_mean_bitrate_kbps=_.brate),Z.apply_preset(_,_.VBR_mean_bitrate_kbps,0),_.VBR=de,h.PSY.mask_adjust=_.maskingadjust,h.PSY.mask_adjust_short=_.maskingadjust_short,de==r.vbr_off?h.iteration_loop=new W(ve):h.iteration_loop=new ABRIterationLoop(ve);break}}if(m(_.scale>=0),_.VBR!=r.vbr_off){if(h.VBR_min_bitrate=1,h.VBR_max_bitrate=14,_.out_samplerate<16e3&&(h.VBR_max_bitrate=8),_.VBR_min_bitrate_kbps!=0&&(_.VBR_min_bitrate_kbps=s(_.VBR_min_bitrate_kbps,_.version,_.out_samplerate),h.VBR_min_bitrate=i(_.VBR_min_bitrate_kbps,_.version,_.out_samplerate),h.VBR_min_bitrate<0)||_.VBR_max_bitrate_kbps!=0&&(_.VBR_max_bitrate_kbps=s(_.VBR_max_bitrate_kbps,_.version,_.out_samplerate),h.VBR_max_bitrate=i(_.VBR_max_bitrate_kbps,_.version,_.out_samplerate),h.VBR_max_bitrate<0))return-1;_.VBR_min_bitrate_kbps=y.bitrate_table[_.version][h.VBR_min_bitrate],_.VBR_max_bitrate_kbps=y.bitrate_table[_.version][h.VBR_max_bitrate],_.VBR_mean_bitrate_kbps=Math.min(y.bitrate_table[_.version][h.VBR_max_bitrate],_.VBR_mean_bitrate_kbps),_.VBR_mean_bitrate_kbps=Math.max(y.bitrate_table[_.version][h.VBR_min_bitrate],_.VBR_mean_bitrate_kbps)}return _.tune&&(h.PSY.mask_adjust+=_.tune_value_a,h.PSY.mask_adjust_short+=_.tune_value_a),C(_),m(_.scale>=0),_.athaa_type<0?h.ATH.useAdjust=3:h.ATH.useAdjust=_.athaa_type,h.ATH.aaSensitivityP=Math.pow(10,_.athaa_sensitivity/-10),_.short_blocks==null&&(_.short_blocks=n.short_block_allowed),_.short_blocks==n.short_block_allowed&&(_.mode==MPEGMode.JOINT_STEREO||_.mode==MPEGMode.STEREO)&&(_.short_blocks=n.short_block_coupled),_.quant_comp<0&&(_.quant_comp=1),_.quant_comp_short<0&&(_.quant_comp_short=0),_.msfix<0&&(_.msfix=0),_.exp_nspsytune=_.exp_nspsytune|1,_.internal_flags.nsPsy.attackthre<0&&(_.internal_flags.nsPsy.attackthre=d.NSATTACKTHRE),_.internal_flags.nsPsy.attackthre_s<0&&(_.internal_flags.nsPsy.attackthre_s=d.NSATTACKTHRE_S),m(_.scale>=0),_.scale<0&&(_.scale=1),_.ATHtype<0&&(_.ATHtype=4),_.ATHcurve<0&&(_.ATHcurve=4),_.athaa_loudapprox<0&&(_.athaa_loudapprox=2),_.interChRatio<0&&(_.interChRatio=0),_.useTemporal==null&&(_.useTemporal=!0),h.slot_lag=h.frac_SpF=0,_.VBR==r.vbr_off&&(h.slot_lag=h.frac_SpF=(_.version+1)*72e3*_.brate%_.out_samplerate|0),K.iteration_init(_),Ae.psymodel_init(_),m(_.scale>=0),0};function T(_,h){(_.in_buffer_0==null||_.in_buffer_nsamples<h)&&(_.in_buffer_0=o(h),_.in_buffer_1=o(h),_.in_buffer_nsamples=h)}this.lame_encode_flush=function(_,h,ie,te){var we=_.internal_flags,he=v([2,1152]),pe=0,xe,Ce,Ee,Se,qe=we.mf_samples_to_encode-O.POSTDELAY,Qe=Q(_);if(we.mf_samples_to_encode<1)return 0;for(xe=0,_.in_samplerate!=_.out_samplerate&&(qe+=16*_.out_samplerate/_.in_samplerate),Ee=_.framesize-qe%_.framesize,Ee<576&&(Ee+=_.framesize),_.encoder_padding=Ee,Se=(qe+Ee)/_.framesize;Se>0&&pe>=0;){var ce=Qe-we.mf_size,de=_.frameNum;ce*=_.in_samplerate,ce/=_.out_samplerate,ce>1152&&(ce=1152),ce<1&&(ce=1),Ce=te-xe,te==0&&(Ce=0),pe=this.lame_encode_buffer(_,he[0],he[1],ce,h,ie,Ce),ie+=pe,xe+=pe,Se-=de!=_.frameNum?1:0}if(we.mf_samples_to_encode=0,pe<0||(Ce=te-xe,te==0&&(Ce=0),ae.flush_bitstream(_),pe=ae.copy_buffer(we,h,ie,Ce,1),pe<0))return pe;if(ie+=pe,xe+=pe,Ce=te-xe,te==0&&(Ce=0),_.write_id3tag_automatic){if(B.id3tag_write_v1(_),pe=ae.copy_buffer(we,h,ie,Ce,0),pe<0)return pe;xe+=pe}return xe},this.lame_encode_buffer=function(_,h,ie,te,we,he,pe){var xe=_.internal_flags,Ce=[null,null];if(xe.Class_ID!=R)return-3;if(te==0)return 0;T(xe,te),Ce[0]=xe.in_buffer_0,Ce[1]=xe.in_buffer_1;for(var Ee=0;Ee<te;Ee++)Ce[0][Ee]=h[Ee],xe.channels_in>1&&(Ce[1][Ee]=ie[Ee]);return z(_,Ce[0],Ce[1],te,we,he,pe)};function Q(_){var h=O.BLKSIZE+_.framesize-O.FFTOFFSET;return h=Math.max(h,512+_.framesize-32),m(b.MFSIZE>=h),h}function z(_,h,ie,te,we,he,pe){var xe=_.internal_flags,Ce=0,Ee,Se,qe,Qe,ce,de=[null,null],Te=[null,null];if(xe.Class_ID!=R)return-3;if(te==0)return 0;if(ce=ae.copy_buffer(xe,we,he,pe,0),ce<0)return ce;if(he+=ce,Ce+=ce,Te[0]=h,Te[1]=ie,$.NEQ(_.scale,0)&&$.NEQ(_.scale,1))for(Se=0;Se<te;++Se)Te[0][Se]*=_.scale,xe.channels_out==2&&(Te[1][Se]*=_.scale);if($.NEQ(_.scale_left,0)&&$.NEQ(_.scale_left,1))for(Se=0;Se<te;++Se)Te[0][Se]*=_.scale_left;if($.NEQ(_.scale_right,0)&&$.NEQ(_.scale_right,1))for(Se=0;Se<te;++Se)Te[1][Se]*=_.scale_right;if(_.num_channels==2&&xe.channels_out==1)for(Se=0;Se<te;++Se)Te[0][Se]=.5*(Te[0][Se]+Te[1][Se]),Te[1][Se]=0;Qe=Q(_),de[0]=xe.mfbuf[0],de[1]=xe.mfbuf[1];for(var Ve=0;te>0;){var Le=[null,null],Oe=0,Xe=0;Le[0]=Te[0],Le[1]=Te[1];var Ye=new w;if(me(_,de,Le,Ve,te,Ye),Oe=Ye.n_in,Xe=Ye.n_out,xe.findReplayGain&&!xe.decode_on_the_fly&&V.AnalyzeSamples(xe.rgdata,de[0],xe.mf_size,de[1],xe.mf_size,Xe,xe.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(te-=Oe,Ve+=Oe,xe.channels_out==2,xe.mf_size+=Xe,m(xe.mf_size<=b.MFSIZE),xe.mf_samples_to_encode<1&&(xe.mf_samples_to_encode=O.ENCDELAY+O.POSTDELAY),xe.mf_samples_to_encode+=Xe,xe.mf_size>=Qe){var ze=pe-Ce;if(pe==0&&(ze=0),Ee=be(_,de[0],de[1],we,he,ze),Ee<0)return Ee;for(he+=Ee,Ce+=Ee,xe.mf_size-=_.framesize,xe.mf_samples_to_encode-=_.framesize,qe=0;qe<xe.channels_out;qe++)for(Se=0;Se<xe.mf_size;Se++)de[qe][Se]=de[qe][Se+_.framesize]}}return m(te==0),Ce}function be(_,h,ie,te,we,he){var pe=X.enc.lame_encode_mp3_frame(_,h,ie,te,we,he);return _.frameNum++,pe}function w(){this.n_in=0,this.n_out=0}function F(){this.num_used=0}function U(_,h){return h!=0?U(h,_%h):_}function ne(_,h,ie){var te=Math.PI*h;_/=ie,_<0&&(_=0),_>1&&(_=1);var we=_-.5,he=.42-.5*Math.cos(2*_*Math.PI)+.08*Math.cos(4*_*Math.PI);return Math.abs(we)<1e-9?te/Math.PI:he*Math.sin(ie*te*we)/(Math.PI*ie*we)}function oe(_,h,ie,te,we,he,pe,xe,Ce){var Ee=_.internal_flags,Se,qe=0,Qe,ce=_.out_samplerate/U(_.out_samplerate,_.in_samplerate);ce>b.BPC&&(ce=b.BPC);var de=Math.abs(Ee.resample_ratio-Math.floor(.5+Ee.resample_ratio))<1e-4?1:0,Te=1/Ee.resample_ratio;Te>1&&(Te=1);var Ve=31;Ve%2==0&&--Ve,Ve+=de;var Le=Ve+1;if(Ee.fill_buffer_resample_init==0){for(Ee.inbuf_old[0]=o(Le),Ee.inbuf_old[1]=o(Le),Se=0;Se<=2*ce;++Se)Ee.blackfilt[Se]=o(Le);for(Ee.itime[0]=0,Ee.itime[1]=0,qe=0;qe<=2*ce;qe++){var Oe=0,Xe=(qe-ce)/(2*ce);for(Se=0;Se<=Ve;Se++)Oe+=Ee.blackfilt[qe][Se]=ne(Se-Xe,Te,Ve);for(Se=0;Se<=Ve;Se++)Ee.blackfilt[qe][Se]/=Oe}Ee.fill_buffer_resample_init=1}var Ye=Ee.inbuf_old[Ce];for(Qe=0;Qe<te;Qe++){var ze,$e;if(ze=Qe*Ee.resample_ratio,qe=0|Math.floor(ze-Ee.itime[Ce]),Ve+qe-Ve/2>=pe)break;var Xe=ze-Ee.itime[Ce]-(qe+.5*(Ve%2));m(Math.abs(Xe)<=.501),$e=0|Math.floor(Xe*2*ce+ce+.5);var R0=0;for(Se=0;Se<=Ve;++Se){var y0=0|Se+qe-Ve/2,j0;m(y0<pe),m(y0+Le>=0),j0=y0<0?Ye[Le+y0]:we[he+y0],R0+=j0*Ee.blackfilt[$e][Se]}h[ie+Qe]=R0}if(xe.num_used=Math.min(pe,Ve+qe-Ve/2),Ee.itime[Ce]+=xe.num_used-Qe*Ee.resample_ratio,xe.num_used>=Le)for(Se=0;Se<Le;Se++)Ye[Se]=we[he+xe.num_used+Se-Le];else{var N0=Le-xe.num_used;for(Se=0;Se<N0;++Se)Ye[Se]=Ye[Se+xe.num_used];for(qe=0;Se<Le;++Se,++qe)Ye[Se]=we[he+qe];m(qe==xe.num_used)}return Qe}function me(_,h,ie,te,we,he){var pe=_.internal_flags;if(pe.resample_ratio<.9999||pe.resample_ratio>1.0001)for(var xe=0;xe<pe.channels_out;xe++){var Ce=new F;he.n_out=oe(_,h[xe],pe.mf_size,_.framesize,ie[xe],te,we,Ce,xe),he.n_in=Ce.num_used}else{he.n_out=Math.min(_.framesize,we),he.n_in=he.n_out;for(var Ee=0;Ee<he.n_out;++Ee)h[0][pe.mf_size+Ee]=ie[0][te+Ee],pe.channels_out==2&&(h[1][pe.mf_size+Ee]=ie[1][te+Ee])}}}return Ma=A,Ma}var Ra,A1;function Co(){if(A1)return Ra;A1=1;var e=o0();e.System;var t=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n,e.assert;function r(){function n(I,W,$,y,O,A,X,l,k,V,ae,Z,K,ve,Ae){this.vbr_q=I,this.quant_comp=W,this.quant_comp_s=$,this.expY=y,this.st_lrm=O,this.st_s=A,this.masking_adj=X,this.masking_adj_short=l,this.ath_lower=k,this.ath_curve=V,this.ath_sensitivity=ae,this.interch=Z,this.safejoint=K,this.sfb21mod=ve,this.msfix=Ae}function o(I,W,$,y,O,A,X,l,k,V,ae,Z,K,ve){this.quant_comp=W,this.quant_comp_s=$,this.safejoint=y,this.nsmsfix=O,this.st_lrm=A,this.st_s=X,this.nsbass=l,this.scale=k,this.masking_adj=V,this.ath_lower=ae,this.ath_curve=Z,this.interch=K,this.sfscale=ve}var u;this.setModules=function(I){u=I};var v=[new n(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new n(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new n(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new n(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new n(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new n(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new n(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new n(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new n(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],m=[new n(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new n(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new n(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new n(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new n(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new n(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new n(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new n(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new n(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function d(I,W,$){var y=I.VBR==t.vbr_rh?v:m,O=I.VBR_q_frac,A=y[W],X=y[W+1],l=A;A.st_lrm=A.st_lrm+O*(X.st_lrm-A.st_lrm),A.st_s=A.st_s+O*(X.st_s-A.st_s),A.masking_adj=A.masking_adj+O*(X.masking_adj-A.masking_adj),A.masking_adj_short=A.masking_adj_short+O*(X.masking_adj_short-A.masking_adj_short),A.ath_lower=A.ath_lower+O*(X.ath_lower-A.ath_lower),A.ath_curve=A.ath_curve+O*(X.ath_curve-A.ath_curve),A.ath_sensitivity=A.ath_sensitivity+O*(X.ath_sensitivity-A.ath_sensitivity),A.interch=A.interch+O*(X.interch-A.interch),A.msfix=A.msfix+O*(X.msfix-A.msfix),S(I,l.vbr_q),$!=0?I.quant_comp=l.quant_comp:Math.abs(I.quant_comp- -1)>0||(I.quant_comp=l.quant_comp),$!=0?I.quant_comp_short=l.quant_comp_s:Math.abs(I.quant_comp_short- -1)>0||(I.quant_comp_short=l.quant_comp_s),l.expY!=0&&(I.experimentalY=l.expY!=0),$!=0?I.internal_flags.nsPsy.attackthre=l.st_lrm:Math.abs(I.internal_flags.nsPsy.attackthre- -1)>0||(I.internal_flags.nsPsy.attackthre=l.st_lrm),$!=0?I.internal_flags.nsPsy.attackthre_s=l.st_s:Math.abs(I.internal_flags.nsPsy.attackthre_s- -1)>0||(I.internal_flags.nsPsy.attackthre_s=l.st_s),$!=0?I.maskingadjust=l.masking_adj:Math.abs(I.maskingadjust-0)>0||(I.maskingadjust=l.masking_adj),$!=0?I.maskingadjust_short=l.masking_adj_short:Math.abs(I.maskingadjust_short-0)>0||(I.maskingadjust_short=l.masking_adj_short),$!=0?I.ATHlower=-l.ath_lower/10:Math.abs(-I.ATHlower*10-0)>0||(I.ATHlower=-l.ath_lower/10),$!=0?I.ATHcurve=l.ath_curve:Math.abs(I.ATHcurve- -1)>0||(I.ATHcurve=l.ath_curve),$!=0?I.athaa_sensitivity=l.ath_sensitivity:Math.abs(I.athaa_sensitivity- -1)>0||(I.athaa_sensitivity=l.ath_sensitivity),l.interch>0&&($!=0?I.interChRatio=l.interch:Math.abs(I.interChRatio- -1)>0||(I.interChRatio=l.interch)),l.safejoint>0&&(I.exp_nspsytune=I.exp_nspsytune|l.safejoint),l.sfb21mod>0&&(I.exp_nspsytune=I.exp_nspsytune|l.sfb21mod<<20),$!=0?I.msfix=l.msfix:Math.abs(I.msfix- -1)>0||(I.msfix=l.msfix),$==0&&(I.VBR_q=W,I.VBR_q_frac=O)}var L=[new o(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new o(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new o(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new o(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new o(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new o(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new o(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new o(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new o(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new o(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new o(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new o(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new o(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new o(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new o(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new o(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new o(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function b(I,W,$){var y=W,O=u.nearestBitrateFullIndex(W);if(I.VBR=t.vbr_abr,I.VBR_mean_bitrate_kbps=y,I.VBR_mean_bitrate_kbps=Math.min(I.VBR_mean_bitrate_kbps,320),I.VBR_mean_bitrate_kbps=Math.max(I.VBR_mean_bitrate_kbps,8),I.brate=I.VBR_mean_bitrate_kbps,I.VBR_mean_bitrate_kbps>320&&(I.disable_reservoir=!0),L[O].safejoint>0&&(I.exp_nspsytune=I.exp_nspsytune|2),L[O].sfscale>0&&(I.internal_flags.noise_shaping=2),Math.abs(L[O].nsbass)>0){var A=int(L[O].nsbass*4);A<0&&(A+=64),I.exp_nspsytune=I.exp_nspsytune|A<<2}return $!=0?I.quant_comp=L[O].quant_comp:Math.abs(I.quant_comp- -1)>0||(I.quant_comp=L[O].quant_comp),$!=0?I.quant_comp_short=L[O].quant_comp_s:Math.abs(I.quant_comp_short- -1)>0||(I.quant_comp_short=L[O].quant_comp_s),$!=0?I.msfix=L[O].nsmsfix:Math.abs(I.msfix- -1)>0||(I.msfix=L[O].nsmsfix),$!=0?I.internal_flags.nsPsy.attackthre=L[O].st_lrm:Math.abs(I.internal_flags.nsPsy.attackthre- -1)>0||(I.internal_flags.nsPsy.attackthre=L[O].st_lrm),$!=0?I.internal_flags.nsPsy.attackthre_s=L[O].st_s:Math.abs(I.internal_flags.nsPsy.attackthre_s- -1)>0||(I.internal_flags.nsPsy.attackthre_s=L[O].st_s),$!=0?I.scale=L[O].scale:Math.abs(I.scale- -1)>0||(I.scale=L[O].scale),$!=0?I.maskingadjust=L[O].masking_adj:Math.abs(I.maskingadjust-0)>0||(I.maskingadjust=L[O].masking_adj),L[O].masking_adj>0?$!=0?I.maskingadjust_short=L[O].masking_adj*.9:Math.abs(I.maskingadjust_short-0)>0||(I.maskingadjust_short=L[O].masking_adj*.9):$!=0?I.maskingadjust_short=L[O].masking_adj*1.1:Math.abs(I.maskingadjust_short-0)>0||(I.maskingadjust_short=L[O].masking_adj*1.1),$!=0?I.ATHlower=-L[O].ath_lower/10:Math.abs(-I.ATHlower*10-0)>0||(I.ATHlower=-L[O].ath_lower/10),$!=0?I.ATHcurve=L[O].ath_curve:Math.abs(I.ATHcurve- -1)>0||(I.ATHcurve=L[O].ath_curve),$!=0?I.interChRatio=L[O].interch:Math.abs(I.interChRatio- -1)>0||(I.interChRatio=L[O].interch),W}this.apply_preset=function(I,W,$){switch(W){case Lame.R3MIX:{W=Lame.V3,I.VBR=t.vbr_mtrh;break}case Lame.MEDIUM:{W=Lame.V4,I.VBR=t.vbr_rh;break}case Lame.MEDIUM_FAST:{W=Lame.V4,I.VBR=t.vbr_mtrh;break}case Lame.STANDARD:{W=Lame.V2,I.VBR=t.vbr_rh;break}case Lame.STANDARD_FAST:{W=Lame.V2,I.VBR=t.vbr_mtrh;break}case Lame.EXTREME:{W=Lame.V0,I.VBR=t.vbr_rh;break}case Lame.EXTREME_FAST:{W=Lame.V0,I.VBR=t.vbr_mtrh;break}case Lame.INSANE:return W=320,I.preset=W,b(I,W,$),I.VBR=t.vbr_off,W}switch(I.preset=W,W){case Lame.V9:return d(I,9,$),W;case Lame.V8:return d(I,8,$),W;case Lame.V7:return d(I,7,$),W;case Lame.V6:return d(I,6,$),W;case Lame.V5:return d(I,5,$),W;case Lame.V4:return d(I,4,$),W;case Lame.V3:return d(I,3,$),W;case Lame.V2:return d(I,2,$),W;case Lame.V1:return d(I,1,$),W;case Lame.V0:return d(I,0,$),W}return 8<=W&&W<=320?b(I,W,$):(I.preset=0,W)};function S(I,W){var $=0;return 0>W&&($=-1,W=0),9<W&&($=-1,W=9),I.VBR_q=W,I.VBR_q_frac=0,$}}return Ra=r,Ra}var ya,M1;function Lo(){if(M1)return ya;M1=1;function e(){this.setModules=function(t,r){}}return ya=e,ya}var wa,R1;function Oo(){if(R1)return wa;R1=1;function e(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}return wa=e,wa}var Ea,y1;function No(){if(y1)return Ea;y1=1;var e=o0(),t=e.new_float,r=e.new_int;e.assert;function n(){this.global_gain=0,this.sfb_count1=0,this.step=r(39),this.noise=t(39),this.noise_log=t(39)}return Ea=n,Ea}var Ta,w1;function Fo(){if(w1)return Ta;w1=1;var e=o0(),t=e.System,r=e.VbrMode;e.Float,e.ShortBlock;var n=e.Util,o=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var u=e.new_float;e.new_float_n,e.new_int,e.new_int_n;var v=e.assert,m=Lo(),d=Oo(),L=No(),b=m0(),S=on(),I=Br();function W(){var $;this.rv=null;var y;this.qupvt=null;var O,A=new m,X;this.setModules=function(D,c,R,P){$=D,y=c,this.rv=c,O=R,this.qupvt=R,X=P,A.setModules(O,X)},this.ms_convert=function(D,c){for(var R=0;R<576;++R){var P=D.tt[c][0].xr[R],G=D.tt[c][1].xr[R];D.tt[c][0].xr[R]=(P+G)*(n.SQRT2*.5),D.tt[c][1].xr[R]=(P-G)*(n.SQRT2*.5)}};function l(D,c,R,P){P=0;for(var G=0;G<=R;++G){var x=Math.abs(D.xr[G]);P+=x,c[G]=Math.sqrt(x*Math.sqrt(x)),c[G]>D.xrpow_max&&(D.xrpow_max=c[G])}return P}this.init_xrpow=function(D,c,R){var P=0,G=0|c.max_nonzero_coeff;if(v(R!=null),c.xrpow_max=0,v(0<=G&&G<=575),o.fill(R,G,576,0),P=l(c,R,G,P),P>1e-20){var x=0;(D.substep_shaping&2)!=0&&(x=1);for(var a=0;a<c.psymax;a++)D.pseudohalf[a]=x;return!0}return o.fill(c.l3_enc,0,576,0),!1};function k(D,c){var R=D.ATH,P=c.xr;if(c.block_type!=b.SHORT_TYPE)for(var G=!1,x=b.PSFB21-1;x>=0&&!G;x--){var a=D.scalefac_band.psfb21[x],s=D.scalefac_band.psfb21[x+1],i=O.athAdjust(R.adjust,R.psfb21[x],R.floor);D.nsPsy.longfact[21]>1e-12&&(i*=D.nsPsy.longfact[21]);for(var f=s-1;f>=a;f--)if(Math.abs(P[f])<i)P[f]=0;else{G=!0;break}}else for(var p=0;p<3;p++)for(var G=!1,x=b.PSFB12-1;x>=0&&!G;x--){var a=D.scalefac_band.s[12]*3+(D.scalefac_band.s[13]-D.scalefac_band.s[12])*p+(D.scalefac_band.psfb12[x]-D.scalefac_band.psfb12[0]),s=a+(D.scalefac_band.psfb12[x+1]-D.scalefac_band.psfb12[x]),C=O.athAdjust(R.adjust,R.psfb12[x],R.floor);D.nsPsy.shortfact[12]>1e-12&&(C*=D.nsPsy.shortfact[12]);for(var f=s-1;f>=a;f--)if(Math.abs(P[f])<C)P[f]=0;else{G=!0;break}}}this.init_outer_loop=function(D,c){c.part2_3_length=0,c.big_values=0,c.count1=0,c.global_gain=210,c.scalefac_compress=0,c.table_select[0]=0,c.table_select[1]=0,c.table_select[2]=0,c.subblock_gain[0]=0,c.subblock_gain[1]=0,c.subblock_gain[2]=0,c.subblock_gain[3]=0,c.region0_count=0,c.region1_count=0,c.preflag=0,c.scalefac_scale=0,c.count1table_select=0,c.part2_length=0,c.sfb_lmax=b.SBPSY_l,c.sfb_smin=b.SBPSY_s,c.psy_lmax=D.sfb21_extra?b.SBMAX_l:b.SBPSY_l,c.psymax=c.psy_lmax,c.sfbmax=c.sfb_lmax,c.sfbdivide=11;for(var R=0;R<b.SBMAX_l;R++)c.width[R]=D.scalefac_band.l[R+1]-D.scalefac_band.l[R],c.window[R]=3;if(c.block_type==b.SHORT_TYPE){var P=u(576);c.sfb_smin=0,c.sfb_lmax=0,c.mixed_block_flag!=0&&(c.sfb_smin=3,c.sfb_lmax=D.mode_gr*2+4),c.psymax=c.sfb_lmax+3*((D.sfb21_extra?b.SBMAX_s:b.SBPSY_s)-c.sfb_smin),c.sfbmax=c.sfb_lmax+3*(b.SBPSY_s-c.sfb_smin),c.sfbdivide=c.sfbmax-18,c.psy_lmax=c.sfb_lmax;var G=D.scalefac_band.l[c.sfb_lmax];t.arraycopy(c.xr,0,P,0,576);for(var R=c.sfb_smin;R<b.SBMAX_s;R++)for(var x=D.scalefac_band.s[R],a=D.scalefac_band.s[R+1],s=0;s<3;s++)for(var i=x;i<a;i++)c.xr[G++]=P[3*i+s];for(var f=c.sfb_lmax,R=c.sfb_smin;R<b.SBMAX_s;R++)c.width[f]=c.width[f+1]=c.width[f+2]=D.scalefac_band.s[R+1]-D.scalefac_band.s[R],c.window[f]=0,c.window[f+1]=1,c.window[f+2]=2,f+=3}c.count1bits=0,c.sfb_partition_table=O.nr_of_sfb_block[0][0],c.slen[0]=0,c.slen[1]=0,c.slen[2]=0,c.slen[3]=0,c.max_nonzero_coeff=575,o.fill(c.scalefac,0),k(D,c)};function V(D){this.ordinal=D}V.BINSEARCH_NONE=new V(0),V.BINSEARCH_UP=new V(1),V.BINSEARCH_DOWN=new V(2);function ae(D,c,R,P,G){var x,a=D.CurrentStep[P],s=!1,i=D.OldValue[P],f=V.BINSEARCH_NONE;for(c.global_gain=i,R-=c.part2_length,v(a!=0);;){var p;if(x=X.count_bits(D,G,c,null),a==1||x==R)break;x>R?(f==V.BINSEARCH_DOWN&&(s=!0),s&&(a/=2),f=V.BINSEARCH_UP,p=a):(f==V.BINSEARCH_UP&&(s=!0),s&&(a/=2),f=V.BINSEARCH_DOWN,p=-a),c.global_gain+=p,c.global_gain<0&&(c.global_gain=0,s=!0),c.global_gain>255&&(c.global_gain=255,s=!0)}for(v(c.global_gain>=0),v(c.global_gain<256);x>R&&c.global_gain<255;)c.global_gain++,x=X.count_bits(D,G,c,null);return D.CurrentStep[P]=i-c.global_gain>=4?4:2,D.OldValue[P]=c.global_gain,c.part2_3_length=x,x}this.trancate_smallspectrums=function(D,c,R,P){var G=u(I.SFBMAX);if(!((D.substep_shaping&4)==0&&c.block_type==b.SHORT_TYPE||(D.substep_shaping&128)!=0)){O.calc_noise(c,R,G,new d,null);for(var a=0;a<576;a++){var x=0;c.l3_enc[a]!=0&&(x=Math.abs(c.xr[a])),P[a]=x}var a=0,s=8;c.block_type==b.SHORT_TYPE&&(s=6);do{var i,f,p,C,N=c.width[s];if(a+=N,!(G[s]>=1)&&(o.sort(P,a-N,N),!BitStream.EQ(P[a-1],0))){i=(1-G[s])*R[s],f=0,C=0;do{var T;for(p=1;C+p<N&&!BitStream.NEQ(P[C+a-N],P[C+a+p-N]);p++);if(T=P[C+a-N]*P[C+a-N]*p,i<T){C!=0&&(f=P[C+a-N-1]);break}i-=T,C+=p}while(C<N);if(!BitStream.EQ(f,0))do Math.abs(c.xr[a-N])<=f&&(c.l3_enc[a-N]=0);while(--N>0)}}while(++s<c.psymax);c.part2_3_length=X.noquant_count_bits(D,c,null)}};function Z(D){for(var c=0;c<D.sfbmax;c++)if(D.scalefac[c]+D.subblock_gain[D.window[c]]==0)return!1;return!0}function K(D){return n.FAST_LOG10(.368+.632*D*D*D)}function ve(D,c){for(var R=1e-37,P=0;P<c.psymax;P++)R+=K(D[P]);return Math.max(1e-20,R)}function Ae(D,c,R,P,G){var x;switch(D){default:case 9:{c.over_count>0?(x=R.over_SSD<=c.over_SSD,R.over_SSD==c.over_SSD&&(x=R.bits<c.bits)):x=R.max_noise<0&&R.max_noise*10+R.bits<=c.max_noise*10+c.bits;break}case 0:x=R.over_count<c.over_count||R.over_count==c.over_count&&R.over_noise<c.over_noise||R.over_count==c.over_count&&BitStream.EQ(R.over_noise,c.over_noise)&&R.tot_noise<c.tot_noise;break;case 8:R.max_noise=ve(G,P);case 1:x=R.max_noise<c.max_noise;break;case 2:x=R.tot_noise<c.tot_noise;break;case 3:x=R.tot_noise<c.tot_noise&&R.max_noise<c.max_noise;break;case 4:x=R.max_noise<=0&&c.max_noise>.2||R.max_noise<=0&&c.max_noise<0&&c.max_noise>R.max_noise-.2&&R.tot_noise<c.tot_noise||R.max_noise<=0&&c.max_noise>0&&c.max_noise>R.max_noise-.2&&R.tot_noise<c.tot_noise+c.over_noise||R.max_noise>0&&c.max_noise>-.05&&c.max_noise>R.max_noise-.1&&R.tot_noise+R.over_noise<c.tot_noise+c.over_noise||R.max_noise>0&&c.max_noise>-.1&&c.max_noise>R.max_noise-.15&&R.tot_noise+R.over_noise+R.over_noise<c.tot_noise+c.over_noise+c.over_noise;break;case 5:x=R.over_noise<c.over_noise||BitStream.EQ(R.over_noise,c.over_noise)&&R.tot_noise<c.tot_noise;break;case 6:x=R.over_noise<c.over_noise||BitStream.EQ(R.over_noise,c.over_noise)&&(R.max_noise<c.max_noise||BitStream.EQ(R.max_noise,c.max_noise)&&R.tot_noise<=c.tot_noise);break;case 7:x=R.over_count<c.over_count||R.over_noise<c.over_noise;break}return c.over_count==0&&(x=x&&R.bits<c.bits),x}function ee(D,c,R,P,G){var x=D.internal_flags,a;c.scalefac_scale==0?a=1.2968395546510096:a=1.6817928305074292;for(var s=0,i=0;i<c.sfbmax;i++)s<R[i]&&(s=R[i]);var f=x.noise_shaping_amp;switch(f==3&&(G?f=2:f=1),f){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;default:s>1?s=1:s*=.95;break}for(var p=0,i=0;i<c.sfbmax;i++){var C=c.width[i],N;if(p+=C,!(R[i]<s)){if((x.substep_shaping&2)!=0&&(x.pseudohalf[i]=x.pseudohalf[i]==0?1:0,x.pseudohalf[i]==0&&x.noise_shaping_amp==2))return;for(c.scalefac[i]++,N=-C;N<0;N++)P[p+N]*=a,P[p+N]>c.xrpow_max&&(c.xrpow_max=P[p+N]);if(x.noise_shaping_amp==2)return}}}function B(D,c){for(var R=1.2968395546510096,P=0,G=0;G<D.sfbmax;G++){var x=D.width[G],a=D.scalefac[G];if(D.preflag!=0&&(a+=O.pretab[G]),P+=x,(a&1)!=0){a++;for(var s=-x;s<0;s++)c[P+s]*=R,c[P+s]>D.xrpow_max&&(D.xrpow_max=c[P+s])}D.scalefac[G]=a>>1}D.preflag=0,D.scalefac_scale=1}function Ne(D,c,R){var P,G=c.scalefac;for(P=0;P<c.sfb_lmax;P++)if(G[P]>=16)return!0;for(var x=0;x<3;x++){var a=0,s=0;for(P=c.sfb_lmax+x;P<c.sfbdivide;P+=3)a<G[P]&&(a=G[P]);for(;P<c.sfbmax;P+=3)s<G[P]&&(s=G[P]);if(!(a<16&&s<8)){if(c.subblock_gain[x]>=7)return!0;c.subblock_gain[x]++;var i=D.scalefac_band.l[c.sfb_lmax];for(P=c.sfb_lmax+x;P<c.sfbmax;P+=3){var f,p=c.width[P],C=G[P];if(v(C>=0),C=C-(4>>c.scalefac_scale),C>=0){G[P]=C,i+=p*3;continue}G[P]=0;{var N=210+(C<<c.scalefac_scale+1);f=O.IPOW20(N)}i+=p*(x+1);for(var T=-p;T<0;T++)R[i+T]*=f,R[i+T]>c.xrpow_max&&(c.xrpow_max=R[i+T]);i+=p*(3-x-1)}{var f=O.IPOW20(202);i+=c.width[P]*(x+1);for(var T=-c.width[P];T<0;T++)R[i+T]*=f,R[i+T]>c.xrpow_max&&(c.xrpow_max=R[i+T])}}}return!1}function j(D,c,R,P,G){var x=D.internal_flags;ee(D,c,R,P,G);var a=Z(c);return a?!1:(x.mode_gr==2?a=X.scale_bitcount(c):a=X.scale_bitcount_lsf(x,c),a?(x.noise_shaping>1&&(o.fill(x.pseudohalf,0),c.scalefac_scale==0?(B(c,P),a=!1):c.block_type==b.SHORT_TYPE&&x.subblock_gain>0&&(a=Ne(x,c,P)||Z(c))),a||(x.mode_gr==2?a=X.scale_bitcount(c):a=X.scale_bitcount_lsf(x,c)),!a):!0)}this.outer_loop=function(D,c,R,P,G,x){var a=D.internal_flags,s=new S,i=u(576),f=u(I.SFBMAX),p=new d,C,N=new L,T=9999999,Q=!1,z=!1,be=0;if(ae(a,c,x,G,P),a.noise_shaping==0)return 100;O.calc_noise(c,R,f,p,N),p.bits=c.part2_3_length,s.assign(c);var w=0;for(t.arraycopy(P,0,i,0,576);!Q;){do{var F=new d,U,ne=255;if((a.substep_shaping&2)!=0?U=20:U=3,a.sfb21_extra&&(f[s.sfbmax]>1||s.block_type==b.SHORT_TYPE&&(f[s.sfbmax+1]>1||f[s.sfbmax+2]>1))||!j(D,s,f,P,z))break;s.scalefac_scale!=0&&(ne=254);var oe=x-s.part2_length;if(oe<=0)break;for(;(s.part2_3_length=X.count_bits(a,P,s,N))>oe&&s.global_gain<=ne;)s.global_gain++;if(s.global_gain>ne)break;if(p.over_count==0){for(;(s.part2_3_length=X.count_bits(a,P,s,N))>T&&s.global_gain<=ne;)s.global_gain++;if(s.global_gain>ne)break}if(O.calc_noise(s,R,f,F,N),F.bits=s.part2_3_length,c.block_type!=b.SHORT_TYPE?C=D.quant_comp:C=D.quant_comp_short,C=Ae(C,p,F,s,f)?1:0,C!=0)T=c.part2_3_length,p=F,c.assign(s),w=0,t.arraycopy(P,0,i,0,576);else if(a.full_outer_loop==0&&(++w>U&&p.over_count==0||a.noise_shaping_amp==3&&z&&w>30||a.noise_shaping_amp==3&&z&&s.global_gain-be>15))break}while(s.global_gain+s.scalefac_scale<255);a.noise_shaping_amp==3?z?Q=!0:(s.assign(c),t.arraycopy(i,0,P,0,576),w=0,be=s.global_gain,z=!0):Q=!0}return v(c.global_gain+c.scalefac_scale<=255),D.VBR==r.vbr_rh||D.VBR==r.vbr_mtrh?t.arraycopy(i,0,P,0,576):(a.substep_shaping&1)!=0&&trancate_smallspectrums(a,c,R,P),p.over_count},this.iteration_finish_one=function(D,c,R){var P=D.l3_side,G=P.tt[c][R];X.best_scalefac_store(D,c,R,P),D.use_best_huffman==1&&X.best_huffman_divide(D,G),y.ResvAdjust(D,G)},this.VBR_encode_granule=function(D,c,R,P,G,x,a){var s=D.internal_flags,i=new S,f=u(576),p=a,C=a+1,N=(a+x)/2,T,Q,z=0,be=s.sfb21_extra;v(p<=LameInternalFlags.MAX_BITS_PER_CHANNEL),o.fill(i.l3_enc,0);do v(N>=x),v(N<=a),v(x<=a),N>p-42?s.sfb21_extra=!1:s.sfb21_extra=be,Q=outer_loop(D,c,R,P,G,N),Q<=0?(z=1,C=c.part2_3_length,i.assign(c),t.arraycopy(P,0,f,0,576),a=C-32,T=a-x,N=(a+x)/2):(x=N+32,T=a-x,N=(a+x)/2,z!=0&&(z=2,c.assign(i),t.arraycopy(f,0,P,0,576)));while(T>12);s.sfb21_extra=be,z==2&&t.arraycopy(i.l3_enc,0,c.l3_enc,0,576),v(c.part2_3_length<=p)},this.get_framebits=function(D,c){var R=D.internal_flags;R.bitrate_index=R.VBR_min_bitrate;var P=$.getframebits(D);R.bitrate_index=1,P=$.getframebits(D);for(var G=1;G<=R.VBR_max_bitrate;G++){R.bitrate_index=G;var x=new MeanBits(P);c[G]=y.ResvFrameBegin(D,x),P=x.bits}},this.VBR_old_prepare=function(D,c,R,P,G,x,a,s,i){var f=D.internal_flags,p,C=0,N=1,T=0;f.bitrate_index=f.VBR_max_bitrate;var Q=y.ResvFrameBegin(D,new MeanBits(0))/f.mode_gr;get_framebits(D,x);for(var z=0;z<f.mode_gr;z++){var be=O.on_pe(D,c,s[z],Q,z,0);f.mode_ext==b.MPG_MD_MS_LR&&(ms_convert(f.l3_side,z),O.reduce_side(s[z],R[z],Q,be));for(var w=0;w<f.channels_out;++w){var F=f.l3_side.tt[z][w];F.block_type!=b.SHORT_TYPE?(C=1.28/(1+Math.exp(3.5-c[z][w]/300))-.05,p=f.PSY.mask_adjust-C):(C=2.56/(1+Math.exp(3.5-c[z][w]/300))-.14,p=f.PSY.mask_adjust_short-C),f.masking_lower=Math.pow(10,p*.1),init_outer_loop(f,F),i[z][w]=O.calc_xmin(D,P[z][w],F,G[z][w]),i[z][w]!=0&&(N=0),a[z][w]=126,T+=s[z][w]}}for(var z=0;z<f.mode_gr;z++)for(var w=0;w<f.channels_out;w++)T>x[f.VBR_max_bitrate]&&(s[z][w]*=x[f.VBR_max_bitrate],s[z][w]/=T),a[z][w]>s[z][w]&&(a[z][w]=s[z][w]);return N},this.bitpressure_strategy=function(D,c,R,P){for(var G=0;G<D.mode_gr;G++)for(var x=0;x<D.channels_out;x++){for(var a=D.l3_side.tt[G][x],s=c[G][x],i=0,f=0;f<a.psy_lmax;f++)s[i++]*=1+.029*f*f/b.SBMAX_l/b.SBMAX_l;if(a.block_type==b.SHORT_TYPE)for(var f=a.sfb_smin;f<b.SBMAX_s;f++)s[i++]*=1+.029*f*f/b.SBMAX_s/b.SBMAX_s,s[i++]*=1+.029*f*f/b.SBMAX_s/b.SBMAX_s,s[i++]*=1+.029*f*f/b.SBMAX_s/b.SBMAX_s;P[G][x]=0|Math.max(R[G][x],.9*P[G][x])}},this.VBR_new_prepare=function(D,c,R,P,G,x){var a=D.internal_flags,s=1,i=0,f=0,p;if(D.free_format){a.bitrate_index=0;var C=new MeanBits(i);p=y.ResvFrameBegin(D,C),i=C.bits,G[0]=p}else{a.bitrate_index=a.VBR_max_bitrate;var C=new MeanBits(i);y.ResvFrameBegin(D,C),i=C.bits,get_framebits(D,G),p=G[a.VBR_max_bitrate]}for(var N=0;N<a.mode_gr;N++){O.on_pe(D,c,x[N],i,N,0),a.mode_ext==b.MPG_MD_MS_LR&&ms_convert(a.l3_side,N);for(var T=0;T<a.channels_out;++T){var Q=a.l3_side.tt[N][T];a.masking_lower=Math.pow(10,a.PSY.mask_adjust*.1),init_outer_loop(a,Q),O.calc_xmin(D,R[N][T],Q,P[N][T])!=0&&(s=0),f+=x[N][T]}}for(var N=0;N<a.mode_gr;N++)for(var T=0;T<a.channels_out;T++)f>p&&(x[N][T]*=p,x[N][T]/=f);return s},this.calc_target_bits=function(D,c,R,P,G,x){var a=D.internal_flags,s=a.l3_side,i,f,p,C,N=0;a.bitrate_index=a.VBR_max_bitrate;var T=new MeanBits(N);for(x[0]=y.ResvFrameBegin(D,T),N=T.bits,a.bitrate_index=1,N=$.getframebits(D)-a.sideinfo_len*8,G[0]=N/(a.mode_gr*a.channels_out),N=D.VBR_mean_bitrate_kbps*D.framesize*1e3,(a.substep_shaping&1)!=0&&(N*=1.09),N/=D.out_samplerate,N-=a.sideinfo_len*8,N/=a.mode_gr*a.channels_out,i=.93+.07*(11-D.compression_ratio)/(11-5.5),i<.9&&(i=.9),i>1&&(i=1),f=0;f<a.mode_gr;f++){var Q=0;for(p=0;p<a.channels_out;p++){if(P[f][p]=int(i*N),c[f][p]>700){var z=int((c[f][p]-700)/1.4),be=s.tt[f][p];P[f][p]=int(i*N),be.block_type==b.SHORT_TYPE&&z<N/2&&(z=N/2),z>N*3/2?z=N*3/2:z<0&&(z=0),P[f][p]+=z}P[f][p]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(P[f][p]=LameInternalFlags.MAX_BITS_PER_CHANNEL),Q+=P[f][p]}if(Q>LameInternalFlags.MAX_BITS_PER_GRANULE)for(p=0;p<a.channels_out;++p)P[f][p]*=LameInternalFlags.MAX_BITS_PER_GRANULE,P[f][p]/=Q}if(a.mode_ext==b.MPG_MD_MS_LR)for(f=0;f<a.mode_gr;f++)O.reduce_side(P[f],R[f],N*a.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(C=0,f=0;f<a.mode_gr;f++)for(p=0;p<a.channels_out;p++)P[f][p]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(P[f][p]=LameInternalFlags.MAX_BITS_PER_CHANNEL),C+=P[f][p];if(C>x[0])for(f=0;f<a.mode_gr;f++)for(p=0;p<a.channels_out;p++)P[f][p]*=x[0],P[f][p]/=C}}return Ta=W,Ta}var Ba,E1;function Vo(){if(E1)return Ba;E1=1;var e=o0(),t=e.assert;function r(){var n;this.setModules=function(o){n=o},this.ResvFrameBegin=function(o,u){var v=o.internal_flags,m,d=v.l3_side,L=n.getframebits(o);u.bits=(L-v.sideinfo_len*8)/v.mode_gr;var b=8*256*v.mode_gr-8;o.brate>320?m=8*int(o.brate*1e3/(o.out_samplerate/1152)/8+.5):(m=8*1440,o.strict_ISO&&(m=8*int(32e4/(o.out_samplerate/1152)/8+.5))),v.ResvMax=m-L,v.ResvMax>b&&(v.ResvMax=b),(v.ResvMax<0||o.disable_reservoir)&&(v.ResvMax=0);var S=u.bits*v.mode_gr+Math.min(v.ResvSize,v.ResvMax);return S>m&&(S=m),t(v.ResvMax%8==0),t(v.ResvMax>=0),d.resvDrain_pre=0,v.pinfo!=null&&(v.pinfo.mean_bits=u.bits/2,v.pinfo.resvsize=v.ResvSize),S},this.ResvMaxBits=function(o,u,v,m){var d=o.internal_flags,L,b=d.ResvSize,S=d.ResvMax;m!=0&&(b+=u),(d.substep_shaping&1)!=0&&(S*=.9),v.bits=u,b*10>S*9?(L=b-S*9/10,v.bits+=L,d.substep_shaping|=128):(L=0,d.substep_shaping&=127,!o.disable_reservoir&&(d.substep_shaping&1)==0&&(v.bits-=.1*u));var I=b<d.ResvMax*6/10?b:d.ResvMax*6/10;return I-=L,I<0&&(I=0),I},this.ResvAdjust=function(o,u){o.ResvSize-=u.part2_3_length+u.part2_length},this.ResvFrameEnd=function(o,u){var v,m=o.l3_side;o.ResvSize+=u*o.mode_gr;var d=0;m.resvDrain_post=0,m.resvDrain_pre=0,(v=o.ResvSize%8)!=0&&(d+=v),v=o.ResvSize-d-o.ResvMax,v>0&&(t(v%8==0),t(v>=0),d+=v);{var L=Math.min(m.main_data_begin*8,d)/8;m.resvDrain_pre+=8*L,d-=8*L,o.ResvSize-=8*L,m.main_data_begin-=L}m.resvDrain_post+=d,o.ResvSize-=d}}return Ba=r,Ba}var Ia,T1;function Ho(){if(T1)return Ia;T1=1;function e(){var t="http://www.mp3dev.org/",r=3,n=98,o=4,u=0,v=93;this.getLameVersion=function(){return r+"."+n+"."+o},this.getLameShortVersion=function(){return r+"."+n+"."+o},this.getLameVeryShortVersion=function(){return"LAME"+r+"."+n+"r"},this.getPsyVersion=function(){return u+"."+v},this.getLameUrl=function(){return t},this.getLameOsBitness=function(){return"32bits"}}return Ia=e,Ia}var Ca,B1;function ko(){if(B1)return Ca;B1=1;var e=o0(),t=e.System,r=e.VbrMode;e.Float;var n=e.ShortBlock;e.Util;var o=e.Arrays;e.new_array_n;var u=e.new_byte;e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n;var v=e.assert;m.NUMTOCENTRIES=100,m.MAXFRAMESIZE=2880;function m(){var d,L,b;this.setModules=function(a,s,i){d=a,L=s,b=i};var S=1,I=2,W=4,$=8,y=m.NUMTOCENTRIES,O=m.MAXFRAMESIZE,A=y+4+4+4+4+4,X=A+9+1+1+8+1+1+3+1+1+2+4+2+2,l=128,k=64,V=32,ae=null,Z="Xing",K="Info",ve=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function Ae(a,s){if(a.nVbrNumFrames++,a.sum+=s,a.seen++,!(a.seen<a.want)&&(a.pos<a.size&&(a.bag[a.pos]=a.sum,a.pos++,a.seen=0),a.pos==a.size)){for(var i=1;i<a.size;i+=2)a.bag[i/2]=a.bag[i];a.want*=2,a.pos/=2}}function ee(a,s){if(!(a.pos<=0))for(var i=1;i<y;++i){var f=i/y,p,C,N=0|Math.floor(f*a.pos);N>a.pos-1&&(N=a.pos-1),p=a.bag[N],C=a.sum;var T=0|256*p/C;T>255&&(T=255),s[i]=255&T}}this.addVbrFrame=function(a){var s=a.internal_flags,i=Tables.bitrate_table[a.version][s.bitrate_index];v(s.VBR_seek_table.bag!=null),Ae(s.VBR_seek_table,i)};function B(a,s){var i=a[s+0]&255;return i<<=8,i|=a[s+1]&255,i<<=8,i|=a[s+2]&255,i<<=8,i|=a[s+3]&255,i}function Ne(a,s,i){a[s+0]=255&(i>>24&255),a[s+1]=255&(i>>16&255),a[s+2]=255&(i>>8&255),a[s+3]=255&(i&255)}function j(a,s,i){a[s+0]=255&(i>>8&255),a[s+1]=255&(i&255)}function D(a,s){return new String(a,s,Z.length(),ae).equals(Z)||new String(a,s,K.length(),ae).equals(K)}function c(a,s,i){return 255&(a<<s|i&~(-1<<s))}function R(a,s){var i=a.internal_flags;s[0]=c(s[0],8,255),s[1]=c(s[1],3,7),s[1]=c(s[1],1,a.out_samplerate<16e3?0:1),s[1]=c(s[1],1,a.version),s[1]=c(s[1],2,1),s[1]=c(s[1],1,a.error_protection?0:1),s[2]=c(s[2],4,i.bitrate_index),s[2]=c(s[2],2,i.samplerate_index),s[2]=c(s[2],1,0),s[2]=c(s[2],1,a.extension),s[3]=c(s[3],2,a.mode.ordinal()),s[3]=c(s[3],2,i.mode_ext),s[3]=c(s[3],1,a.copyright),s[3]=c(s[3],1,a.original),s[3]=c(s[3],2,a.emphasis),s[0]=255;var f=255&(s[1]&241),p;a.version==1?p=l:a.out_samplerate<16e3?p=V:p=k,a.VBR==r.vbr_off&&(p=a.brate);var C;a.free_format?C=0:C=255&16*d.BitrateIndex(p,a.version,a.out_samplerate),a.version==1?(s[1]=255&(f|10),f=255&(s[2]&13),s[2]=255&(C|f)):(s[1]=255&(f|2),f=255&(s[2]&13),s[2]=255&(C|f))}this.getVbrTag=function(a){var s=new VBRTagData,i=0;s.flags=0;var f=a[i+1]>>3&1,p=a[i+2]>>2&3,C=a[i+3]>>6&3,N=a[i+2]>>4&15;if(N=Tables.bitrate_table[f][N],a[i+1]>>4==14?s.samprate=Tables.samplerate_table[2][p]:s.samprate=Tables.samplerate_table[f][p],f!=0?C!=3?i+=36:i+=21:C!=3?i+=21:i+=13,!D(a,i))return null;i+=4,s.hId=f;var T=s.flags=B(a,i);if(i+=4,(T&S)!=0&&(s.frames=B(a,i),i+=4),(T&I)!=0&&(s.bytes=B(a,i),i+=4),(T&W)!=0){if(s.toc!=null)for(var Q=0;Q<y;Q++)s.toc[Q]=a[i+Q];i+=y}s.vbrScale=-1,(T&$)!=0&&(s.vbrScale=B(a,i),i+=4),s.headersize=(f+1)*72e3*N/s.samprate,i+=21;var z=a[i+0]<<4;z+=a[i+1]>>4;var be=(a[i+1]&15)<<8;return be+=a[i+2]&255,(z<0||z>3e3)&&(z=-1),(be<0||be>3e3)&&(be=-1),s.encDelay=z,s.encPadding=be,s},this.InitVbrTag=function(a){var s=a.internal_flags,i;a.version==1?i=l:a.out_samplerate<16e3?i=V:i=k,a.VBR==r.vbr_off&&(i=a.brate);var f=(a.version+1)*72e3*i/a.out_samplerate,p=s.sideinfo_len+X;if(s.VBR_seek_table.TotalFrameSize=f,f<p||f>O){a.bWriteVbrTag=!1;return}s.VBR_seek_table.nVbrNumFrames=0,s.VBR_seek_table.nBytesWritten=0,s.VBR_seek_table.sum=0,s.VBR_seek_table.seen=0,s.VBR_seek_table.want=1,s.VBR_seek_table.pos=0,s.VBR_seek_table.bag==null&&(s.VBR_seek_table.bag=new int[400],s.VBR_seek_table.size=400);var C=u(O);R(a,C);for(var N=s.VBR_seek_table.TotalFrameSize,T=0;T<N;++T)L.add_dummy_byte(a,C[T]&255,1)};function P(a,s){var i=s^a;return s=s>>8^ve[i&255],s}this.updateMusicCRC=function(a,s,i,f){for(var p=0;p<f;++p)a[0]=P(s[i+p],a[0])};function G(a,s,i,f,p){var C=a.internal_flags,N=0,T=a.encoder_delay,Q=a.encoder_padding,z=100-10*a.VBR_q-a.quality,be=b.getLameVeryShortVersion(),w,F=0,U,ne=[1,5,3,2,4,0,3],oe=0|(a.lowpassfreq/100+.5>255?255:a.lowpassfreq/100+.5),me=0,_=0,h=0,ie=a.internal_flags.noise_shaping,te=0,we=0,he=0,pe=0,xe=0,Ce=(a.exp_nspsytune&1)!=0,Ee=(a.exp_nspsytune&2)!=0,Se=!1,qe=!1,Qe=a.internal_flags.nogap_total,ce=a.internal_flags.nogap_current,de=a.ATHtype,Te=0,Ve;switch(a.VBR){case vbr_abr:Ve=a.VBR_mean_bitrate_kbps;break;case vbr_off:Ve=a.brate;break;default:Ve=a.VBR_min_bitrate_kbps}switch(a.VBR.ordinal()<ne.length?w=ne[a.VBR.ordinal()]:w=0,U=16*F+w,C.findReplayGain&&(C.RadioGain>510&&(C.RadioGain=510),C.RadioGain<-510&&(C.RadioGain=-510),_=8192,_|=3072,C.RadioGain>=0?_|=C.RadioGain:(_|=512,_|=-C.RadioGain)),C.findPeakSample&&(me=Math.abs(0|C.PeakSample/32767*Math.pow(2,23)+.5)),Qe!=-1&&(ce>0&&(qe=!0),ce<Qe-1&&(Se=!0)),Te=de+((Ce?1:0)<<4)+((Ee?1:0)<<5)+((Se?1:0)<<6)+((qe?1:0)<<7),z<0&&(z=0),a.mode){case MONO:te=0;break;case STEREO:te=1;break;case DUAL_CHANNEL:te=2;break;case JOINT_STEREO:a.force_ms?te=4:te=3;break;case NOT_SET:default:te=7;break}a.in_samplerate<=32e3?he=0:a.in_samplerate==48e3?he=2:a.in_samplerate>48e3?he=3:he=1,(a.short_blocks==n.short_block_forced||a.short_blocks==n.short_block_dispensed||a.lowpassfreq==-1&&a.highpassfreq==-1||a.scale_left<a.scale_right||a.scale_left>a.scale_right||a.disable_reservoir&&a.brate<320||a.noATH||a.ATHonly||de==0||a.in_samplerate<=32e3)&&(we=1),pe=ie+(te<<2)+(we<<5)+(he<<6),xe=C.nMusicCRC,Ne(i,f+N,z),N+=4;for(var Le=0;Le<9;Le++)i[f+N+Le]=255&be.charAt(Le);N+=9,i[f+N]=255&U,N++,i[f+N]=255&oe,N++,Ne(i,f+N,me),N+=4,j(i,f+N,_),N+=2,j(i,f+N,h),N+=2,i[f+N]=255&Te,N++,Ve>=255?i[f+N]=255:i[f+N]=255&Ve,N++,i[f+N]=255&T>>4,i[f+N+1]=255&(T<<4)+(Q>>8),i[f+N+2]=255&Q,N+=3,i[f+N]=255&pe,N++,i[f+N++]=0,j(i,f+N,a.preset),N+=2,Ne(i,f+N,s),N+=4,j(i,f+N,xe),N+=2;for(var Oe=0;Oe<N;Oe++)p=P(i[f+Oe],p);return j(i,f+N,p),N+=2,N}function x(a){a.seek(0);var s=u(10);a.readFully(s);var i;return new String(s,"ISO-8859-1").startsWith("ID3")?i=0:i=((s[6]&127)<<21|(s[7]&127)<<14|(s[8]&127)<<7|s[9]&127)+s.length,i}this.getLameTagFrame=function(a,s){var i=a.internal_flags;if(!a.bWriteVbrTag||i.Class_ID!=Lame.LAME_ID||i.VBR_seek_table.pos<=0)return 0;if(s.length<i.VBR_seek_table.TotalFrameSize)return i.VBR_seek_table.TotalFrameSize;o.fill(s,0,i.VBR_seek_table.TotalFrameSize,0),R(a,s);var f=u(y);if(a.free_format)for(var p=1;p<y;++p)f[p]=255&255*p/100;else ee(i.VBR_seek_table,f);var C=i.sideinfo_len;a.error_protection&&(C-=2),a.VBR==r.vbr_off?(s[C++]=255&K.charAt(0),s[C++]=255&K.charAt(1),s[C++]=255&K.charAt(2),s[C++]=255&K.charAt(3)):(s[C++]=255&Z.charAt(0),s[C++]=255&Z.charAt(1),s[C++]=255&Z.charAt(2),s[C++]=255&Z.charAt(3)),Ne(s,C,S+I+W+$),C+=4,Ne(s,C,i.VBR_seek_table.nVbrNumFrames),C+=4;var N=i.VBR_seek_table.nBytesWritten+i.VBR_seek_table.TotalFrameSize;Ne(s,C,0|N),C+=4,t.arraycopy(f,0,s,C,f.length),C+=f.length,a.error_protection&&L.CRC_writeheader(i,s);for(var T=0,p=0;p<C;p++)T=P(s[p],T);return C+=G(a,N,s,C,T),i.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(a,s){var i=a.internal_flags;if(i.VBR_seek_table.pos<=0||(s.seek(s.length()),s.length()==0))return-1;var f=x(s);s.seek(f);var p=u(O),C=getLameTagFrame(a,p);return C>p.length?-1:(C<1||s.write(p,0,C),0)}}return Ca=m,Ca}var I1;function Po(){if(I1)return nr;I1=1;var e=o0();e.System,e.VbrMode,e.Float,e.ShortBlock,e.Util,e.Arrays,e.new_array_n;var t=e.new_byte;e.new_double,e.new_float,e.new_float_n,e.new_int,e.new_int_n;var r=e.assert,n=Ks(),o=Co(),u=Xs(),v=Ys(),m=Fo(),d=Us(),L=Vo(),b=ln(),S=un();m0();var I=Ho(),W=ko();function $(){this.setModules=function(V,ae){}}function y(){this.setModules=function(V,ae,Z){}}function O(){}function A(){this.setModules=function(V,ae){}}function X(V,ae,Z){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),V=1,ae=44100,Z=128);var K=new n,ve=new $,Ae=new u,ee=new S,B=new o,Ne=new v,j=new m,D=new W,c=new I,R=new A,P=new L,G=new d,x=new y,a=new O;K.setModules(Ae,ee,B,Ne,j,D,c,R,a),ee.setModules(Ae,a,c,D),R.setModules(ee,c),B.setModules(K),j.setModules(ee,P,Ne,G),Ne.setModules(G,P,K.enc.psy),P.setModules(ee),G.setModules(Ne),D.setModules(K,ee,c),ve.setModules(x,a),x.setModules(c,R,B);var s=K.lame_init();s.num_channels=V,s.in_samplerate=ae,s.brate=Z,s.mode=b.STEREO,s.quality=3,s.bWriteVbrTag=!1,s.disable_reservoir=!0,s.write_id3tag_automatic=!1;var i=K.lame_init_params(s);r(i==0);var f=1152,p=0|1.25*f+7200,C=t(p);this.encodeBuffer=function(N,T){V==1&&(T=N),r(N.length==T.length),N.length>f&&(f=N.length,p=0|1.25*f+7200,C=t(p));var Q=K.lame_encode_buffer(s,N,T,N.length,C,0,p);return new Int8Array(C.subarray(0,Q))},this.flush=function(){var N=K.lame_encode_flush(s,C,0,p);return new Int8Array(C.subarray(0,N))}}function l(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function k(V){return V.charCodeAt(0)<<24|V.charCodeAt(1)<<16|V.charCodeAt(2)<<8|V.charCodeAt(3)}return l.RIFF=k("RIFF"),l.WAVE=k("WAVE"),l.fmt_=k("fmt "),l.data=k("data"),l.readHeader=function(V){var ae=new l,Z=V.getUint32(0,!1);if(l.RIFF==Z&&(V.getUint32(4,!0),l.WAVE==V.getUint32(8,!1)&&l.fmt_==V.getUint32(12,!1))){var K=V.getUint32(16,!0),ve=20;switch(K){case 16:case 18:ae.channels=V.getUint16(ve+2,!0),ae.sampleRate=V.getUint32(ve+4,!0);break;default:throw"extended fmt chunk not implemented"}ve+=K;for(var Ae=l.data,ee=0;Ae!=Z&&(Z=V.getUint32(ve,!1),ee=V.getUint32(ve+4,!0),Ae!=Z);)ve+=ee+8;return ae.dataLen=ee,ae.dataOffset=ve+8,ae}},nr.Mp3Encoder=X,nr.WavHeader=l,nr}var Do=Po();const qo=Tr(Do);var Xo=ln();const Go=Tr(Xo);var Yo=Ks();const Uo=Tr(Yo);var Ko=un();const jo=Tr(Ko),js=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r},Wo={class:"channel"},Zo={key:0,class:"control-bar"},Qo={class:"left-wrapper"},$o={class:"audio-info"},zo={class:"center-wrapper"},go={key:0,class:"play",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},Jo={key:1,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e2={class:"right-wrapper"},t2={class:"button-wrap"},r2={class:"volume-wrap"},a2={class:"add-audio-label"},n2={class:"trim-timer"},s2={class:"trim-timer"},i2={class:"trim-timer"},l2={__name:"AudioChannel",emits:["file-added"],setup(e,{emit:t}){window.MPEGMode=Go,window.Lame=Uo,window.BitStream=jo;const r=t,n=r0(null),o=r0(null),u=r0(null),v=r0(null),m=new AudioContext,d=r0(null),L=r0(null),b=r0(!0),S=r0(!1),I=r0(!1),W=r0(null),$=r0(0),y=r0(0),O=r0(0),A=r0(1),X=r0(!1),l=r0(0),k=r0(0),V=r0(null),ae=r0(!1),Z=r0(0),K=r0(!1),ve=r0(0),Ae=r0(!1),ee=r0(0),B=r0(0);let Ne=null,j=null,D=null;async function c(ce){const de=await ce.arrayBuffer();return await m.decodeAudioData(de)}function R(ce,de=500,Te,Ve){const Oe=ce.getChannelData(0).slice(Te,Ve),Xe=Math.floor(Oe.length/de),Ye=[];for(let ze=0;ze<de;ze++){let $e=0;const R0=ze*Xe;for(let j0=0;j0<Xe;j0++){const N0=Oe[R0+j0];$e+=N0*N0}const y0=Math.sqrt($e/Xe);Ye.push(y0)}return Ye}function P(ce,de=1){return ce.map((Te,Ve)=>{let Le=0,Oe=0;for(let Xe=-de;Xe<=de;Xe++){const Ye=Ve+Xe;Ye>=0&&Ye<ce.length&&(Le+=ce[Ye],Oe++)}return Le/Oe})}function G(ce){const de=Math.max(...ce);return ce.map(Te=>Te/de)}function x(ce){const de=window.devicePixelRatio||1,Te=ce.getBoundingClientRect();ce.width=Te.width*de,ce.height=Te.height*de;const Ve=ce.getContext("2d");return Ve.scale(de,de),Ve}function a(ce,de){const Te=x(ce),Ve=ce.width,Le=ce.height;Te.clearRect(0,0,Ve,Le),Te.beginPath(),Te.moveTo(0,Le);const Oe=Ve/de.length;de.forEach((Xe,Ye)=>{const ze=Xe*Le,$e=Ye*Oe,R0=Le-ze;Te.lineTo($e,R0)}),Te.lineTo(Ve,Le),Te.closePath(),Te.fillStyle="#0da90d",Te.fill(),s(Te,Ve,Le)}function s(ce,de,Te){ce.font="10px Arial",ce.textAlign="center",ce.textBaseline="top",ce.fillStyle="white",ce.lineStyle="white";let Oe=-50;for(let Xe=0;Xe<=y.value;Xe+=1){const Ye=Xe/y.value*de;Oe+50<=Ye&&(ce.strokeStyle="rgba(255,255,255,0.8)",ce.lineWidth=1,ce.beginPath(),ce.moveTo(Ye,Te-7),ce.lineTo(Ye,Te),ce.stroke(),ce.strokeStyle="black",ce.lineWidth=2,ce.strokeText(Xe,Ye+2,Te-18),ce.fillText(Xe,Ye+2,Te-18),Oe=Ye)}}async function i(ce){const de=ce.target.files[0];if(n.value=de,!de)return;b.value=!1,I.value=!0,W.value=de.name;const Te=URL.createObjectURL(de);o.value.src=Te,o.value.load();const Ve=await c(de),Le=R(Ve,600,0,Ve.length),Oe=G(Le),Xe=P(Oe);L.value=Ve,a(u.value,Xe),ie(),r("file-added",de)}function f(ce){d.value.gain.value=Number(ce.target.value)}function p(){S.value?(o.value.pause(),S.value=!1):(o.value.play(),_(),S.value=!0)}function C(){const ce=o.value,de=v.value;!ce||!de||ce.paused||($.value=(ce.currentTime-ee.value)/y.value*de.clientWidth,Ne=requestAnimationFrame(C))}function N(){o.value&&(O.value=o.value.currentTime-ee.value,Ne=requestAnimationFrame(N))}function T(){cancelAnimationFrame(Ne),Ne=requestAnimationFrame(C),cancelAnimationFrame(j),j=requestAnimationFrame(N)}function Q(){cancelAnimationFrame(Ne),cancelAnimationFrame(j)}function z(ce){if(!I.value||ae.value)return;const de=o.value,Te=v.value,Ve=Te.getBoundingClientRect();let Oe=(ce.clientX-Ve.left)/Ve.width;const Xe=Ce.value/100,Ye=Ee.value/100;Oe=Math.min(Math.max(Oe,Xe),Ye),de.currentTime=ee.value+Oe*y.value,$.value=(de.currentTime-ee.value)/y.value*Te.clientWidth,O.value=de.currentTime-ee.value}function be(ce){const de=u.value.getBoundingClientRect(),Te=ce.clientX-de.left;Z.value=Te,K.value=!0;const Ve=Te/de.width;ve.value=Ve*y.value}function w(){K.value=!1}function F(ce){y.value=ce.target.duration,k.value=y.value,B.value=y.value}function U(ce){if(ce=Number(ce),ce>=0){const de=Math.floor(ce/60),Te=Math.floor(ce%60),Ve=Math.floor(ce%1*10);return`${de}:${Te.toString().padStart(2,"0")}.${Ve}`}else return"0:00.0"}function ne(ce){V.value=ce,ae.value=!0,window.addEventListener("mousemove",oe),window.addEventListener("mouseup",me)}function oe(ce){if(!V.value)return;const de=v.value,Te=de.getBoundingClientRect();let Ve=(ce.clientX-Te.left)/Te.width;Ve=Math.min(Math.max(0,Ve),1);const Le=Ve*y.value;V.value==="start"&&(l.value=Math.min(Le,k.value-.1),l.value>O.value&&(o.value.currentTime=l.value,O.value=l.value,$.value=O.value/y.value*de.clientWidth)),V.value==="end"&&(k.value=Math.max(Le,l.value+.1),k.value<O.value&&(O.value=k.value,$.value=$.value=O.value/y.value*de.clientWidth))}function me(){V.value=null,window.removeEventListener("mousemove",oe),window.removeEventListener("mouseup",me),setTimeout(()=>{ae.value=!1},5)}function _(){const ce=o.value;if(ce){if(ce.currentTime>=k.value+ee.value)if(X.value)ce.currentTime=l.value+ee.value;else{ce.pause(),ce.currentTime=l.value+ee.value,$.value=(ce.currentTime-ee.value)/y.value*v.value.clientWidth,O.value=0,S.value=!1,cancelAnimationFrame(D);return}D=requestAnimationFrame(_)}}async function h(){ee.value=l.value,B.value=k.value,y.value=B.value-ee.value,te(l.value,k.value),o.value.currentTime=ee.value,$.value=0,O.value=0,l.value=0,k.value=y.value}function ie(){const ce=new AudioContext,de=ce.createMediaElementSource(o.value);d.value=ce.createGain(),de.connect(d.value),d.value.connect(ce.destination)}function te(ce,de){if(!L.value)return;const Te=L.value.sampleRate,Ve=Math.floor(ce*Te),Le=Math.floor(de*Te),Oe=R(L.value,600,Ve,Le),Xe=G(Oe),Ye=P(Xe);a(u.value,Ye)}function we(ce){const de=he();let Te=null,Ve=null;switch(ce){case"wav":Te=pe(de),Ve=W.value.replace(/\.[^/.]+$/,"")+"-edit.wav";break;case"mp3":Te=xe(de),Ve=W.value.replace(/\.[^/.]+$/,"")+".mp3";break}const Le=URL.createObjectURL(Te),Oe=document.createElement("a");Oe.href=Le,Oe.download=Ve,Oe.click(),URL.revokeObjectURL(Le)}function he(){const ce=L.value.sampleRate,de=Math.floor(ee.value*ce),Ve=Math.floor(B.value*ce)-de,Le=m.createBuffer(L.value.numberOfChannels,Ve,ce);for(let Oe=0;Oe<L.value.numberOfChannels;Oe++){const Xe=L.value.getChannelData(Oe),Ye=Le.getChannelData(Oe);for(let ze=0;ze<Ve;ze++){const $e=Xe[de+ze]*A.value;Ye[ze]=Math.max(-1,Math.min(1,$e))}}return Le}function pe(ce){const de=ce.numberOfChannels,Te=ce.sampleRate,Ve=ce.length*de*2+44,Le=new DataView(new ArrayBuffer(Ve));let Oe=0;function Xe(Ye){for(let ze=0;ze<Ye.length;ze++)Le.setUint8(Oe++,Ye.charCodeAt(ze))}Xe("RIFF"),Le.setUint32(Oe,Ve-8,!0),Oe+=4,Xe("WAVE"),Xe("fmt "),Le.setUint32(Oe,16,!0),Oe+=4,Le.setUint16(Oe,1,!0),Oe+=2,Le.setUint16(Oe,de,!0),Oe+=2,Le.setUint32(Oe,Te,!0),Oe+=4,Le.setUint32(Oe,Te*de*2,!0),Oe+=4,Le.setUint16(Oe,de*2,!0),Oe+=2,Le.setUint16(Oe,16,!0),Oe+=2,Xe("data"),Le.setUint32(Oe,ce.length*de*2,!0),Oe+=4;for(let Ye=0;Ye<ce.length;Ye++)for(let ze=0;ze<de;ze++){let $e=ce.getChannelData(ze)[Ye];$e=Math.max(-1,Math.min(1,$e)),Le.setInt16(Oe,$e*32767,!0),Oe+=2}return new Blob([Le],{type:"audio/wav"})}function xe(ce,de=128){ce.numberOfChannels;const Te=ce.sampleRate,Ve=ce.getChannelData(0),Le=new Int16Array(Ve.length);for(let $e=0;$e<Ve.length;$e++){const R0=Math.max(-1,Math.min(1,Ve[$e]));Le[$e]=R0*32767}const Oe=new qo.Mp3Encoder(1,Te,de),Xe=1152,Ye=[];for(let $e=0;$e<Le.length;$e+=Xe){const R0=Le.subarray($e,$e+Xe),y0=Oe.encodeBuffer(R0);y0.length&&Ye.push(y0)}const ze=Oe.flush();return ze.length&&Ye.push(ze),new Blob(Ye,{type:"audio/mp3"})}const Ce=yt(()=>l.value/y.value*100),Ee=yt(()=>k.value/y.value*100),Se=yt(()=>Math.round(A.value*100)+"%"),qe=yt(()=>I.value&&K.value&&!V.value&&!Ae.value&&ve.value>l.value&&ve.value<k.value);let Qe;return cs(()=>{Qe=new ResizeObserver(()=>{te(ee.value,B.value)}),Qe.observe(u.value)}),vs(()=>{Qe.disconnect()}),(ce,de)=>(I0(),H0("div",Wo,[I.value?(I0(),H0("div",Zo,[Ke("div",Qo,[Ke("div",$o,[Ke("div",null,at(W.value),1),Ke("div",null,at(U(y.value)),1)])]),Ke("div",zo,[Ke("span",null,at(U(O.value)),1),Ke("div",{class:"play-audio-wrapper",onClick:p},[S.value?(I0(),H0("svg",Jo,[...de[11]||(de[11]=[Ke("path",{d:"M4.694 1.758A0.787 0.787 0 0 0 3.906 2.545v14.909A0.787 0.787 0 0 0 4.694 18.242h2.566A0.787 0.787 0 0 0 8.047 17.455V2.545A0.787 0.787 0 0 0 7.259 1.758zm8.047 0A0.787 0.787 0 0 0 11.953 2.545v14.909A0.787 0.787 0 0 0 12.741 18.242h2.566A0.787 0.787 0 0 0 16.094 17.455V2.545A0.787 0.787 0 0 0 15.306 1.758z"},null,-1)])])):(I0(),H0("svg",go,[...de[10]||(de[10]=[Ke("path",{d:"M5.716 49.715a2.272 2.272 0 0 0 2.306 -0.061l36.364 -22.727a2.273 2.273 0 0 0 0 -3.855L8.023 0.345A2.273 2.273 0 0 0 4.545 2.273v45.455a2.273 2.273 0 0 0 1.171 1.988"},null,-1)])]))])]),Ke("div",e2,[Ke("div",t2,[Ke("div",{class:"square-button",onClick:de[0]||(de[0]=Te=>we("mp3")),title:"Download (.mp3)"},[...de[12]||(de[12]=[Ke("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32","enable-background":"new 0 0 32 32","xml:space":"preserve"},[Ke("line",{fill:"none",stroke:"#000000","stroke-width":"3","stroke-miterlimit":"10",x1:"25",y1:"28",x2:"7",y2:"28"}),Ke("line",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",x1:"16",y1:"23",x2:"16",y2:"4"}),Ke("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",points:"9,16 16,23 23,16 "})],-1)])]),Ke("div",{class:"square-button",onClick:de[1]||(de[1]=Te=>we("wav")),title:"Download (.wav)"},[...de[13]||(de[13]=[Ke("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32","enable-background":"new 0 0 32 32","xml:space":"preserve"},[Ke("line",{fill:"none",stroke:"#000000","stroke-width":"3","stroke-miterlimit":"10",x1:"25",y1:"28",x2:"7",y2:"28"}),Ke("line",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",x1:"16",y1:"23",x2:"16",y2:"4"}),Ke("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-miterlimit":"10",points:"9,16 16,23 23,16 "})],-1)])]),Ke("div",{class:"square-button",onClick:h,title:"Cut"},[...de[14]||(de[14]=[Ke("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 512 372"},[Ke("path",{d:"M54.5 1.6C33.9 6.2 18.1 17.5 11.6 32.3c-5.8 13.1-5.6 25.3.9 38.2 4.4 9 10 15.4 18.6 21.5 7.7 5.4 13.4 7.6 53 20.4 20.8 6.8 30 10.4 41.5 16.1 19.7 9.9 29.9 17.4 47.7 35.3l14.8 14.8-12.5 12.2c-19.4 18.8-34.3 29.1-55.9 38.2-6.2 2.6-25.9 9.5-43.8 15.4-33.6 11-37.6 12.8-47.6 21.4-22.5 19.2-23.4 51.8-1.9 70.8C33 342.4 45.2 348.4 56 351c16.8 4 39.8 2.2 56-4.4 25.3-10.3 40.7-32.8 36-52.7-3-12.9-9.1-22.3-18.8-29.1-2.4-1.6-4.1-3.5-4-4 .7-2 13.1-8.3 37.8-19.2 13.5-5.9 34.1-15.7 45.8-21.6l21.3-10.9 70.2 39.8c38.6 21.8 78 44.1 87.5 49.5 28.3 16 39.2 19.1 64.5 18.3 11-.3 18.3-1 22.7-2.2 8.6-2.3 23.2-8.5 22.8-9.7-.2-.5-48.4-29.2-107.1-63.6C332 206.7 284 178.3 284 178s46-27.6 102.3-60.7c56.2-33.2 105-61.9 108.5-64 3.4-2 6.2-4 6.2-4.3 0-.7-10.2-5.9-15.5-7.8-19-7-42.7-6.5-66.6 1.4-12.2 4.1-15.4 5.8-127 68.7L230.4 146l-24.5-12.3c-13.4-6.7-33.4-16.2-44.4-21.1-21.9-9.7-30-13.6-35.7-17.2l-3.7-2.4 7.9-7.8c15.7-15.5 19.7-33 11.5-49.8C134.2 20.5 117.6 8 98.4 2.9 87.7.1 64.5-.6 54.5 1.6M81.2 24c9.8 1.4 17 4.5 22.9 9.8 17.2 15.4 11.4 41.3-10.9 48.2-7 2.2-17 2.6-24.1.9-11.6-2.6-23.9-11.7-28.9-21.4-6.6-12.7-.7-27.6 13.5-34.2 8.8-4.1 16.1-4.9 27.5-3.3m17 247.5c6.3 2.2 13.6 8.8 16.4 15 2.7 5.7 3.2 14.2 1.2 20.8-1.5 5.1-9.2 13.5-15.6 17-10.6 5.8-29.1 7.3-40.1 3.3-10.6-3.9-19.1-13.8-19.9-23.1-1.1-13.7 12.8-28.9 31.1-34 6.5-1.9 20.3-1.3 26.9 1"})],-1)])]),Ke("div",{class:xr(["square-button",{"active-square-button":X.value}]),onClick:de[2]||(de[2]=Te=>X.value=!X.value),title:"Loop"},[...de[15]||(de[15]=[Ke("svg",{width:"20px",height:"20px",viewBox:"-24 0 512 512",xmlns:"http://www.w3.org/2000/svg"},[Ke("path",{d:"M232 448Q186 448 148 425 109 402 87 363 64 324 64 278L64 256 112 256 112 280Q112 331 147 366 182 400 233 400 265 400 293 384 320 367 336 340 352 313 352 281 352 230 318 195 283 160 232 160L232 232 136 136 232 40 232 112Q279 112 317 134 355 157 378 196 400 234 400 280 400 327 378 364 356 403 317 426 277 448 232 448Z"})],-1)])],2)]),Ke("div",r2,[Ke("span",null,at(Se.value),1),Yr(Ke("input",{type:"range",class:"volume-control",name:"volume",min:"0",max:"2",step:"0.01","onUpdate:modelValue":de[3]||(de[3]=Te=>A.value=Te),onInput:f},null,544),[[uo,A.value]])])])])):At("",!0),Ke("div",{ref_key:"ContainerRef",ref:v,class:"audio-visual",onClick:z,onMousemove:be,onMouseleave:w},[Yr(Ke("label",a2,[de[16]||(de[16]=Ke("div",{class:"circle"},"+",-1)),Ke("input",{type:"file",accept:"audio/*",onChange:i,hidden:""},null,32)],512),[[Vn,b.value]]),Ke("audio",{ref_key:"AudioRef",ref:o,accept:"audio/*",hidden:"",onPlay:T,onPause:Q,onLoadedmetadata:F},null,544),I.value?(I0(),H0("div",{key:0,class:"trim-overlay left",style:Q0({width:Ce.value+"%"})},null,4)):At("",!0),I.value?(I0(),H0("div",{key:1,class:"trim-handle start",style:Q0({left:Ce.value+"%"}),draggable:"false",onMousedown:de[4]||(de[4]=Wn(Te=>ne("start"),["stop"])),onMouseenter:de[5]||(de[5]=Te=>Ae.value=!0),onMouseleave:de[6]||(de[6]=Te=>Ae.value=!1)},[Ke("div",n2,at(U(l.value)),1)],36)):At("",!0),Ke("canvas",{ref_key:"CanvasRef",ref:u,class:"canvas"},null,512),Yr(Ke("div",{class:"progress-bar hover-bar",style:Q0({left:Z.value+"px"})},[Ke("div",s2,at(U(ve.value)),1)],4),[[Vn,qe.value]]),I.value?(I0(),H0("div",{key:2,class:"progress-bar",style:Q0({left:$.value+"px"})},null,4)):At("",!0),I.value?(I0(),H0("div",{key:3,class:"trim-handle end",style:Q0({left:Ee.value+"%"}),draggable:"false",onMousedown:de[7]||(de[7]=Wn(Te=>ne("end"),["stop"])),onMouseenter:de[8]||(de[8]=Te=>Ae.value=!0),onMouseleave:de[9]||(de[9]=Te=>Ae.value=!1)},[Ke("div",i2,at(U(k.value)),1)],36)):At("",!0),I.value?(I0(),H0("div",{key:4,class:"trim-overlay right",style:Q0({width:100-Ee.value+"%"})},null,4)):At("",!0)],544)]))}},o2=js(l2,[["__scopeId","data-v-e747eade"]]),_2={class:"layout-wrapper"},u2={class:"channel-wrapper"},C1=4,f2={__name:"App",setup(e){const t=r0([]);function r(o){t.value.length>=C1||t.value.push(o)}const n=yt(()=>Math.min(t.value.length+1,C1));return(o,u)=>(I0(),H0("div",_2,[u[0]||(u[0]=Ke("div",{class:"main-section"},null,-1)),Ke("div",u2,[(I0(!0),H0(k0,null,al(n.value,v=>(I0(),Os(o2,{key:v,file:t.value[v-1]||null,onFileAdded:r},null,8,["file"]))),128))])]))}},c2=js(f2,[["__scopeId","data-v-fcd4dafe"]]);mo(c2).mount("#app");
